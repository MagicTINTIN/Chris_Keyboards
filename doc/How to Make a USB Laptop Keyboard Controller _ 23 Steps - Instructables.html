<!DOCTYPE html>
<!-- saved from url=(0075)https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/ -->
<html lang="en" class=" is-desktop  cssanimations csstransitions lvpniezn idc0_350"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# ibles-production: http://ogp.me/ns/fb/ibles-production#"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" async="" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/878dffe0-a6fd-449f-b4d0-088677de3eb5.js"></script><script src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/utag.js" type="text/javascript" async=""></script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"3a6f258991","applicationID":"969032928","transactionName":"ZARRbBcCC0tSV0QIC11OdU0LABFRXFofAgtBBB1bBBcGUGxVXA1eUABHWw08BFRf","queueTime":0,"applicationTime":516,"agent":""};
(window.NREUM||(NREUM={})).init={privacy:{cookies_enabled:false},ajax:{deny_list:["bam.nr-data.net"]}};(window.NREUM||(NREUM={})).loader_config={xpid:"VgYDU1VQChAJUlhSBAMOVFw=",licenseKey:"3a6f258991",applicationID:"969032928"};;/*! For license information please see nr-loader-full-1.285.0.min.js.LICENSE.txt */
(()=>{var e,t,r={8122:(e,t,r)=>{"use strict";r.d(t,{a:()=>i});var n=r(944);function i(e,t){try{if(!e||"object"!=typeof e)return(0,n.R)(3);if(!t||"object"!=typeof t)return(0,n.R)(4);const r=Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t)),o=0===Object.keys(r).length?e:r;for(let a in o)if(void 0!==e[a])try{if(null===e[a]){r[a]=null;continue}Array.isArray(e[a])&&Array.isArray(t[a])?r[a]=Array.from(new Set([...e[a],...t[a]])):"object"==typeof e[a]&&"object"==typeof t[a]?r[a]=i(e[a],t[a]):r[a]=e[a]}catch(e){(0,n.R)(1,e)}return r}catch(e){(0,n.R)(2,e)}}},2555:(e,t,r)=>{"use strict";r.d(t,{Vp:()=>c,fn:()=>s,x1:()=>u});var n=r(384),i=r(8122);const o={beacon:n.NT.beacon,errorBeacon:n.NT.errorBeacon,licenseKey:void 0,applicationID:void 0,sa:void 0,queueTime:void 0,applicationTime:void 0,ttGuid:void 0,user:void 0,account:void 0,product:void 0,extra:void 0,jsAttributes:{},userAttributes:void 0,atts:void 0,transactionName:void 0,tNamePlain:void 0},a={};function s(e){try{const t=c(e);return!!t.licenseKey&&!!t.errorBeacon&&!!t.applicationID}catch(e){return!1}}function c(e){if(!e)throw new Error("All info objects require an agent identifier!");if(!a[e])throw new Error("Info for ".concat(e," was never set"));return a[e]}function u(e,t){if(!e)throw new Error("All info objects require an agent identifier!");a[e]=(0,i.a)(t,o);const r=(0,n.nY)(e);r&&(r.info=a[e])}},9417:(e,t,r)=>{"use strict";r.d(t,{D0:()=>h,gD:()=>p,xN:()=>g});var n=r(3333);const i=e=>{if(!e||"string"!=typeof e)return!1;try{document.createDocumentFragment().querySelector(e)}catch{return!1}return!0};var o=r(2614),a=r(944),s=r(384),c=r(8122);const u="[data-nr-mask]",d=()=>{const e={feature_flags:[],experimental:{marks:!1,measures:!1,resources:!1},mask_selector:"*",block_selector:"[data-nr-block]",mask_input_options:{color:!1,date:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:!1,search:!1,tel:!1,text:!1,time:!1,url:!1,week:!1,textarea:!1,select:!1,password:!0}};return{ajax:{deny_list:void 0,block_internal:!0,enabled:!0,autoStart:!0},distributed_tracing:{enabled:void 0,exclude_newrelic_header:void 0,cors_use_newrelic_header:void 0,cors_use_tracecontext_headers:void 0,allowed_origins:void 0},get feature_flags(){return e.feature_flags},set feature_flags(t){e.feature_flags=t},generic_events:{enabled:!0,autoStart:!0},harvest:{interval:30},jserrors:{enabled:!0,autoStart:!0},logging:{enabled:!0,autoStart:!0},metrics:{enabled:!0,autoStart:!0},obfuscate:void 0,page_action:{enabled:!0},page_view_event:{enabled:!0,autoStart:!0},page_view_timing:{enabled:!0,autoStart:!0},performance:{get capture_marks(){return e.feature_flags.includes(n.$v.MARKS)||e.experimental.marks},set capture_marks(t){e.experimental.marks=t},get capture_measures(){return e.feature_flags.includes(n.$v.MEASURES)||e.experimental.measures},set capture_measures(t){e.experimental.measures=t},capture_detail:!0,resources:{get enabled(){return e.feature_flags.includes(n.$v.RESOURCES)||e.experimental.resources},set enabled(t){e.experimental.resources=t},asset_types:[],first_party_domains:[],ignore_newrelic:!0}},privacy:{cookies_enabled:!0},proxy:{assets:void 0,beacon:void 0},session:{expiresMs:o.wk,inactiveMs:o.BB},session_replay:{autoStart:!0,enabled:!1,preload:!1,sampling_rate:10,error_sampling_rate:100,collect_fonts:!1,inline_images:!1,fix_stylesheets:!0,mask_all_inputs:!0,get mask_text_selector(){return e.mask_selector},set mask_text_selector(t){i(t)?e.mask_selector="".concat(t,",").concat(u):""===t||null===t?e.mask_selector=u:(0,a.R)(5,t)},get block_class(){return"nr-block"},get ignore_class(){return"nr-ignore"},get mask_text_class(){return"nr-mask"},get block_selector(){return e.block_selector},set block_selector(t){i(t)?e.block_selector+=",".concat(t):""!==t&&(0,a.R)(6,t)},get mask_input_options(){return e.mask_input_options},set mask_input_options(t){t&&"object"==typeof t?e.mask_input_options={...t,password:!0}:(0,a.R)(7,t)}},session_trace:{enabled:!0,autoStart:!0},soft_navigations:{enabled:!0,autoStart:!0},spa:{enabled:!0,autoStart:!0},ssl:void 0,user_actions:{enabled:!0,elementAttributes:["id","className","tagName","type"]}}},l={},f="All configuration objects require an agent identifier!";function h(e){if(!e)throw new Error(f);if(!l[e])throw new Error("Configuration for ".concat(e," was never set"));return l[e]}function g(e,t){if(!e)throw new Error(f);l[e]=(0,c.a)(t,d());const r=(0,s.nY)(e);r&&(r.init=l[e])}function p(e,t){if(!e)throw new Error(f);var r=h(e);if(r){for(var n=t.split("."),i=0;i<n.length-1;i++)if("object"!=typeof(r=r[n[i]]))return;r=r[n[n.length-1]]}return r}},5603:(e,t,r)=>{"use strict";r.d(t,{a:()=>c,o:()=>s});var n=r(384),i=r(8122);const o={accountID:void 0,trustKey:void 0,agentID:void 0,licenseKey:void 0,applicationID:void 0,xpid:void 0},a={};function s(e){if(!e)throw new Error("All loader-config objects require an agent identifier!");if(!a[e])throw new Error("LoaderConfig for ".concat(e," was never set"));return a[e]}function c(e,t){if(!e)throw new Error("All loader-config objects require an agent identifier!");a[e]=(0,i.a)(t,o);const r=(0,n.nY)(e);r&&(r.loader_config=a[e])}},3371:(e,t,r)=>{"use strict";r.d(t,{V:()=>f,f:()=>l});var n=r(8122),i=r(384),o=r(6154),a=r(9324);let s=0;const c={buildEnv:a.F3,distMethod:a.Xs,version:a.xv,originTime:o.WN},u={customTransaction:void 0,disabled:!1,isolatedBacklog:!1,loaderType:void 0,maxBytes:3e4,onerror:void 0,ptid:void 0,releaseIds:{},appMetadata:{},session:void 0,denyList:void 0,timeKeeper:void 0,obfuscator:void 0,harvester:void 0},d={};function l(e){if(!e)throw new Error("All runtime objects require an agent identifier!");if(!d[e])throw new Error("Runtime for ".concat(e," was never set"));return d[e]}function f(e,t){if(!e)throw new Error("All runtime objects require an agent identifier!");d[e]={...(0,n.a)(t,u),...c},Object.hasOwnProperty.call(d[e],"harvestCount")||Object.defineProperty(d[e],"harvestCount",{get:()=>++s});const r=(0,i.nY)(e);r&&(r.runtime=d[e])}},9324:(e,t,r)=>{"use strict";r.d(t,{F3:()=>i,Xs:()=>o,Yq:()=>a,xv:()=>n});const n="1.285.0",i="PROD",o="CDN",a="^2.0.0-alpha.18"},6154:(e,t,r)=>{"use strict";r.d(t,{OF:()=>u,RI:()=>i,WN:()=>f,bv:()=>o,gm:()=>a,lR:()=>l,m:()=>c,mw:()=>s,sb:()=>d});var n=r(1863);const i="undefined"!=typeof window&&!!window.document,o="undefined"!=typeof WorkerGlobalScope&&("undefined"!=typeof self&&self instanceof WorkerGlobalScope&&self.navigator instanceof WorkerNavigator||"undefined"!=typeof globalThis&&globalThis instanceof WorkerGlobalScope&&globalThis.navigator instanceof WorkerNavigator),a=i?window:"undefined"!=typeof WorkerGlobalScope&&("undefined"!=typeof self&&self instanceof WorkerGlobalScope&&self||"undefined"!=typeof globalThis&&globalThis instanceof WorkerGlobalScope&&globalThis),s=Boolean("hidden"===a?.document?.visibilityState),c=""+a?.location,u=/iPad|iPhone|iPod/.test(a.navigator?.userAgent),d=u&&"undefined"==typeof SharedWorker,l=(()=>{const e=a.navigator?.userAgent?.match(/Firefox[/\s](\d+\.\d+)/);return Array.isArray(e)&&e.length>=2?+e[1]:0})(),f=Date.now()-(0,n.t)()},7295:(e,t,r)=>{"use strict";r.d(t,{Xv:()=>a,gX:()=>i,iW:()=>o});var n=[];function i(e){if(!e||o(e))return!1;if(0===n.length)return!0;for(var t=0;t<n.length;t++){var r=n[t];if("*"===r.hostname)return!1;if(s(r.hostname,e.hostname)&&c(r.pathname,e.pathname))return!1}return!0}function o(e){return void 0===e.hostname}function a(e){if(n=[],e&&e.length)for(var t=0;t<e.length;t++){let r=e[t];if(!r)continue;0===r.indexOf("http://")?r=r.substring(7):0===r.indexOf("https://")&&(r=r.substring(8));const i=r.indexOf("/");let o,a;i>0?(o=r.substring(0,i),a=r.substring(i)):(o=r,a="");let[s]=o.split(":");n.push({hostname:s,pathname:a})}}function s(e,t){return!(e.length>t.length)&&t.indexOf(e)===t.length-e.length}function c(e,t){return 0===e.indexOf("/")&&(e=e.substring(1)),0===t.indexOf("/")&&(t=t.substring(1)),""===e||e===t}},3241:(e,t,r)=>{"use strict";r.d(t,{W:()=>o});var n=r(6154);const i="newrelic";function o(e={}){try{n.gm.dispatchEvent(new CustomEvent(i,{detail:e}))}catch(e){}}},1687:(e,t,r)=>{"use strict";r.d(t,{Ak:()=>c,Ze:()=>l,x3:()=>u});var n=r(7836),i=r(3606),o=r(860),a=r(2646);const s={};function c(e,t){const r={staged:!1,priority:o.P3[t]||0};d(e),s[e].get(t)||s[e].set(t,r)}function u(e,t){e&&s[e]&&(s[e].get(t)&&s[e].delete(t),h(e,t,!1),s[e].size&&f(e))}function d(e){if(!e)throw new Error("agentIdentifier required");s[e]||(s[e]=new Map)}function l(e="",t="feature",r=!1){if(d(e),!e||!s[e].get(t)||r)return h(e,t);s[e].get(t).staged=!0,f(e)}function f(e){const t=Array.from(s[e]);t.every((([e,t])=>t.staged))&&(t.sort(((e,t)=>e[1].priority-t[1].priority)),t.forEach((([t])=>{s[e].delete(t),h(e,t)})))}function h(e,t,r=!0){const o=e?n.ee.get(e):n.ee,s=i.i.handlers;if(!o.aborted&&o.backlog&&s){if(r){const e=o.backlog[t],r=s[t];if(r){for(let t=0;e&&t<e.length;++t)g(e[t],r);Object.entries(r).forEach((([e,t])=>{Object.values(t||{}).forEach((t=>{t[0]?.on&&t[0]?.context()instanceof a.y&&t[0].on(e,t[1])}))}))}}o.isolatedBacklog||delete s[t],o.backlog[t]=null,o.emit("drain-"+t,[])}}function g(e,t){var r=e[1];Object.values(t[r]||{}).forEach((t=>{var r=e[0];if(t[0]===r){var n=t[1],i=e[3],o=e[2];n.apply(i,o)}}))}},7836:(e,t,r)=>{"use strict";r.d(t,{P:()=>c,ee:()=>u});var n=r(384),i=r(8990),o=r(3371),a=r(2646),s=r(5607);const c="nr@context:".concat(s.W),u=function e(t,r){var n={},s={},d={},l=!1;try{l=16===r.length&&(0,o.f)(r).isolatedBacklog}catch(e){}var f={on:g,addEventListener:g,removeEventListener:function(e,t){var r=n[e];if(!r)return;for(var i=0;i<r.length;i++)r[i]===t&&r.splice(i,1)},emit:function(e,r,n,i,o){!1!==o&&(o=!0);if(u.aborted&&!i)return;t&&o&&t.emit(e,r,n);for(var a=h(n),c=p(e),d=c.length,l=0;l<d;l++)c[l].apply(a,r);var g=v()[s[e]];g&&g.push([f,e,r,a]);return a},get:m,listeners:p,context:h,buffer:function(e,t){const r=v();if(t=t||"feature",f.aborted)return;Object.entries(e||{}).forEach((([e,n])=>{s[n]=t,t in r||(r[t]=[])}))},abort:function(){f._aborted=!0,Object.keys(f.backlog).forEach((e=>{delete f.backlog[e]}))},isBuffering:function(e){return!!v()[s[e]]},debugId:r,backlog:l?{}:t&&"object"==typeof t.backlog?t.backlog:{},isolatedBacklog:l};return Object.defineProperty(f,"aborted",{get:()=>{let e=f._aborted||!1;return e||(t&&(e=t.aborted),e)}}),f;function h(e){return e&&e instanceof a.y?e:e?(0,i.I)(e,c,(()=>new a.y(c))):new a.y(c)}function g(e,t){n[e]=p(e).concat(t)}function p(e){return n[e]||[]}function m(t){return d[t]=d[t]||e(f,t)}function v(){return f.backlog}}(void 0,"globalEE"),d=(0,n.Zm)();d.ee||(d.ee=u)},2646:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});class n{constructor(e){this.contextId=e}}},9908:(e,t,r)=>{"use strict";r.d(t,{d:()=>n,p:()=>i});var n=r(7836).ee.get("handle");function i(e,t,r,i,o){o?(o.buffer([e],i),o.emit(e,t,r)):(n.buffer([e],i),n.emit(e,t,r))}},3606:(e,t,r)=>{"use strict";r.d(t,{i:()=>o});var n=r(9908);o.on=a;var i=o.handlers={};function o(e,t,r,o){a(o||n.d,i,e,t,r)}function a(e,t,r,i,o){o||(o="feature"),e||(e=n.d);var a=t[o]=t[o]||{};(a[r]=a[r]||[]).push([e,i])}},3878:(e,t,r)=>{"use strict";function n(e,t){return{capture:e,passive:!1,signal:t}}function i(e,t,r=!1,i){window.addEventListener(e,t,n(r,i))}function o(e,t,r=!1,i){document.addEventListener(e,t,n(r,i))}r.d(t,{DD:()=>o,jT:()=>n,sp:()=>i})},5607:(e,t,r)=>{"use strict";r.d(t,{W:()=>n});const n=(0,r(9566).bz)()},9566:(e,t,r)=>{"use strict";r.d(t,{LA:()=>s,ZF:()=>c,bz:()=>a,el:()=>u});var n=r(6154);const i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";function o(e,t){return e?15&e[t]:16*Math.random()|0}function a(){const e=n.gm?.crypto||n.gm?.msCrypto;let t,r=0;return e&&e.getRandomValues&&(t=e.getRandomValues(new Uint8Array(30))),i.split("").map((e=>"x"===e?o(t,r++).toString(16):"y"===e?(3&o()|8).toString(16):e)).join("")}function s(e){const t=n.gm?.crypto||n.gm?.msCrypto;let r,i=0;t&&t.getRandomValues&&(r=t.getRandomValues(new Uint8Array(e)));const a=[];for(var s=0;s<e;s++)a.push(o(r,i++).toString(16));return a.join("")}function c(){return s(16)}function u(){return s(32)}},2614:(e,t,r)=>{"use strict";r.d(t,{BB:()=>a,H3:()=>n,g:()=>u,iL:()=>c,tS:()=>s,uh:()=>i,wk:()=>o});const n="NRBA",i="SESSION",o=144e5,a=18e5,s={STARTED:"session-started",PAUSE:"session-pause",RESET:"session-reset",RESUME:"session-resume",UPDATE:"session-update"},c={SAME_TAB:"same-tab",CROSS_TAB:"cross-tab"},u={OFF:0,FULL:1,ERROR:2}},1863:(e,t,r)=>{"use strict";function n(){return Math.floor(performance.now())}r.d(t,{t:()=>n})},7485:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(6154);function i(e){if(0===(e||"").indexOf("data:"))return{protocol:"data"};try{const t=new URL(e,location.href),r={port:t.port,hostname:t.hostname,pathname:t.pathname,search:t.search,protocol:t.protocol.slice(0,t.protocol.indexOf(":")),sameOrigin:t.protocol===n.gm?.location?.protocol&&t.host===n.gm?.location?.host};return r.port&&""!==r.port||("http:"===t.protocol&&(r.port="80"),"https:"===t.protocol&&(r.port="443")),r.pathname&&""!==r.pathname?r.pathname.startsWith("/")||(r.pathname="/".concat(r.pathname)):r.pathname="/",r}catch(e){return{}}}},944:(e,t,r)=>{"use strict";function n(e,t){"function"==typeof console.debug&&console.debug("New Relic Warning: https://github.com/newrelic/newrelic-browser-agent/blob/main/docs/warning-codes.md#".concat(e),t)}r.d(t,{R:()=>n})},5701:(e,t,r)=>{"use strict";r.d(t,{B:()=>a,t:()=>s});var n=r(7836),i=r(3241);const o=new Set,a={};function s(e,t){const r=n.ee.get(t);a[t]??={},e&&"object"==typeof e&&(o.has(t)||(r.emit("rumresp",[e]),a[t]=e,o.add(t),(0,i.W)({agentIdentifier:t,loaded:!0,type:"lifecycle",name:"load",feature:void 0,data:e})))}},8990:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var n=Object.prototype.hasOwnProperty;function i(e,t,r){if(n.call(e,t))return e[t];var i=r();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:i,writable:!0,enumerable:!1}),i}catch(e){}return e[t]=i,i}},6389:(e,t,r)=>{"use strict";function n(e,t=500,r={}){const n=r?.leading||!1;let i;return(...r)=>{n&&void 0===i&&(e.apply(this,r),i=setTimeout((()=>{i=clearTimeout(i)}),t)),n||(clearTimeout(i),i=setTimeout((()=>{e.apply(this,r)}),t))}}function i(e){let t=!1;return(...r)=>{t||(t=!0,e.apply(this,r))}}r.d(t,{J:()=>i,s:()=>n})},3304:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(7836);const i=()=>{const e=new WeakSet;return(t,r)=>{if("object"==typeof r&&null!==r){if(e.has(r))return;e.add(r)}return r}};function o(e){try{return JSON.stringify(e,i())??""}catch(e){try{n.ee.emit("internal-error",[e])}catch(e){}return""}}},5289:(e,t,r)=>{"use strict";r.d(t,{GG:()=>o,sB:()=>a});var n=r(3878);function i(){return"undefined"==typeof document||"complete"===document.readyState}function o(e,t){if(i())return e();(0,n.sp)("load",e,t)}function a(e){if(i())return e();(0,n.DD)("DOMContentLoaded",e)}},384:(e,t,r)=>{"use strict";r.d(t,{NT:()=>o,US:()=>d,Zm:()=>a,bQ:()=>c,dV:()=>s,nY:()=>u,pV:()=>l});var n=r(6154),i=r(1863);const o={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net"};function a(){return n.gm.NREUM||(n.gm.NREUM={}),void 0===n.gm.newrelic&&(n.gm.newrelic=n.gm.NREUM),n.gm.NREUM}function s(){let e=a();return e.o||(e.o={ST:n.gm.setTimeout,SI:n.gm.setImmediate,CT:n.gm.clearTimeout,XHR:n.gm.XMLHttpRequest,REQ:n.gm.Request,EV:n.gm.Event,PR:n.gm.Promise,MO:n.gm.MutationObserver,FETCH:n.gm.fetch,WS:n.gm.WebSocket}),e}function c(e,t){let r=a();r.initializedAgents??={},t.initializedAt={ms:(0,i.t)(),date:new Date},r.initializedAgents[e]=t}function u(e){let t=a();return t.initializedAgents?.[e]}function d(e,t){a()[e]=t}function l(){return function(){let e=a();const t=e.info||{};e.info={beacon:o.beacon,errorBeacon:o.errorBeacon,...t}}(),function(){let e=a();const t=e.init||{};e.init={...t}}(),s(),function(){let e=a();const t=e.loader_config||{};e.loader_config={...t}}(),a()}},2843:(e,t,r)=>{"use strict";r.d(t,{u:()=>i});var n=r(3878);function i(e,t=!1,r,i){(0,n.DD)("visibilitychange",(function(){if(t)return void("hidden"===document.visibilityState&&e());e(document.visibilityState)}),r,i)}},8139:(e,t,r)=>{"use strict";r.d(t,{u:()=>f});var n=r(7836),i=r(3434),o=r(8990),a=r(6154);const s={},c=a.gm.XMLHttpRequest,u="addEventListener",d="removeEventListener",l="nr@wrapped:".concat(n.P);function f(e){var t=function(e){return(e||n.ee).get("events")}(e);if(s[t.debugId]++)return t;s[t.debugId]=1;var r=(0,i.YM)(t,!0);function f(e){r.inPlace(e,[u,d],"-",g)}function g(e,t){return e[1]}return"getPrototypeOf"in Object&&(a.RI&&h(document,f),c&&h(c.prototype,f),h(a.gm,f)),t.on(u+"-start",(function(e,t){var n=e[1];if(null!==n&&("function"==typeof n||"object"==typeof n)){var i=(0,o.I)(n,l,(function(){var e={object:function(){if("function"!=typeof n.handleEvent)return;return n.handleEvent.apply(n,arguments)},function:n}[typeof n];return e?r(e,"fn-",null,e.name||"anonymous"):n}));this.wrapped=e[1]=i}})),t.on(d+"-start",(function(e){e[1]=this.wrapped||e[1]})),t}function h(e,t,...r){let n=e;for(;"object"==typeof n&&!Object.prototype.hasOwnProperty.call(n,u);)n=Object.getPrototypeOf(n);n&&t(n,...r)}},3434:(e,t,r)=>{"use strict";r.d(t,{Jt:()=>o,YM:()=>c});var n=r(7836),i=r(5607);const o="nr@original:".concat(i.W);var a=Object.prototype.hasOwnProperty,s=!1;function c(e,t){return e||(e=n.ee),r.inPlace=function(e,t,n,i,o){n||(n="");const a="-"===n.charAt(0);for(let s=0;s<t.length;s++){const c=t[s],u=e[c];d(u)||(e[c]=r(u,a?c+n:n,i,c,o))}},r.flag=o,r;function r(t,r,n,s,c){return d(t)?t:(r||(r=""),nrWrapper[o]=t,function(e,t,r){if(Object.defineProperty&&Object.keys)try{return Object.keys(e).forEach((function(r){Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){return e[r]=t,t}})})),t}catch(e){u([e],r)}for(var n in e)a.call(e,n)&&(t[n]=e[n])}(t,nrWrapper,e),nrWrapper);function nrWrapper(){var o,a,d,l;try{a=this,o=[...arguments],d="function"==typeof n?n(o,a):n||{}}catch(t){u([t,"",[o,a,s],d],e)}i(r+"start",[o,a,s],d,c);try{return l=t.apply(a,o)}catch(e){throw i(r+"err",[o,a,e],d,c),e}finally{i(r+"end",[o,a,l],d,c)}}}function i(r,n,i,o){if(!s||t){var a=s;s=!0;try{e.emit(r,n,i,t,o)}catch(t){u([t,r,n,i],e)}s=a}}}function u(e,t){t||(t=n.ee);try{t.emit("internal-error",e)}catch(e){}}function d(e){return!(e&&"function"==typeof e&&e.apply&&!e[o])}},9414:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var n=r(7836),i=r(2646),o=r(944),a=r(3434);const s=new Map;function c(e,t,r,c){if("object"!=typeof t||!t||"string"!=typeof r||!r||"function"!=typeof t[r])return(0,o.R)(29);const u=function(e){return(e||n.ee).get("logger")}(e),d=(0,a.YM)(u),l=new i.y(n.P);l.level=c.level,l.customAttributes=c.customAttributes;const f=t[r]?.[a.Jt]||t[r];return s.set(f,l),d.inPlace(t,[r],"wrap-logger-",(()=>s.get(f))),u}},9300:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=r(860).K7.ajax},3333:(e,t,r)=>{"use strict";r.d(t,{$v:()=>u,TZ:()=>n,Zp:()=>i,kd:()=>c,mq:()=>s,nf:()=>a,qN:()=>o});const n=r(860).K7.genericEvents,i=["auxclick","click","copy","keydown","paste","scrollend"],o=["focus","blur"],a=4,s=1e3,c=["PageAction","UserAction","BrowserPerformance"],u={MARKS:"experimental.marks",MEASURES:"experimental.measures",RESOURCES:"experimental.resources"}},6774:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=r(860).K7.jserrors},993:(e,t,r)=>{"use strict";r.d(t,{A$:()=>o,ET:()=>a,TZ:()=>s,p_:()=>i});var n=r(860);const i={ERROR:"ERROR",WARN:"WARN",INFO:"INFO",DEBUG:"DEBUG",TRACE:"TRACE"},o={OFF:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5},a="log",s=n.K7.logging},3785:(e,t,r)=>{"use strict";r.d(t,{R:()=>c,b:()=>u});var n=r(9908),i=r(1863),o=r(860),a=r(8154),s=r(993);function c(e,t,r={},c=s.p_.INFO){(0,n.p)(a.xV,["API/logging/".concat(c.toLowerCase(),"/called")],void 0,o.K7.metrics,e),(0,n.p)(s.ET,[(0,i.t)(),t,r,c],void 0,o.K7.logging,e)}function u(e){return"string"==typeof e&&Object.values(s.p_).some((t=>t===e.toUpperCase().trim()))}},8154:(e,t,r)=>{"use strict";r.d(t,{z_:()=>o,XG:()=>s,TZ:()=>n,rs:()=>i,xV:()=>a});r(6154),r(9566),r(384);const n=r(860).K7.metrics,i="sm",o="cm",a="storeSupportabilityMetrics",s="storeEventMetrics"},6630:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=r(860).K7.pageViewEvent},782:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n=r(860).K7.pageViewTiming},6344:(e,t,r)=>{"use strict";r.d(t,{BB:()=>d,G4:()=>o,Qb:()=>l,TZ:()=>i,Ug:()=>a,_s:()=>s,bc:()=>u,yP:()=>c});var n=r(2614);const i=r(860).K7.sessionReplay,o={RECORD:"recordReplay",PAUSE:"pauseReplay",REPLAY_RUNNING:"replayRunning",ERROR_DURING_REPLAY:"errorDuringReplay"},a=.12,s={DomContentLoaded:0,Load:1,FullSnapshot:2,IncrementalSnapshot:3,Meta:4,Custom:5},c={[n.g.ERROR]:15e3,[n.g.FULL]:3e5,[n.g.OFF]:0},u={RESET:{message:"Session was reset",sm:"Reset"},IMPORT:{message:"Recorder failed to import",sm:"Import"},TOO_MANY:{message:"429: Too Many Requests",sm:"Too-Many"},TOO_BIG:{message:"Payload was too large",sm:"Too-Big"},CROSS_TAB:{message:"Session Entity was set to OFF on another tab",sm:"Cross-Tab"},ENTITLEMENTS:{message:"Session Replay is not allowed and will not be started",sm:"Entitlement"}},d=5e3,l={API:"api"}},5270:(e,t,r)=>{"use strict";r.d(t,{Aw:()=>c,CT:()=>u,SR:()=>s,rF:()=>d});var n=r(384),i=r(9417),o=r(7767),a=r(6154);function s(e){return!!(0,n.dV)().o.MO&&(0,o.V)(e)&&!0===(0,i.gD)(e,"session_trace.enabled")}function c(e){return!0===(0,i.gD)(e,"session_replay.preload")&&s(e)}function u(e,t){const r=t.correctAbsoluteTimestamp(e);return{originalTimestamp:e,correctedTimestamp:r,timestampDiff:e-r,originTime:a.WN,correctedOriginTime:t.correctedOriginTime,originTimeDiff:Math.floor(a.WN-t.correctedOriginTime)}}function d(e,t){try{if("string"==typeof t?.type){if("password"===t.type.toLowerCase())return"*".repeat(e?.length||0);if(void 0!==t?.dataset?.nrUnmask||t?.classList?.contains("nr-unmask"))return e}}catch(e){}return"string"==typeof e?e.replace(/[\S]/g,"*"):"*".repeat(e?.length||0)}},3738:(e,t,r)=>{"use strict";r.d(t,{He:()=>i,Kp:()=>s,Lc:()=>u,Rz:()=>d,TZ:()=>n,bD:()=>o,d3:()=>a,jx:()=>l,uP:()=>c});const n=r(860).K7.sessionTrace,i="bstResource",o="resource",a="-start",s="-end",c="fn"+a,u="fn"+s,d="pushState",l=1e3},4234:(e,t,r)=>{"use strict";r.d(t,{W:()=>o});var n=r(7836),i=r(1687);class o{constructor(e,t){this.agentIdentifier=e,this.ee=n.ee.get(e),this.featureName=t,this.blocked=!1}deregisterDrain(){(0,i.x3)(this.agentIdentifier,this.featureName)}}},7767:(e,t,r)=>{"use strict";r.d(t,{V:()=>o});var n=r(9417),i=r(6154);const o=e=>i.RI&&!0===(0,n.gD)(e,"privacy.cookies_enabled")},8969:(e,t,r)=>{"use strict";r.d(t,{j:()=>I});var n=r(860),i=r(2555),o=r(3371),a=r(9908),s=r(7836),c=r(1687),u=r(5289),d=r(6154),l=r(944),f=r(8154),h=r(384),g=r(6344);const p=["setErrorHandler","finished","addToTrace","addRelease","recordCustomEvent","addPageAction","setCurrentRouteName","setPageViewName","setCustomAttribute","interaction","noticeError","setUserId","setApplicationVersion","start",g.G4.RECORD,g.G4.PAUSE,"log","wrapLogger"],m=["setErrorHandler","finished","addToTrace","addRelease"];var v=r(1863),b=r(2614),y=r(993),R=r(3785),x=r(9414),w=r(3241),E=r(5701);function A(){const e=(0,h.pV)();p.forEach((t=>{e[t]=(...r)=>function(t,...r){let n=[];return Object.values(e.initializedAgents).forEach((e=>{e&&e.api?e.exposed&&e.api[t]&&n.push(e.api[t](...r)):(0,l.R)(38,t)})),n.length>1?n:n[0]}(t,...r)}))}const T={};var S=r(9417),_=r(5603);const O=e=>{const t=e.startsWith("http");e+="/",r.p=t?e:"https://"+e};let N=!1;function I(e,t={},p,I){let{init:P,info:j,loader_config:C,runtime:k={},exposed:H=!0}=t;k.loaderType=p;const L=(0,h.pV)();j||(P=L.init,j=L.info,C=L.loader_config),(0,S.xN)(e.agentIdentifier,P||{}),(0,_.a)(e.agentIdentifier,C||{}),j.jsAttributes??={},d.bv&&(j.jsAttributes.isWorker=!0),(0,i.x1)(e.agentIdentifier,j);const D=(0,S.D0)(e.agentIdentifier),M=[j.beacon,j.errorBeacon];N||(D.proxy.assets&&(O(D.proxy.assets),M.push(D.proxy.assets)),D.proxy.beacon&&M.push(D.proxy.beacon),A(),(0,h.US)("activatedFeatures",E.B),e.runSoftNavOverSpa&&=!0===D.soft_navigations.enabled&&D.feature_flags.includes("soft_nav")),k.denyList=[...D.ajax.deny_list||[],...D.ajax.block_internal?M:[]],k.ptid=e.agentIdentifier,(0,o.V)(e.agentIdentifier,k),e.ee=s.ee.get(e.agentIdentifier),void 0===e.api&&(e.api=function(e,t,h=!1){t||(0,c.Ak)(e,"api");const p={};var A=s.ee.get(e),S=A.get("tracer");T[e]=b.g.OFF,A.on(g.G4.REPLAY_RUNNING,(t=>{T[e]=t}));var _="api-",O=_+"ixn-";function N(t,r,n,o){const a=(0,i.Vp)(e);return null===r?delete a.jsAttributes[t]:(0,i.x1)(e,{...a,jsAttributes:{...a.jsAttributes,[t]:r}}),j(_,n,!0,o||null===r?"session":void 0)(t,r)}function I(){}p.log=function(e,{customAttributes:t={},level:r=y.p_.INFO}={}){(0,a.p)(f.xV,["API/log/called"],void 0,n.K7.metrics,A),(0,R.R)(A,e,t,r)},p.wrapLogger=(e,t,{customAttributes:r={},level:i=y.p_.INFO}={})=>{(0,a.p)(f.xV,["API/wrapLogger/called"],void 0,n.K7.metrics,A),(0,x.J)(A,e,t,{customAttributes:r,level:i})},m.forEach((e=>{p[e]=j(_,e,!0,"api")})),p.addPageAction=j(_,"addPageAction",!0,n.K7.genericEvents),p.recordCustomEvent=j(_,"recordCustomEvent",!0,n.K7.genericEvents),p.setPageViewName=function(t,r){if("string"==typeof t)return"/"!==t.charAt(0)&&(t="/"+t),(0,o.f)(e).customTransaction=(r||"http://custom.transaction")+t,j(_,"setPageViewName",!0)()},p.setCustomAttribute=function(e,t,r=!1){if("string"==typeof e){if(["string","number","boolean"].includes(typeof t)||null===t)return N(e,t,"setCustomAttribute",r);(0,l.R)(40,typeof t)}else(0,l.R)(39,typeof e)},p.setUserId=function(e){if("string"==typeof e||null===e)return N("enduser.id",e,"setUserId",!0);(0,l.R)(41,typeof e)},p.setApplicationVersion=function(e){if("string"==typeof e||null===e)return N("application.version",e,"setApplicationVersion",!1);(0,l.R)(42,typeof e)},p.start=()=>{try{(0,a.p)(f.xV,["API/start/called"],void 0,n.K7.metrics,A),A.emit("manual-start-all")}catch(e){(0,l.R)(23,e)}},p[g.G4.RECORD]=function(){(0,a.p)(f.xV,["API/recordReplay/called"],void 0,n.K7.metrics,A),(0,a.p)(g.G4.RECORD,[],void 0,n.K7.sessionReplay,A)},p[g.G4.PAUSE]=function(){(0,a.p)(f.xV,["API/pauseReplay/called"],void 0,n.K7.metrics,A),(0,a.p)(g.G4.PAUSE,[],void 0,n.K7.sessionReplay,A)},p.interaction=function(e){return(new I).get("object"==typeof e?e:{})};const P=I.prototype={createTracer:function(e,t){var r={},i=this,o="function"==typeof t;return(0,a.p)(f.xV,["API/createTracer/called"],void 0,n.K7.metrics,A),h||(0,a.p)(O+"tracer",[(0,v.t)(),e,r],i,n.K7.spa,A),function(){if(S.emit((o?"":"no-")+"fn-start",[(0,v.t)(),i,o],r),o)try{return t.apply(this,arguments)}catch(e){const t="string"==typeof e?new Error(e):e;throw S.emit("fn-err",[arguments,this,t],r),t}finally{S.emit("fn-end",[(0,v.t)()],r)}}}};function j(t,r,i,o){return function(){return(0,a.p)(f.xV,["API/"+r+"/called"],void 0,n.K7.metrics,A),(0,w.W)({agentIdentifier:e,loaded:!!E.B?.[e],type:"data",name:"api",feature:t+r,data:{notSpa:i,bufferGroup:o}}),o&&(0,a.p)(t+r,[i?(0,v.t)():performance.now(),...arguments],i?null:this,o,A),i?void 0:this}}function C(){r.e(891).then(r.bind(r,8778)).then((({setAPI:t})=>{t(e),(0,c.Ze)(e,"api")})).catch((e=>{(0,l.R)(27,e),A.abort()}))}return["actionText","setName","setAttribute","save","ignore","onEnd","getContext","end","get"].forEach((e=>{P[e]=j(O,e,void 0,h?n.K7.softNav:n.K7.spa)})),p.setCurrentRouteName=h?j(O,"routeName",void 0,n.K7.softNav):j(_,"routeName",!0,n.K7.spa),p.noticeError=function(t,r){"string"==typeof t&&(t=new Error(t)),(0,a.p)(f.xV,["API/noticeError/called"],void 0,n.K7.metrics,A),(0,a.p)("err",[t,(0,v.t)(),!1,r,!!T[e]],void 0,n.K7.jserrors,A)},d.RI?(0,u.GG)((()=>C()),!0):C(),p}(e.agentIdentifier,I,e.runSoftNavOverSpa)),void 0===e.exposed&&(e.exposed=H),N||(0,w.W)({agentIdentifier:e.agentIdentifier,loaded:!!E.B?.[e.agentIdentifier],type:"lifecycle",name:"initialize",feature:void 0,data:{init:D,info:j,loader_config:C,runtime:k}}),N=!0}},8374:(e,t,r)=>{r.nc=(()=>{try{return document?.currentScript?.nonce}catch(e){}return""})()},860:(e,t,r)=>{"use strict";r.d(t,{$J:()=>d,K7:()=>c,P3:()=>u,XX:()=>i,Yy:()=>s,df:()=>o,qY:()=>n,v4:()=>a});const n="events",i="jserrors",o="browser/blobs",a="rum",s="browser/logs",c={ajax:"ajax",genericEvents:"generic_events",jserrors:i,logging:"logging",metrics:"metrics",pageAction:"page_action",pageViewEvent:"page_view_event",pageViewTiming:"page_view_timing",sessionReplay:"session_replay",sessionTrace:"session_trace",softNav:"soft_navigations",spa:"spa"},u={[c.pageViewEvent]:1,[c.pageViewTiming]:2,[c.metrics]:3,[c.jserrors]:4,[c.spa]:5,[c.ajax]:6,[c.sessionTrace]:7,[c.softNav]:8,[c.sessionReplay]:9,[c.logging]:10,[c.genericEvents]:11},d={[c.pageViewEvent]:a,[c.pageViewTiming]:n,[c.ajax]:n,[c.spa]:n,[c.softNav]:n,[c.metrics]:i,[c.jserrors]:i,[c.sessionTrace]:o,[c.sessionReplay]:o,[c.logging]:s,[c.genericEvents]:"ins"}}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,i),o.exports}i.m=r,i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,r)=>(i.f[r](e,t),t)),[])),i.u=e=>({95:"nr-full-compressor",222:"nr-full-recorder",891:"nr-full"}[e]+"-1.285.0.min.js"),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="NRBA-1.285.0.PROD:",i.l=(r,n,o,a)=>{if(e[r])e[r].push(n);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var l=u[d];if(l.getAttribute("src")==r||l.getAttribute("data-webpack")==t+o){s=l;break}}if(!s){c=!0;var f={891:"sha512-fMru8dlQe6MDocrIrmVggxBpKe4E6zN8iF8+x3VT5mduS4XEkCwWjFpEShdGhWDUoZ4S6P7KlEsQNgH2yGvL1w==",222:"sha512-IOEUdkaWYkNjFufhpqem1nvCo93S+MlRT4222SMu910Ff4augE1uCvOBRaziFCEwGH9Hkw13OiCDIv8GEVRyxA==",95:"sha512-jWkjatE9TZKKdOBeBHmVEgnE92FwbX/ode6AlJnUDcEs5jJDX9gJHRE4qOUNUSAID8OsbjJ9KSJCbkhGO/hZFA=="};(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+o),s.src=r,0!==s.src.indexOf(window.location.origin+"/")&&(s.crossOrigin="anonymous"),f[a]&&(s.integrity=f[a])}e[r]=[n];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(g);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},g=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="https://js-agent.newrelic.com/",(()=>{var e={85:0,959:0};i.f.j=(t,r)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,i)=>n=e[t]=[r,i]));r.push(n[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(r=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,n[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[a,s,c]=r,u=0;if(a.some((t=>0!==e[t]))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(c)c(i)}for(t&&t(r);u<a.length;u++)o=a[u],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self["webpackChunk:NRBA-1.285.0.PROD"]=self["webpackChunk:NRBA-1.285.0.PROD"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";i(8374);var e=i(944),t=i(6344),r=i(9566);class n{agentIdentifier;constructor(){this.agentIdentifier=(0,r.LA)(16)}#e(t,...r){if("function"==typeof this.api?.[t])return this.api[t](...r);(0,e.R)(35,t)}addPageAction(e,t){return this.#e("addPageAction",e,t)}recordCustomEvent(e,t){return this.#e("recordCustomEvent",e,t)}setPageViewName(e,t){return this.#e("setPageViewName",e,t)}setCustomAttribute(e,t,r){return this.#e("setCustomAttribute",e,t,r)}noticeError(e,t){return this.#e("noticeError",e,t)}setUserId(e){return this.#e("setUserId",e)}setApplicationVersion(e){return this.#e("setApplicationVersion",e)}setErrorHandler(e){return this.#e("setErrorHandler",e)}addRelease(e,t){return this.#e("addRelease",e,t)}log(e,t){return this.#e("log",e,t)}}class o extends n{#e(t,...r){if("function"==typeof this.api?.[t])return this.api[t](...r);(0,e.R)(35,t)}start(){return this.#e("start")}finished(e){return this.#e("finished",e)}recordReplay(){return this.#e(t.G4.RECORD)}pauseReplay(){return this.#e(t.G4.PAUSE)}addToTrace(e){return this.#e("addToTrace",e)}setCurrentRouteName(e){return this.#e("setCurrentRouteName",e)}interaction(){return this.#e("interaction")}wrapLogger(e,t,r){return this.#e("wrapLogger",e,t,r)}}var a=i(860),s=i(9417);const c=Object.values(a.K7);function u(e){const t={};return c.forEach((r=>{t[r]=function(e,t){return!0===(0,s.gD)(t,"".concat(e,".enabled"))}(r,e)})),t}var d=i(8969);var l=i(1687),f=i(4234),h=i(5289),g=i(6154),p=i(5270),m=i(7767),v=i(6389);class b extends f.W{constructor(e,t,r=!0){super(e.agentIdentifier,t),this.auto=r,this.abortHandler=void 0,this.featAggregate=void 0,this.onAggregateImported=void 0,!1===e.init[this.featureName].autoStart&&(this.auto=!1),this.auto?(0,l.Ak)(e.agentIdentifier,t):this.ee.on("manual-start-all",(0,v.J)((()=>{(0,l.Ak)(e.agentIdentifier,this.featureName),this.auto=!0,this.importAggregator(e)})))}importAggregator(t,r={}){if(this.featAggregate||!this.auto)return;let n;this.onAggregateImported=new Promise((e=>{n=e}));const o=async()=>{let o;try{if((0,m.V)(this.agentIdentifier)){const{setupAgentSession:e}=await i.e(891).then(i.bind(i,6526));o=e(t)}}catch(t){(0,e.R)(20,t),this.ee.emit("internal-error",[t]),this.featureName===a.K7.sessionReplay&&this.abortHandler?.()}try{if(!this.#t(this.featureName,o))return(0,l.Ze)(this.agentIdentifier,this.featureName),void n(!1);const{lazyFeatureLoader:e}=await i.e(891).then(i.bind(i,6103)),{Aggregate:a}=await e(this.featureName,"aggregate");this.featAggregate=new a(t,r),t.runtime.harvester.initializedAggregates.push(this.featAggregate),n(!0)}catch(t){(0,e.R)(34,t),this.abortHandler?.(),(0,l.Ze)(this.agentIdentifier,this.featureName,!0),n(!1),this.ee&&this.ee.abort()}};g.RI?(0,h.GG)((()=>o()),!0):o()}#t(e,t){switch(e){case a.K7.sessionReplay:return(0,p.SR)(this.agentIdentifier)&&!!t;case a.K7.sessionTrace:return!!t;default:return!0}}}var y=i(6630);class R extends b{static featureName=y.T;constructor(e,t=!0){super(e,y.T,t),this.importAggregator(e)}}var x=i(384);var w=i(9908),E=i(2843),A=i(3878),T=i(782),S=i(1863);class _ extends b{static featureName=T.T;constructor(e,t=!0){super(e,T.T,t),g.RI&&((0,E.u)((()=>(0,w.p)("docHidden",[(0,S.t)()],void 0,T.T,this.ee)),!0),(0,A.sp)("pagehide",(()=>(0,w.p)("winPagehide",[(0,S.t)()],void 0,T.T,this.ee))),this.importAggregator(e))}}var O=i(8154);class N extends b{static featureName=O.TZ;constructor(e,t=!0){super(e,O.TZ,t),g.RI&&document.addEventListener("securitypolicyviolation",(e=>{(0,w.p)(O.xV,["Generic/CSPViolation/Detected"],void 0,this.featureName,this.ee)})),this.importAggregator(e)}}var I=i(6774),P=i(3304);class j{constructor(e,t,r,n,i){this.name="UncaughtError",this.message="string"==typeof e?e:(0,P.A)(e),this.sourceURL=t,this.line=r,this.column=n,this.__newrelic=i}}function C(e){return L(e)?e:new j(void 0!==e?.message?e.message:e,e?.filename||e?.sourceURL,e?.lineno||e?.line,e?.colno||e?.col,e?.__newrelic)}function k(e){const t="Unhandled Promise Rejection: ";if(!e?.reason)return;if(L(e.reason)){try{e.reason.message.startsWith(t)||(e.reason.message=t+e.reason.message)}catch(e){}return C(e.reason)}const r=C(e.reason);return(r.message||"").startsWith(t)||(r.message=t+r.message),r}function H(e){if(e.error instanceof SyntaxError&&!/:\d+$/.test(e.error.stack?.trim())){const t=new j(e.message,e.filename,e.lineno,e.colno,e.error.__newrelic);return t.name=SyntaxError.name,t}return L(e.error)?e.error:C(e)}function L(e){return e instanceof Error&&!!e.stack}class D extends b{static featureName=I.T;#r=!1;constructor(e,r=!0){super(e,I.T,r);try{this.removeOnAbort=new AbortController}catch(e){}this.ee.on("internal-error",((e,t)=>{this.abortHandler&&(0,w.p)("ierr",[C(e),(0,S.t)(),!0,{},this.#r,t],void 0,this.featureName,this.ee)})),this.ee.on(t.G4.REPLAY_RUNNING,(e=>{this.#r=e})),g.gm.addEventListener("unhandledrejection",(e=>{this.abortHandler&&(0,w.p)("err",[k(e),(0,S.t)(),!1,{unhandledPromiseRejection:1},this.#r],void 0,this.featureName,this.ee)}),(0,A.jT)(!1,this.removeOnAbort?.signal)),g.gm.addEventListener("error",(e=>{this.abortHandler&&(0,w.p)("err",[H(e),(0,S.t)(),!1,{},this.#r],void 0,this.featureName,this.ee)}),(0,A.jT)(!1,this.removeOnAbort?.signal)),this.abortHandler=this.#n,this.importAggregator(e)}#n(){this.removeOnAbort?.abort(),this.abortHandler=void 0}}var M=i(8990);let K=1;const U="nr@id";function V(e){const t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===g.gm?0:(0,M.I)(e,U,(function(){return K++}))}function G(e){if("string"==typeof e&&e.length)return e.length;if("object"==typeof e){if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&e.byteLength)return e.byteLength;if("undefined"!=typeof Blob&&e instanceof Blob&&e.size)return e.size;if(!("undefined"!=typeof FormData&&e instanceof FormData))try{return(0,P.A)(e).length}catch(e){return}}}var F=i(8139),B=i(7836),W=i(3434);const z={},q=["open","send"];function Z(t){var r=t||B.ee;const n=function(e){return(e||B.ee).get("xhr")}(r);if(void 0===g.gm.XMLHttpRequest)return n;if(z[n.debugId]++)return n;z[n.debugId]=1,(0,F.u)(r);var i=(0,W.YM)(n),o=g.gm.XMLHttpRequest,a=g.gm.MutationObserver,s=g.gm.Promise,c=g.gm.setInterval,u="readystatechange",d=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],l=[],f=g.gm.XMLHttpRequest=function(t){const r=new o(t),a=n.context(r);try{n.emit("new-xhr",[r],a),r.addEventListener(u,(s=a,function(){var e=this;e.readyState>3&&!s.resolved&&(s.resolved=!0,n.emit("xhr-resolved",[],e)),i.inPlace(e,d,"fn-",y)}),(0,A.jT)(!1))}catch(t){(0,e.R)(15,t);try{n.emit("internal-error",[t])}catch(e){}}var s;return r};function h(e,t){i.inPlace(t,["onreadystatechange"],"fn-",y)}if(function(e,t){for(var r in e)t[r]=e[r]}(o,f),f.prototype=o.prototype,i.inPlace(f.prototype,q,"-xhr-",y),n.on("send-xhr-start",(function(e,t){h(e,t),function(e){l.push(e),a&&(p?p.then(b):c?c(b):(m=-m,v.data=m))}(t)})),n.on("open-xhr-start",h),a){var p=s&&s.resolve();if(!c&&!s){var m=1,v=document.createTextNode(m);new a(b).observe(v,{characterData:!0})}}else r.on("fn-end",(function(e){e[0]&&e[0].type===u||b()}));function b(){for(var e=0;e<l.length;e++)h(0,l[e]);l.length&&(l=[])}function y(e,t){return t}return n}var Y="fetch-",X=Y+"body-",J=["arrayBuffer","blob","json","text","formData"],Q=g.gm.Request,ee=g.gm.Response,te="prototype";const re={};function ne(e){const t=function(e){return(e||B.ee).get("fetch")}(e);if(!(Q&&ee&&g.gm.fetch))return t;if(re[t.debugId]++)return t;function r(e,r,n){var i=e[r];"function"==typeof i&&(e[r]=function(){var e,r=[...arguments],o={};t.emit(n+"before-start",[r],o),o[B.P]&&o[B.P].dt&&(e=o[B.P].dt);var a=i.apply(this,r);return t.emit(n+"start",[r,e],a),a.then((function(e){return t.emit(n+"end",[null,e],a),e}),(function(e){throw t.emit(n+"end",[e],a),e}))})}return re[t.debugId]=1,J.forEach((e=>{r(Q[te],e,X),r(ee[te],e,X)})),r(g.gm,"fetch",Y),t.on(Y+"end",(function(e,r){var n=this;if(r){var i=r.headers.get("content-length");null!==i&&(n.rxSize=i),t.emit(Y+"done",[null,r],n)}else t.emit(Y+"done",[e],n)})),t}var ie=i(7485),oe=i(5603);class ae{constructor(e){this.agentIdentifier=e}generateTracePayload(e){if(!this.shouldGenerateTrace(e))return null;var t=(0,oe.o)(this.agentIdentifier);if(!t)return null;var n=(t.accountID||"").toString()||null,i=(t.agentID||"").toString()||null,o=(t.trustKey||"").toString()||null;if(!n||!i)return null;var a=(0,r.ZF)(),s=(0,r.el)(),c=Date.now(),u={spanId:a,traceId:s,timestamp:c};return(e.sameOrigin||this.isAllowedOrigin(e)&&this.useTraceContextHeadersForCors())&&(u.traceContextParentHeader=this.generateTraceContextParentHeader(a,s),u.traceContextStateHeader=this.generateTraceContextStateHeader(a,c,n,i,o)),(e.sameOrigin&&!this.excludeNewrelicHeader()||!e.sameOrigin&&this.isAllowedOrigin(e)&&this.useNewrelicHeaderForCors())&&(u.newrelicHeader=this.generateTraceHeader(a,s,c,n,i,o)),u}generateTraceContextParentHeader(e,t){return"00-"+t+"-"+e+"-01"}generateTraceContextStateHeader(e,t,r,n,i){return i+"@nr=0-1-"+r+"-"+n+"-"+e+"----"+t}generateTraceHeader(e,t,r,n,i,o){if(!("function"==typeof g.gm?.btoa))return null;var a={v:[0,1],d:{ty:"Browser",ac:n,ap:i,id:e,tr:t,ti:r}};return o&&n!==o&&(a.d.tk=o),btoa((0,P.A)(a))}shouldGenerateTrace(e){return this.isDtEnabled()&&this.isAllowedOrigin(e)}isAllowedOrigin(e){var t=!1,r={};if((0,s.gD)(this.agentIdentifier,"distributed_tracing")&&(r=(0,s.D0)(this.agentIdentifier).distributed_tracing),e.sameOrigin)t=!0;else if(r.allowed_origins instanceof Array)for(var n=0;n<r.allowed_origins.length;n++){var i=(0,ie.D)(r.allowed_origins[n]);if(e.hostname===i.hostname&&e.protocol===i.protocol&&e.port===i.port){t=!0;break}}return t}isDtEnabled(){var e=(0,s.gD)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.enabled}excludeNewrelicHeader(){var e=(0,s.gD)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.exclude_newrelic_header}useNewrelicHeaderForCors(){var e=(0,s.gD)(this.agentIdentifier,"distributed_tracing");return!!e&&!1!==e.cors_use_newrelic_header}useTraceContextHeadersForCors(){var e=(0,s.gD)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.cors_use_tracecontext_headers}}var se=i(9300),ce=i(7295),ue=["load","error","abort","timeout"],de=ue.length,le=(0,x.dV)().o.REQ,fe=(0,x.dV)().o.XHR;const he="X-NewRelic-App-Data";class ge extends b{static featureName=se.T;constructor(e,t=!0){super(e,se.T,t),this.dt=new ae(e.agentIdentifier),this.handler=(e,t,r,n)=>(0,w.p)(e,t,r,n,this.ee);try{const e={xmlhttprequest:"xhr",fetch:"fetch",beacon:"beacon"};g.gm?.performance?.getEntriesByType("resource").forEach((t=>{if(t.initiatorType in e&&0!==t.responseStatus){const r={status:t.responseStatus},n={rxSize:t.transferSize,duration:Math.floor(t.duration),cbTime:0};pe(r,t.name),this.handler("xhr",[r,n,t.startTime,t.responseEnd,e[t.initiatorType]],void 0,a.K7.ajax)}}))}catch(e){}ne(this.ee),Z(this.ee),function(e,t,r,n){function i(e){var t=this;t.totalCbs=0,t.called=0,t.cbTime=0,t.end=x,t.ended=!1,t.xhrGuids={},t.lastSize=null,t.loadCaptureCalled=!1,t.params=this.params||{},t.metrics=this.metrics||{},e.addEventListener("load",(function(r){E(t,e)}),(0,A.jT)(!1)),g.lR||e.addEventListener("progress",(function(e){t.lastSize=e.loaded}),(0,A.jT)(!1))}function o(e){this.params={method:e[0]},pe(this,e[1]),this.metrics={}}function s(t,r){e.loader_config.xpid&&this.sameOrigin&&r.setRequestHeader("X-NewRelic-ID",e.loader_config.xpid);var i=n.generateTracePayload(this.parsedOrigin);if(i){var o=!1;i.newrelicHeader&&(r.setRequestHeader("newrelic",i.newrelicHeader),o=!0),i.traceContextParentHeader&&(r.setRequestHeader("traceparent",i.traceContextParentHeader),i.traceContextStateHeader&&r.setRequestHeader("tracestate",i.traceContextStateHeader),o=!0),o&&(this.dt=i)}}function c(e,r){var n=this.metrics,i=e[0],o=this;if(n&&i){var a=G(i);a&&(n.txSize=a)}this.startTime=(0,S.t)(),this.body=i,this.listener=function(e){try{"abort"!==e.type||o.loadCaptureCalled||(o.params.aborted=!0),("load"!==e.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof r.onload)&&"function"==typeof o.end)&&o.end(r)}catch(e){try{t.emit("internal-error",[e])}catch(e){}}};for(var s=0;s<de;s++)r.addEventListener(ue[s],this.listener,(0,A.jT)(!1))}function u(e,t,r){this.cbTime+=e,t?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof r.onload||"function"!=typeof this.end||this.end(r)}function d(e,t){var r=""+V(e)+!!t;this.xhrGuids&&!this.xhrGuids[r]&&(this.xhrGuids[r]=!0,this.totalCbs+=1)}function l(e,t){var r=""+V(e)+!!t;this.xhrGuids&&this.xhrGuids[r]&&(delete this.xhrGuids[r],this.totalCbs-=1)}function f(){this.endTime=(0,S.t)()}function h(e,r){r instanceof fe&&"load"===e[0]&&t.emit("xhr-load-added",[e[1],e[2]],r)}function p(e,r){r instanceof fe&&"load"===e[0]&&t.emit("xhr-load-removed",[e[1],e[2]],r)}function m(e,t,r){t instanceof fe&&("onload"===r&&(this.onload=!0),("load"===(e[0]&&e[0].type)||this.onload)&&(this.xhrCbStart=(0,S.t)()))}function v(e,r){this.xhrCbStart&&t.emit("xhr-cb-time",[(0,S.t)()-this.xhrCbStart,this.onload,r],r)}function b(e){var t,r=e[1]||{};if("string"==typeof e[0]?0===(t=e[0]).length&&g.RI&&(t=""+g.gm.location.href):e[0]&&e[0].url?t=e[0].url:g.gm?.URL&&e[0]&&e[0]instanceof URL?t=e[0].href:"function"==typeof e[0].toString&&(t=e[0].toString()),"string"==typeof t&&0!==t.length){t&&(this.parsedOrigin=(0,ie.D)(t),this.sameOrigin=this.parsedOrigin.sameOrigin);var i=n.generateTracePayload(this.parsedOrigin);if(i&&(i.newrelicHeader||i.traceContextParentHeader))if(e[0]&&e[0].headers)s(e[0].headers,i)&&(this.dt=i);else{var o={};for(var a in r)o[a]=r[a];o.headers=new Headers(r.headers||{}),s(o.headers,i)&&(this.dt=i),e.length>1?e[1]=o:e.push(o)}}function s(e,t){var r=!1;return t.newrelicHeader&&(e.set("newrelic",t.newrelicHeader),r=!0),t.traceContextParentHeader&&(e.set("traceparent",t.traceContextParentHeader),t.traceContextStateHeader&&e.set("tracestate",t.traceContextStateHeader),r=!0),r}}function y(e,t){this.params={},this.metrics={},this.startTime=(0,S.t)(),this.dt=t,e.length>=1&&(this.target=e[0]),e.length>=2&&(this.opts=e[1]);var r,n=this.opts||{},i=this.target;"string"==typeof i?r=i:"object"==typeof i&&i instanceof le?r=i.url:g.gm?.URL&&"object"==typeof i&&i instanceof URL&&(r=i.href),pe(this,r);var o=(""+(i&&i instanceof le&&i.method||n.method||"GET")).toUpperCase();this.params.method=o,this.body=n.body,this.txSize=G(n.body)||0}function R(e,t){if(this.endTime=(0,S.t)(),this.params||(this.params={}),(0,ce.iW)(this.params))return;let n;this.params.status=t?t.status:0,"string"==typeof this.rxSize&&this.rxSize.length>0&&(n=+this.rxSize);const i={txSize:this.txSize,rxSize:n,duration:(0,S.t)()-this.startTime};r("xhr",[this.params,i,this.startTime,this.endTime,"fetch"],this,a.K7.ajax)}function x(e){const t=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(let t=0;t<de;t++)e.removeEventListener(ue[t],this.listener,!1);t.aborted||(0,ce.iW)(t)||(n.duration=(0,S.t)()-this.startTime,this.loadCaptureCalled||4!==e.readyState?null==t.status&&(t.status=0):E(this,e),n.cbTime=this.cbTime,r("xhr",[t,n,this.startTime,this.endTime,"xhr"],this,a.K7.ajax))}}function E(e,r){e.params.status=r.status;var n=function(e,t){var r=e.responseType;return"json"===r&&null!==t?t:"arraybuffer"===r||"blob"===r||"json"===r?G(e.response):"text"===r||""===r||void 0===r?G(e.responseText):void 0}(r,e.lastSize);if(n&&(e.metrics.rxSize=n),e.sameOrigin&&r.getAllResponseHeaders().indexOf(he)>=0){var i=r.getResponseHeader(he);i&&((0,w.p)(O.rs,["Ajax/CrossApplicationTracing/Header/Seen"],void 0,a.K7.metrics,t),e.params.cat=i.split(", ").pop())}e.loadCaptureCalled=!0}t.on("new-xhr",i),t.on("open-xhr-start",o),t.on("open-xhr-end",s),t.on("send-xhr-start",c),t.on("xhr-cb-time",u),t.on("xhr-load-added",d),t.on("xhr-load-removed",l),t.on("xhr-resolved",f),t.on("addEventListener-end",h),t.on("removeEventListener-end",p),t.on("fn-end",v),t.on("fetch-before-start",b),t.on("fetch-start",y),t.on("fn-start",m),t.on("fetch-done",R)}(e,this.ee,this.handler,this.dt),this.importAggregator(e)}}function pe(e,t){var r=(0,ie.D)(t),n=e.params||e;n.hostname=r.hostname,n.port=r.port,n.protocol=r.protocol,n.host=r.hostname+":"+r.port,n.pathname=r.pathname,e.parsedOrigin=r,e.sameOrigin=r.sameOrigin}const me={},ve=["pushState","replaceState"];function be(e){const t=function(e){return(e||B.ee).get("history")}(e);return!g.RI||me[t.debugId]++||(me[t.debugId]=1,(0,W.YM)(t).inPlace(window.history,ve,"-")),t}var ye=i(3738);const{He:Re,bD:xe,d3:we,Kp:Ee,TZ:Ae,Lc:Te,uP:Se,Rz:_e}=ye;class Oe extends b{static featureName=Ae;constructor(e,t=!0){super(e,Ae,t);if(!(0,m.V)(this.agentIdentifier))return void this.deregisterDrain();const r=this.ee;let n;be(r),this.eventsEE=(0,F.u)(r),this.eventsEE.on(Se,(function(e,t){this.bstStart=(0,S.t)()})),this.eventsEE.on(Te,(function(e,t){(0,w.p)("bst",[e[0],t,this.bstStart,(0,S.t)()],void 0,a.K7.sessionTrace,r)})),r.on(_e+we,(function(e){this.time=(0,S.t)(),this.startPath=location.pathname+location.hash})),r.on(_e+Ee,(function(e){(0,w.p)("bstHist",[location.pathname+location.hash,this.startPath,this.time],void 0,a.K7.sessionTrace,r)}));try{n=new PerformanceObserver((e=>{const t=e.getEntries();(0,w.p)(Re,[t],void 0,a.K7.sessionTrace,r)})),n.observe({type:xe,buffered:!0})}catch(e){}this.importAggregator(e,{resourceObserver:n})}}var Ne=i(2614);class Ie extends b{static featureName=t.TZ;#i;#o;constructor(e,r=!0){let n;super(e,t.TZ,r),this.replayRunning=!1,this.#o=e;try{n=JSON.parse(localStorage.getItem("".concat(Ne.H3,"_").concat(Ne.uh)))}catch(e){}(0,p.SR)(e.agentIdentifier)&&this.ee.on(t.G4.RECORD,(()=>this.#a())),this.#s(n)?(this.#i=n?.sessionReplayMode,this.#c()):this.importAggregator(e),this.ee.on("err",(e=>{this.replayRunning&&(this.errorNoticed=!0,(0,w.p)(t.G4.ERROR_DURING_REPLAY,[e],void 0,this.featureName,this.ee))})),this.ee.on(t.G4.REPLAY_RUNNING,(e=>{this.replayRunning=e}))}#s(e){return e&&(e.sessionReplayMode===Ne.g.FULL||e.sessionReplayMode===Ne.g.ERROR)||(0,p.Aw)(this.agentIdentifier)}#u=!1;async#c(e){if(!this.#u){this.#u=!0;try{const{Recorder:t}=await Promise.all([i.e(891),i.e(222)]).then(i.bind(i,8589));this.recorder??=new t({mode:this.#i,agentIdentifier:this.agentIdentifier,trigger:e,ee:this.ee,agentRef:this.#o}),this.recorder.startRecording(),this.abortHandler=this.recorder.stopRecording}catch(e){}this.importAggregator(this.#o,{recorder:this.recorder,errorNoticed:this.errorNoticed})}}#a(){this.featAggregate?this.featAggregate.mode!==Ne.g.FULL&&this.featAggregate.initializeRecording(Ne.g.FULL,!0):(this.#i=Ne.g.FULL,this.#c(t.Qb.API),this.recorder&&this.recorder.parent.mode!==Ne.g.FULL&&(this.recorder.parent.mode=Ne.g.FULL,this.recorder.stopRecording(),this.recorder.startRecording(),this.abortHandler=this.recorder.stopRecording))}}var Pe=i(3333);class je extends b{static featureName=Pe.TZ;constructor(e,t=!0){super(e,Pe.TZ,t);const r=[e.init.page_action.enabled,e.init.performance.capture_marks,e.init.performance.capture_measures,e.init.user_actions.enabled,e.init.performance.resources.enabled];if(g.RI&&(e.init.user_actions.enabled&&(Pe.Zp.forEach((e=>(0,A.sp)(e,(e=>(0,w.p)("ua",[e],void 0,this.featureName,this.ee)),!0))),Pe.qN.forEach((e=>{const t=(0,v.s)((e=>{(0,w.p)("ua",[e],void 0,this.featureName,this.ee)}),500,{leading:!0});(0,A.sp)(e,t)}))),e.init.performance.resources.enabled&&g.gm.PerformanceObserver?.supportedEntryTypes.includes("resource"))){new PerformanceObserver((e=>{e.getEntries().forEach((e=>{(0,w.p)("browserPerformance.resource",[e],void 0,this.featureName,this.ee)}))})).observe({type:"resource",buffered:!0})}r.some((e=>e))?this.importAggregator(e):this.deregisterDrain()}}var Ce=i(993),ke=i(3785),He=i(9414);class Le extends b{static featureName=Ce.TZ;constructor(e,t=!0){super(e,Ce.TZ,t);const r=this.ee;(0,He.J)(r,g.gm.console,"log",{level:"info"}),(0,He.J)(r,g.gm.console,"error",{level:"error"}),(0,He.J)(r,g.gm.console,"warn",{level:"warn"}),(0,He.J)(r,g.gm.console,"info",{level:"info"}),(0,He.J)(r,g.gm.console,"debug",{level:"debug"}),(0,He.J)(r,g.gm.console,"trace",{level:"trace"}),this.ee.on("wrap-logger-end",(function([e]){const{level:t,customAttributes:n}=this;(0,ke.R)(r,e,n,t)})),this.importAggregator(e)}}new class extends o{constructor(t){super(),g.gm?(this.features={},(0,x.bQ)(this.agentIdentifier,this),this.desiredFeatures=new Set(t.features||[]),this.desiredFeatures.add(R),this.runSoftNavOverSpa=[...this.desiredFeatures].some((e=>e.featureName===a.K7.softNav)),(0,d.j)(this,t,t.loaderType||"agent"),this.run()):(0,e.R)(21)}get config(){return{info:this.info,init:this.init,loader_config:this.loader_config,runtime:this.runtime}}run(){try{const t=u(this.agentIdentifier),r=[...this.desiredFeatures];r.sort(((e,t)=>a.P3[e.featureName]-a.P3[t.featureName])),r.forEach((r=>{if(!t[r.featureName]&&r.featureName!==a.K7.pageViewEvent)return;if(this.runSoftNavOverSpa&&r.featureName===a.K7.spa)return;if(!this.runSoftNavOverSpa&&r.featureName===a.K7.softNav)return;const n=function(e){switch(e){case a.K7.ajax:return[a.K7.jserrors];case a.K7.sessionTrace:return[a.K7.ajax,a.K7.pageViewEvent];case a.K7.sessionReplay:return[a.K7.sessionTrace];case a.K7.pageViewTiming:return[a.K7.pageViewEvent];default:return[]}}(r.featureName).filter((e=>!(e in this.features)));n.length>0&&(0,e.R)(36,{targetFeature:r.featureName,missingDependencies:n}),this.features[r.featureName]=new r(this)}))}catch(t){(0,e.R)(22,t);for(const e in this.features)this.features[e].abortHandler?.();const r=(0,x.Zm)();delete r.initializedAgents[this.agentIdentifier]?.api,delete r.initializedAgents[this.agentIdentifier]?.features,delete this.sharedAggregator;return r.ee.get(this.agentIdentifier).abort(),!1}}}({features:[R,_,Oe,Ie,ge,N,D,je,Le],loaderType:"pro"})})()})();</script><title>How to Make a USB Laptop Keyboard Controller : 23 Steps - Instructables</title><meta property="fb:app_id" content="140028286058792"><meta property="og:site_name" content="Instructables"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="How to Make a USB Laptop Keyboard Controller: This Instructable will provide a step by step procedure for building a USB laptop keyboard and touchpad controller. I created this guide and video to hopefully make it easier for people to re-purpose an old laptop. A typical laptop relies on the mot…"><meta property="og:type" content="article"><meta property="og:url" content="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/"><meta property="og:image" content="https://content.instructables.com/F9V/LVGC/JOWTGZBK/F9VLVGCJOWTGZBK.jpg?auto=webp&amp;frame=1&amp;width=2100"><meta property="og:image:width" content="2937"><meta property="og:image:height" content="2447"><meta property="og:title" content="How to Make a USB Laptop Keyboard Controller"><meta property="og:description" content="How to Make a USB Laptop Keyboard Controller: This Instructable will provide a step by step procedure for building a USB laptop keyboard and touchpad controller. I created this guide and video to hopefully make it easier for people to re-purpose an old laptop. A typical laptop relies on the mot…"><meta property="category" content="circuits"><meta property="channel" content="electronics"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@instructables"><meta name="twitter:title" content="How to Make a USB Laptop Keyboard Controller"><meta name="twitter:image" content="https://content.instructables.com/F9V/LVGC/JOWTGZBK/F9VLVGCJOWTGZBK.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=620&amp;width=620"><meta name="thumbnail" content="https://content.instructables.com/F9V/LVGC/JOWTGZBK/F9VLVGCJOWTGZBK.jpg?auto=webp&amp;frame=1&amp;width=2100"><link rel="dns-prefetch" href="https://cdn.instructables.com/"><link rel="dns-prefetch" href="https://content.instructables.com/"><link rel="canonical" href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/"><link rel="amphtml" href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/?amp_page=true"><link rel="shortcut icon" type="image/x-icon" href="https://www.instructables.com/assets/img/siteassets/favicon.ico"><link rel="apple-touch-icon" href="https://www.instructables.com/assets/img/siteassets/apple-touch-icon.png"><link rel="apple-touch-icon" sizes="192x192" href="https://www.instructables.com/assets/img/siteassets/apple-touch-icon-192x192.png"><link rel="apple-touch-icon" sizes="512x512" href="https://www.instructables.com/assets/img/siteassets/apple-touch-icon-512x512.png"><script>
(function(Ibles){
    Ibles.JST = Ibles.JST || {};
    Ibles.pageContext = {};
    Ibles.isStaging = false;
    Ibles.isLoggedIn = false;
    Ibles.accessCookie = "ibleAccess";
    Ibles.loggedInCookie = "loggedIn";
    Ibles.userStorageKey = "ibleuser";
})(window.Ibles = window.Ibles || {});
</script><script>function Deferred(){var e=[],t={resolve:function(n){t.then=function(e){e(n)},t.resolve=function(){throw new Error("Deferred already resolved")};var o,a=0;for(;o=e[a++];)o(n);e=null},then:function(t){e.push(t)}};return t}Ibles.readCookie=function(e,t){return(t=RegExp("(^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?decodeURIComponent(t[2]):null},function(e,t){var n=t.readCookie,o=n(t.loggedInCookie),a=n(t.accessCookie);t.isLoggedIn=!!o||!!a;try{var r=localStorage.getItem(t.userStorageKey);t.user=t.isLoggedIn&&r&&JSON.parse(r)}catch(e){}}(window,Ibles),function(e,t){var n=t.className;n=n.replace(/(^|\s)no-js(\s|$)/,"$1$2");var o=Ibles.user;if(Ibles.isLoggedIn&&o){n+=" is-loggedin",o.role&&o.role.indexOf("ADMIN")>=0&&(n+=" is-admin");for(var a=o.occupations,r=0;r<a.length;r++)if(a[r].name.toLowerCase().indexOf("teacher")>=0){n+=" is-teacher";break}}t.className=n}(Ibles,document.documentElement),function(e,t){var n=[],o=[],a=[],r=/p/.test(t.readyState),s="onpageshow"in e?"pageshow":"load";function i(e){return"function"==typeof e}function l(){var e=arguments,t=e[0],o=e[e.length-1];"object"==typeof t&&t.constructor===Object&&(o=t.callback,t=t.test?t.success:t.failure),i(o)&&(!function(e){e.constructor==Array&&e.length&&a.push.apply(a,e)}(t),n.push([o]))}function c(e,n,o){var a=t.createElement("script");for(var r in a.src=e,a.async=!0,n)a.setAttribute(r,n[r]);i(o)&&(a.onload=o);var s=t.getElementsByTagName("script")[0];s.parentNode.insertBefore(a,s)}function d(e,t){r?setTimeout(e,t||32):o.push(e,t)}e.addEventListener(s,(function(){for(r=!0;o[0];)d(o.shift(),o.shift())})),e.sessionReady=l,e.loadJS=l,e.loadJsQueue=n,e.sessionReady=l,e.deferJS=function(e,t,n){i(e)?d(e):d((function(){c(e,{},t)}),n)},e.loadScript=c,e.pageScripts=a}(window,document),
/*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
function(e){"use strict";e.loadCSS||(e.loadCSS=function(){});var t=loadCSS.relpreload={};if(t.support=function(){var t;try{t=e.document.createElement("link").relList.supports("preload")}catch(e){t=!1}return function(){return t}}(),t.bindMediaToggle=function(e){var t=e.media||"all";function n(){e.addEventListener?e.removeEventListener("load",n):e.attachEvent&&e.detachEvent("onload",n),e.setAttribute("onload",null),e.media=t}e.addEventListener?e.addEventListener("load",n):e.attachEvent&&e.attachEvent("onload",n),setTimeout((function(){e.rel="stylesheet",e.media="only x"})),setTimeout(n,3e3)},t.poly=function(){if(!t.support())for(var n=e.document.getElementsByTagName("link"),o=0;o<n.length;o++){var a=n[o];"preload"!==a.rel||"style"!==a.getAttribute("as")||a.getAttribute("data-loadcss")||(a.setAttribute("data-loadcss",!0),t.bindMediaToggle(a))}},!t.support()){t.poly();var n=e.setInterval(t.poly,500);e.addEventListener?e.addEventListener("load",(function(){t.poly(),e.clearInterval(n)})):e.attachEvent&&e.attachEvent("onload",(function(){t.poly(),e.clearInterval(n)}))}"undefined"!=typeof exports?exports.loadCSS=loadCSS:e.loadCSS=loadCSS}("undefined"!=typeof global?global:this);</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"How to Make a USB Laptop Keyboard Controller","name":"How to Make a USB Laptop Keyboard Controller","description":"How to Make a USB Laptop Keyboard Controller: This Instructable will provide a step by step procedure for building a USB laptop keyboard and touchpad controller. I created this guide and video to hopefully make it easier for people to re-purpose an old laptop. A typical laptop relies on the mot\u2026","datePublished":"2018-11-23","dateModified":"2024-12-23","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/"},"image":{"@type":"ImageObject","url":"https://content.instructables.com/F9V/LVGC/JOWTGZBK/F9VLVGCJOWTGZBK.jpg?auto=webp","width":1024,"height":853},"author":{"@type":"Organization","name":"Instructables","url":"https://www.instructables.com","logo":{"@type":"ImageObject","url":"https://www.instructables.com/assets/img/logo-228x60.png","width":228,"height":60}},"publisher":{"@type":"Organization","name":"Instructables","url":"https://www.instructables.com","logo":{"@type":"ImageObject","url":"https://www.instructables.com/assets/img/logo-228x60.png","width":228,"height":60}},"contributor":{"@type":"Person","name":"Frank_Adams"}}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Circuits","item":{"@type":"WebPage","@id":"https://www.instructables.com/circuits/"}},{"@type":"ListItem","position":2,"name":"Electronics","item":{"@type":"WebPage","@id":"https://www.instructables.com/circuits/electronics/projects/"}}]}</script><script type="application/ld+json">{"@context":"http://schema.org","@type":"HowTo","name":"How to Make a USB Laptop Keyboard Controller","description":"How to Make a USB Laptop Keyboard Controller: This Instructable will provide a step by step procedure for building a USB laptop keyboard and touchpad controller. I created this guide and video to hopefully make it easier for people to re-purpose an old laptop. A typical laptop relies on the mot\u2026","image":{"@type":"ImageObject","url":"https://content.instructables.com/F9V/LVGC/JOWTGZBK/F9VLVGCJOWTGZBK.jpg?auto=webp","width":1024,"height":853},"step":[{"@type":"HowToStep","name":"Keyboard Cable Specifications","text":"Laptop keyboards use a flat flexible cable (FFC) that is often manufactured as a flexible printed circuit (FPC). This cable connects to all the key switches in an array of rows and columns as shown above. The keyboard controller drives each row low,\u2026","image":"https://content.instructables.com/FID/KPDS/KUV8PYPB/FIDKPDSKUV8PYPB.png?auto=webp&fit=bounds&frame=1","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step1"},{"@type":"HowToStep","name":"Modify Your FPC Cable As Needed","text":"Before you solder the keyboard connector to the board, try inserting the FPC cable and confirm it fits. If it's not very tight after you lock it down, you may need to increase the thickness of the plastic backing with tape or a piece of paper. If yo\u2026","image":"https://content.instructables.com/FEA/96AA/JN4VD2JP/FEA96AAJN4VD2JP.png?auto=webp&fit=bounds&frame=1","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step2"},{"@type":"HowToStep","name":"Teensy 4.0 Mounted on Top","text":"I designed a circuit board for the Teensy 4.0 that routes its 34 I/O pins to 34 surface mount pads for an FPC connector with a 1mm, 0.8mm, or 0.5mm pitch. The Teensy will sit on top with header pins or wires connecting it to the board. The Eagle fil\u2026","image":"https://content.instructables.com/FMJ/SFTH/LPPHSOUU/FMJSFTHLPPHSOUU.png?auto=webp&fit=bounds&frame=1","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step3"},{"@type":"HowToStep","name":"Teensy 4.1 Mounted on Top","text":"The Teensy 4.1 will sit on top with header pins or wires attaching it to the connector board. To fabricate this board, use Eagle file \"T4p1.brd\" or the zipped Gerber file \"T4p1_2023-12-03.zip\" at my repo. The circuit board routes 34 I/O pins from th\u2026","image":"https://content.instructables.com/FFQ/VPUF/LPPHSSFS/FFQVPUFLPPHSSFS.png?auto=webp&fit=bounds&frame=1","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step4"},{"@type":"HowToStep","name":"Teensy 4.1 \"Easy-Soldering Board\" or \"No-Solder Method\"","text":"If your soldering skills are not ready for surface mount pads but you can solder a pin in a hole, the board shown above uses a vertical FPC connector with thru hole pins. Download the Eagle file \"T4p1_thruhole.brd\" or Gerber file \"T4p1_thruhole_2023\u2026","image":"https://content.instructables.com/FOJ/DHT2/LP8CJJ5K/FOJDHT2LP8CJJ5K.png?auto=webp&fit=bounds&frame=1","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step5"},{"@type":"HowToStep","name":"Teensy 4.0 & 4.1 Low Profile Connector Boards","text":"A Teensy with header pins that is mounted on top of an FPC connector board may be too tall to fit in a thin laptop case so I designed the two \"cutout\" boards shown above. The two Eagle board files are \"T4p0_cutout.brd\" and \"T4p1_cutout.brd\". The Ger\u2026","image":"https://content.instructables.com/FNQ/URTV/LPPHSP9X/FNQURTVLPPHSP9X.png?auto=webp&fit=bounds&frame=1","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step6"},{"@type":"HowToStep","name":"Teensy 2.0++ Connector Board","text":"\nIf it's hard to find a Teensy 4.0 or 4.1 in your area, you can order a Teensy 2.0++ clone from AliExpress. This an old 8 bit controller that is no longer offered by PJRC but the clone works fine as a keyboard controller. Make sure you order the Tee\u2026","image":"https://content.instructables.com/F3K/JU35/LP8CJSL9/F3KJU35LP8CJSL9.png?auto=webp&fit=bounds&frame=1","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step7"},{"@type":"HowToStep","name":"Load the Continuity Tester Into the Teensy","text":"\nFollow the PJRC instructions for installing Arduino and Teensyduino on your computer.\nLoad the Matrix_Decoder code from my repo into the Arduino integrated development environment (IDE).\nMatrix_Decoder_4p0.ino is for a Teensy 4.0, Matrix_Decoder_4p\u2026","image":"https://content.instructables.com/FYJ/7X9C/LPO2CSYP/FYJ7X9CLPO2CSYP.png?auto=webp&fit=bounds&frame=1&height=1024&width=1024","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step8"},{"@type":"HowToStep","name":"Load the Key-List File Into an Editor","text":"There are two \u201ckey-list\u201d text files given below and at my repo named Keyboard_with_number_pad.txt and Keyboard_without_number_pad.txt. Download the one that matches your keyboard and open it in a text editor. If your keyboard has an embedded number \u2026","image":"https://content.instructables.com/F86/SRLN/LPMMXMER/F86SRLNLPMMXMER.png?auto=webp&fit=bounds&frame=1","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step9"},{"@type":"HowToStep","name":"Connect the FPC Cable","text":"Inspect your FPC connector to determine the correct orientation for the cable.\nIf your FPC connector has contacts on the bottom like the picture on the left, use your finger nail to gently lift the connector locking bar to the open position. Slide t\u2026","image":"https://content.instructables.com/F9U/SHRF/JN4VDDOZ/F9USHRFJN4VDDOZ.png?auto=webp&fit=bounds&frame=1&width=1024","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step10"},{"@type":"HowToStep","name":"Test the Keyboard","text":"Press each key, one by one on the test keyboard as listed on the editor screen. The Teensy will send two pin numbers over USB that were connected when the key was pressed as shown in the picture above. The Teensy will then send a down arrow to posit\u2026","image":"https://content.instructables.com/F5S/1CKJ/JTEN1APD/F5S1CKJJTEN1APD.png?auto=webp&fit=bounds&frame=1","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step11"},{"@type":"HowToStep","name":"Determine Input and Output Pins","text":"If you are using Marcel's matrixgenerator.py Python program, put the completed pin list file from step 11 in the same directory as the Python program so the start up menu can easily find it. I've confirmed this Python program works in the Thonny IDE\u2026","image":"https://content.instructables.com/FIM/WVV3/JNAL69PB/FIMWVV3JNAL69PB.png?auto=webp&fit=bounds&frame=1","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step12"},{"@type":"HowToStep","name":"Fill the Matrix With Keys","text":"To manually fill the matrix, place each key name at the row/column intersection of the pins as shown in the HP DV9000 keyboard example given above. The modifier keys are in bold print to make it easy to see that they have a row all to themselves. Th\u2026","image":"https://content.instructables.com/FTN/GVE3/JN4VDF92/FTNGVE3JN4VDF92.png?auto=webp&fit=bounds&frame=1&width=1024","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step13"},{"@type":"HowToStep","name":"Translate FPC Pin Numbers to Teensy I/O Numbers","text":"The FPC to Teensy I/O numbers are automatically translated by Marcel's Python program. If you are using the manual method, you will need to use the Teensy translation tables shown above. ","image":"https://content.instructables.com/FFI/EVNN/LPSCQFUH/FFIEVNNLPSCQFUH.png?auto=webp&fit=bounds&frame=1","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step14"},{"@type":"HowToStep","name":"Load a USB Keyboard Routine Into the Teensy","text":"A Deskthority post from \"flabbergast\" describes using the ChibiOS development environment to configure TMK for ARM based processors like those used on the Teensy. A toolchain such as the GNU ARM Embedded Toolchain is used to compile the Teensy code.\u2026","image":"https://content.instructables.com/F4T/4VNT/JOONXB7N/F4T4VNTJOONXB7N.png?auto=webp&fit=bounds&frame=1&width=1024","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step15"},{"@type":"HowToStep","name":"Non-Standard FPC Cable Connectors","text":"If your keyboard has a non-standard FPC cable like the Thinkpad and iBook connectors shown above, the task becomes more challenging. If you can't find a mating connector at Aliexpress or any other site, your only alternative is to remove the connect\u2026","image":"https://content.instructables.com/FUS/VV0E/LPE2AU4T/FUSVV0ELPE2AU4T.png?auto=webp&fit=bounds&frame=1&height=1024&width=1024","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step16"},{"@type":"HowToStep","name":"Thinkpad T60 & T40 Keyboards - Teensy 4.0 & Pi Pico","text":"The Thinkpad T60 series and T40 series keyboard connectors are good examples of non-standard FPC cables. Both have 40 pin connectors but with different dimensions and pitch. The circuit board connector for the T60 series is AA01B-S040 and it's avail\u2026","image":"https://content.instructables.com/F7M/NXOS/LPCMUOFR/F7MNXOSLPCMUOFR.jpg?auto=webp&fit=bounds&frame=1&height=1024&width=1024","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step17"},{"@type":"HowToStep","name":"Apple IBook G3 Clamshell","text":"\"Billy67\" has used my code and circuit boards to convert several Apple keyboards to USB. Many are documented in the \"I made it\" section at the end of this Instructable. One of those keyboards is from an iBook G3 clamshell which has a special 40 pin \u2026","image":"https://content.instructables.com/FKX/MZP7/KVAYNOJX/FKXMZP7KVAYNOJX.jpg?auto=webp&fit=bounds&frame=1","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step18"},{"@type":"HowToStep","name":"Keyboards With Two FPC Cables","text":"If your keyboard has two FPC cables, you may be able to insert them side by side in one FPC connector or solder two FPC connectors on the board as shown above. It's common for one FPC cable to have top contacts and the other to have bottom contacts.\u2026","image":"https://content.instructables.com/FR6/8WXI/KVP8Z3ED/FR68WXIKVP8Z3ED.jpg?auto=webp&fit=bounds&frame=1&height=1024&width=1024","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step19"},{"@type":"HowToStep","name":"Building a Keyboard Base","text":"The easiest way to mount your keyboard is to use the base from the original laptop, (see the Fujitsu case above). If you're not going to use the original laptop case, you can build a custom base out of various materials. Luigi Caradonna has made a s\u2026","image":"https://content.instructables.com/FLO/16FW/KE39AAYP/FLO16FWKE39AAYP.jpg?auto=webp&fit=bounds&frame=1&width=1024","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step20"},{"@type":"HowToStep","name":"Keyboard Backlight & LED Indicators","text":"If your keyboard has a backlight, it can be controlled by the Teensy, as long as you have a spare I/O pin left over. The backlight brightness will be controlled using a pulse width modulated (PWM) signal that drives the gate of an N channel FET. The\u2026","image":"https://content.instructables.com/FOR/COQW/LQ6N31IR/FORCOQWLQ6N31IR.png?auto=webp&fit=bounds&frame=1&width=1024","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step21"},{"@type":"HowToStep","name":"Touchpad/Pointing Stick","text":"The PS/2 signals from a laptop's pad/pointing stick can be converted to USB with an off-the-shelf converter as shown in numerous videos. If you also want to convert a laptop keyboard to USB, then it makes sense to combine these tasks with a Teensy a\u2026","image":"https://content.instructables.com/FP9/QDPD/JOSY1JL3/FP9QDPDJOSY1JL3.jpg?auto=webp&fit=bounds&frame=1&height=1024&width=1024","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step22"},{"@type":"HowToStep","name":"Conclusion","text":"The next step after getting the original keyboard and touchpad working is to add a video converter card to drive the LCD and make a keyboard, video, mouse (KVM). A KVM is often used to troubleshoot servers and the one shown above is from a Dell D630\u2026","image":"https://content.instructables.com/FSC/66OJ/KFI98LHT/FSC66OJKFI98LHT.png?auto=webp&fit=bounds&frame=1&height=1024&width=1024","url":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#step23"}]}</script><link href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/global_desktop_bs2_css.min.css" rel="stylesheet" type="text/css" media="screen"><link href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/global.css" rel="stylesheet" type="text/css" media="screen"><link href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/artifakt.css" rel="stylesheet" type="text/css" media="screen"><link href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/ible_desktop_css.min.css" rel="stylesheet" type="text/css" media="screen"><link href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/ible_print_css.min.css" rel="stylesheet" type="text/css" media="print"><link href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/instructable.css" rel="stylesheet" type="text/css" media="screen"><link rel="stylesheet" href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/main-BP3FjrTv.css"><script type="module" crossorigin="" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/main-BP9mpYO-.js"></script><script type="text/javascript" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/17188ffd570aec1_complete.js" crossorigin="anonymous"></script><link rel="modulepreload" as="script" crossorigin="" href="https://www.instructables.com/assets/js_bundles/62da2f9735/IbleActionsPortal-CJsfHpv9.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.instructables.com/assets/js_bundles/62da2f9735/useBackboneEvent-CB_zcghU.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.instructables.com/assets/js_bundles/62da2f9735/useProjectData-DgptT-lv.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.instructables.com/assets/js_bundles/62da2f9735/Modal.component-4-59UcdO.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.instructables.com/assets/js_bundles/62da2f9735/index.browser-OxPLOBIU.js"><link rel="stylesheet" crossorigin="" href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/Modal-BPUnn6wZ.css"><link rel="modulepreload" as="script" crossorigin="" href="https://www.instructables.com/assets/js_bundles/62da2f9735/Checkbox-iePUBLIT.js"><link rel="stylesheet" crossorigin="" href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/Checkbox-Bu2f9kl3.css"><link rel="modulepreload" as="script" crossorigin="" href="https://www.instructables.com/assets/js_bundles/62da2f9735/useAdminMemberData-D1zW1n9G.js"><link rel="modulepreload" as="script" crossorigin="" href="https://www.instructables.com/assets/js_bundles/62da2f9735/Fieldset-Q50FPnmC.js"><link rel="stylesheet" crossorigin="" href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/Fieldset-BD5o5NBL.css"><link rel="modulepreload" as="script" crossorigin="" href="https://www.instructables.com/assets/js_bundles/62da2f9735/TextInput-DVW6ySfL.js"><link rel="stylesheet" crossorigin="" href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/TextInput-CzIpeskT.css"><link rel="modulepreload" as="script" crossorigin="" href="https://www.instructables.com/assets/js_bundles/62da2f9735/Textarea-CxrN0tx6.js"><link rel="stylesheet" crossorigin="" href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/Textarea-B65NvK6o.css"><link rel="modulepreload" as="script" crossorigin="" href="https://www.instructables.com/assets/js_bundles/62da2f9735/ClassificationsDropdowns-jZT1TRnd.js"><link rel="stylesheet" crossorigin="" href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/ClassificationsDropdowns-BSmOGd6n.css"><link rel="modulepreload" as="script" crossorigin="" href="https://www.instructables.com/assets/js_bundles/62da2f9735/useAdminProjectData-CcSGg0vA.js"><script type="text/javascript" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/global_desktop_logged_out_bs2_js.min.js"></script><script type="text/javascript" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/ible_desktop_logged_out_js.min.js"></script><link rel="stylesheet" crossorigin="" href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/IbleActionsPortal-CzwC_d4-.css"><meta name="adsk-search-crawler-pagename" content="instructables:www:how-to-make-a-usb-laptop-keyboard-controller"><script type="text/javascript" async="" charset="utf-8" id="utag_autodesk.micro-basic_274" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/utag.274.js"></script><script type="text/javascript" async="" charset="utf-8" id="utag_autodesk.micro-basic_417" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/utag.417.js"></script><script type="text/javascript" async="" charset="utf-8" id="tiqapp" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/utag.v.js"></script><script type="text/javascript" async="" charset="utf-8" id="utag_autodesk.micro-basic_302" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/utag.302.js"></script><style id="style-for-adsk-eprivacy-ccpa-link0" type="text/css">#adsk-eprivacy-ccpa-link0 {background-attachment: scroll;
background-blend-mode: normal;
background-clip: border-box;
background-color: rgba(0, 0, 0, 0);
background-image: none;
background-origin: padding-box;
background-position: 0% 0%;
background-repeat: repeat;
background-size: auto;
border-block-end-color: rgb(187, 187, 187);
border-block-end-style: none;
border-block-end-width: 0px;
border-block-start-color: rgb(187, 187, 187);
border-block-start-style: none;
border-block-start-width: 0px;
border-bottom-color: rgb(187, 187, 187);
border-bottom-left-radius: 0px;
border-bottom-right-radius: 0px;
border-bottom-style: none;
border-bottom-width: 0px;
border-collapse: separate;
border-end-end-radius: 0px;
border-end-start-radius: 0px;
border-image-outset: 0;
border-image-repeat: stretch;
border-image-slice: 100%;
border-image-source: none;
border-image-width: 1;
border-inline-end-color: rgb(187, 187, 187);
border-inline-end-style: none;
border-inline-end-width: 0px;
border-inline-start-color: rgb(187, 187, 187);
border-inline-start-style: none;
border-inline-start-width: 0px;
border-left-color: rgb(187, 187, 187);
border-left-style: none;
border-left-width: 0px;
border-right-color: rgb(187, 187, 187);
border-right-style: none;
border-right-width: 0px;
border-start-end-radius: 0px;
border-start-start-radius: 0px;
border-top-color: rgb(187, 187, 187);
border-top-left-radius: 0px;
border-top-right-radius: 0px;
border-top-style: none;
border-top-width: 0px;
color: rgb(187, 187, 187);
color-interpolation: srgb;
color-interpolation-filters: linearrgb;
color-rendering: auto;
cursor: auto;
font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
font-kerning: auto;
font-optical-sizing: auto;
font-palette: normal;
font-size: 14px;
font-size-adjust: none;
font-stretch: 100%;
font-style: normal;
font-synthesis-small-caps: auto;
font-synthesis-style: auto;
font-synthesis-weight: auto;
font-variant: normal;
font-variant-alternates: normal;
font-variant-caps: normal;
font-variant-east-asian: normal;
font-variant-emoji: normal;
font-variant-ligatures: normal;
font-variant-numeric: normal;
font-variant-position: normal;
font-weight: 400;
line-break: auto;
line-height: 21px;
margin-block-end: 0px;
margin-block-start: 0px;
margin-bottom: 0px;
margin-inline-end: 0px;
margin-inline-start: 0px;
margin-left: 0px;
margin-right: 0px;
margin-top: 0px;
padding-block-end: 2px;
padding-block-start: 2px;
padding-bottom: 2px;
padding-inline-end: 0px;
padding-inline-start: 0px;
padding-left: 0px;
padding-right: 0px;
padding-top: 2px;
text-align: left;
text-align-last: auto;
text-anchor: start;
text-box-edge: auto;
text-box-trim: none;
text-decoration: none solid rgb(187, 187, 187);
text-decoration-color: rgb(187, 187, 187);
text-decoration-line: none;
text-decoration-skip-ink: auto;
text-decoration-style: solid;
text-emphasis-color: rgb(187, 187, 187);
text-emphasis-position: over;
text-emphasis-style: none;
text-indent: 0px;
text-overflow: clip;
text-rendering: auto;
text-shadow: none;
text-size-adjust: 100%;
text-spacing-trim: normal;
text-transform: none;
text-underline-position: auto;
text-wrap-mode: wrap;
text-wrap-style: auto;
}</style></head><body class=""><div id="site-announcements" class="site-announcements"><div class="site-announcements-content"></div></div><header id="site-header" class="instructables-header"><div class="logo-nav"><a class="instructables-logo" href="https://www.instructables.com/"><img src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/instructables-logo-2023.svg"></a><div class="main-links"><a href="https://www.instructables.com/projects">Projects</a><a href="https://www.instructables.com/contest">Contests</a><a href="https://www.instructables.com/teachers">Teachers</a></div></div><a class="_smallDesktopSearchIcon_14qqy_102" href="https://www.instructables.com/search"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill-rule="evenodd" d="M17 11a6 6 0 1 1-12 0 6 6 0 0 1 12 0m-1.1 6.32a8 8 0 1 1 1.41-1.41l4.4 4.38a1 1 0 0 1-1.42 1.42z" clip-rule="evenodd"></path></svg></a><div class="_globalSearchWrapper_14qqy_9"><div class="_globalSearchTextInput_14qqy_23"><form action="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/" class="_inputWrapper_14qqy_30"><input class="_searchInput_3i53d_19" placeholder="Search" maxlength="88" autocapitalize="none" autocorrect="off" autocomplete="off" type="search" value="" name="q"><button class="_button_156n2_17 _buttonTertiary_156n2_162 _buttonMedium_156n2_46 _cancelIcon_14qqy_57" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" tabindex="1" class="_cancelIconSvg_14qqy_68" style="opacity: 0; visibility: hidden;"><path fill-rule="evenodd" d="M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22M8.7 7.3a1 1 0 0 0-1.4 1.4l3.29 3.3-3.3 3.3a1 1 0 1 0 1.42 1.4L12 13.42l3.3 3.3a1 1 0 0 0 1.4-1.42L13.42 12l3.3-3.3a1 1 0 0 0-1.42-1.4L12 10.58z" clip-rule="evenodd"></path></svg></button></form><button class="_searchButton_14qqy_75" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill-rule="evenodd" d="M17 11a6 6 0 1 1-12 0 6 6 0 0 1 12 0m-1.1 6.32a8 8 0 1 1 1.41-1.41l4.4 4.38a1 1 0 0 1-1.42 1.42z" clip-rule="evenodd"></path></svg></button></div></div><div class="_userMenuWrapper_e8vjb_12"><a class="_button_156n2_17 _buttonSecondary_156n2_96 _buttonMedium_156n2_46 " href="https://www.instructables.com/account/login">Log In</a><a class="_button_156n2_17 _buttonPrimary_156n2_60 _buttonMedium_156n2_46 " href="https://www.instructables.com/account/register">Sign Up</a></div></header><main><div id="react-container" class=""></div><div class="instructable"><div class="instructable-content"><article id="article" class="full-wrapper category-content-circuits"><header class="article-header" data-location="header"><div class="promo-top"><img class="promo-hide" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/close-ad.svg" alt="Hide" title="Hide"><a href="https://www.instructables.com/contest/makeitwearable2025/" class="promo-link"><img src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/Contest2-1940x500.png" width="970" height="250"></a></div><h1 class="header-title">How to Make a USB Laptop Keyboard Controller</h1><div class="sub-header"><div class="header-byline">
            By <a href="https://www.instructables.com/member/Frank_Adams/" rel="author">Frank_Adams</a>
            
                in <a class="category" href="https://www.instructables.com/circuits/">Circuits</a><a class="channel" href="https://www.instructables.com/circuits/electronics/projects/">Electronics</a></div><div class="header-stats"><p class="svg-views view-count">171,910</p><p class="svg-favorite active favorite-count">333</p><a href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#ible-footer-portal" class="svg-comments active comment-count">324</a></div></div><div class="sub-header header-meta-actions"><div class="header-meta"><span class="posted-date"></span><button class="license-btn" data-url="https://www.apache.org/licenses/LICENSE-2.0.html"><img alt="license" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/apache_small.png"></button></div><div id="ible-actions-portal" data-urlstring="How-to-Make-a-USB-Laptop-Keyboard-Controller" data-id="EXLTH15JN4VCPOJ" data-status="PUBLISHED"><div class="_actionBar_zlxeg_9"><button class="_button_156n2_17 _buttonSecondary_156n2_96 _buttonMedium_156n2_46 " type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="1.5em" height="1.5em"><path fill="#707070" d="M4 16h.5a.5.5 0 0 1 0 1H4zM8 16v3a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1"></path><path fill="#707070" fill-rule="evenodd" d="M21 20a2 2 0 0 1-2 2H2a1 1 0 0 1-1-1v-7a1 1 0 0 1 1-1h1V4c0-1.1.9-2 2-2h10.17a2 2 0 0 1 1.42.59L20.4 6.4A2 2 0 0 1 21 7.83zM5 13h10a1 1 0 0 1 1 1v6h3V10h-5a1 1 0 0 1-1-1V4H5zm14-5h-4V4h.17L19 7.83zM6 16.5c0-.83-.67-1.5-1.5-1.5H3v5h1v-2h.5c.83 0 1.5-.67 1.5-1.5m8-1.5h-3v5h1v-2h2v-1h-2v-1h2zm-7 0h1a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2H7z" clip-rule="evenodd"></path></svg> <span>Save PDF</span></button></div></div></div></header><div class="article-body"><section id="intro" class="step" data-stepid="S43DQETJWB4CBNL"><h2 class="step-title sr-only">Introduction: How to Make a USB Laptop Keyboard Controller</h2><div class="mediaset"><div class="videoset-wrapper">   
    <div class="videoset"><div class="videoset-cell">
    <div class="videoset-item">
        <iframe allowfullscreen="" frameborder="0" height="576" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/458595950.html" title="How to Make a USB Laptop Keyboard Controller" width="1024"></iframe>
    </div>
</div><div class="videoset-cell">
    <div class="videoset-item">
        <iframe frameborder="0" height="576" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/888367797.html" title="Teensy4_Update" width="1024"></iframe>
    </div>
</div></div>
</div></div><noscript><div class="no-js-photoset"></div></noscript><div class="author-promo clearfix"><div class="author-promo-row"><div class="byline"><a class="avatar" rel="author" href="https://www.instructables.com/member/Frank_Adams/"><img class=" lazyloaded" data-src="https://content.instructables.com/FRK/AY4S/JNULDPZ1/FRKAY4SJNULDPZ1.jpg?auto=webp&amp;crop=1%3A1&amp;frame=1&amp;width=130" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FRKAY4SJNULDPZ1.jpg" alt="Frank_Adams"><noscript><img  src="https://content.instructables.com/FRK/AY4S/JNULDPZ1/FRKAY4SJNULDPZ1.jpg?auto=webp&amp;crop=1%3A1&amp;frame=1&amp;width=130" alt="Frank_Adams"/></noscript></a><span class="author-name">By <a class="author" rel="author" href="https://www.instructables.com/member/Frank_Adams/">Frank_Adams</a></span><a class="author-site" rel="noreferrer noopener nofollow" href="https://github.com/thedalles77" target="_blank">GitHub Repo</a><span class="author-follow"><button class="btn btn-yellow follow-btn">Follow</button></span></div></div><div class="recent-ibles promoted-content clearfix "><span class="promoted-items-label"><a rel="author" class="author" href="https://www.instructables.com/member/Frank_Adams/">More by the author:</a></span><div class="promoted-items list-unstyled pull-right"><div data-id="" class="promoted-item-thumbnail thumbnail instructable-thumbnail"><div class="image-wrapper"><a href="https://www.instructables.com/Battery-Powered-Raspberry-Pi-in-Repurposed-Laptop/"><img class=" lazyloaded" data-src="https://content.instructables.com/FNO/TKNR/KKB5IKI1/FNOTKNRKKB5IKI1.png?auto=webp&amp;crop=1%3A1&amp;frame=1&amp;width=130" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FNOTKNRKKB5IKI1.png" alt="Battery Powered Raspberry Pi in Repurposed Laptop"><noscript><img  src="https://content.instructables.com/FNO/TKNR/KKB5IKI1/FNOTKNRKKB5IKI1.png?auto=webp&amp;crop=1%3A1&amp;frame=1&amp;width=130" alt="Battery Powered Raspberry Pi in Repurposed Laptop"/></noscript></a></div></div><div data-id="" class="promoted-item-thumbnail thumbnail instructable-thumbnail"><div class="image-wrapper"><a href="https://www.instructables.com/DIY-Portable-KVM-Crashcart-From-Recycled-Laptop-Pr/"><img class=" lazyloaded" data-src="https://content.instructables.com/FNH/ENOT/JSKOW58L/FNHENOTJSKOW58L.jpg?auto=webp&amp;crop=1%3A1&amp;frame=1&amp;width=130" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FNHENOTJSKOW58L.jpg" alt="DIY Portable KVM Crashcart From Recycled Laptop Provides VGA Display and USB Keyboard Touchpad With Optional Raspberry Pi"><noscript><img  src="https://content.instructables.com/FNH/ENOT/JSKOW58L/FNHENOTJSKOW58L.jpg?auto=webp&amp;crop=1%3A1&amp;frame=1&amp;width=130" alt="DIY Portable KVM Crashcart From Recycled Laptop Provides VGA Display and USB Keyboard Touchpad With Optional Raspberry Pi"/></noscript></a></div></div></div></div></div><div class="step-body"><p>This Instructable will provide a step by step procedure for building a USB laptop keyboard and touchpad controller. I created this guide and video to hopefully make it easier for people to re-purpose an old laptop. A typical laptop relies on the motherboard for the keyboard scanning and touchpad interface. I use a Teensy microcontroller mounted on a connector board to take over this function. This Instructable was originally based on the Teensy LC and 3.2 as shown above in the first video. Because these older Teensies are now obsolete, I've updated the connector boards to use the Teensy 4.0 and 4.1 as shown in the second video. The original Instructable is given below as a PDF for those that can still find a Teensy LC or 3.2. The original and new circuit board files are at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller" rel="nofollow noopener noreferrer">GitHub repository</a> along with all the software.</p><p>Teensies from <a href="https://www.pjrc.com/" rel="nofollow noopener noreferrer">PJRC</a> are often used by the mechanical keyboard enthusiasts at <a href="https://geekhack.org/index.php" rel="nofollow noopener noreferrer">Geekhack</a> and <a href="https://deskthority.net/" rel="nofollow noopener noreferrer">Deskthority</a> and the <a href="https://github.com/tmk/tmk_keyboard" rel="nofollow noopener noreferrer">TMK</a> or <a href="https://qmk.fm/" rel="nofollow noopener noreferrer">QMK</a> software is the most popular controller code. The TMK/QMK code is a bit of an overkill if you just want a simple USB keyboard but it will certainly provide all the features you could ever need. If you would rather write your own keyboard software using Arduino, the <a href="https://www.pjrc.com/teensy/teensyduino.html" rel="nofollow noopener noreferrer">Teensyduino</a> functions give you total USB control. Whatever software you decide to use, it will require a key matrix that maps out how your keyboard is wired. One approach, (that I never want to do again) is to exhaustively check every connector pin combination with an ohm meter while holding down each key. I did this when I <a href="https://github.com/thedalles77/Pi_Teensy_Laptop/blob/master/Laptop%20conversion%20to%20Raspberry%20Pi.pdf" rel="nofollow noopener noreferrer">converted a Sony Vaio</a> into a <a href="https://vimeo.com/458640649" rel="nofollow noopener noreferrer">Raspberry Pi laptop</a>. An <a href="https://www.instructables.com/id/Make-Any-Vintage-Keyboard-Work-With-a-Modern-PC/" rel="noopener noreferrer">Instructable</a> from alpinedelta disassembles the keyboard in order for the connections to each switch to be visually traced back to the connector. Instead of taking the keyboard apart or using an ohm meter, this Instructable will load the Teensy with an automated continuity tester. The Teensy will report over USB, the two pin numbers that are connected when you press a key. After every key has been pressed, the results can be transferred to a row-column matrix and used by the TMK/QMK keyboard controller software or a home-brew Teensyduino routine. The touchpad code described in step 22 can be added to the keyboard routine to create a composite USB device.</p><p>The software and circuit board files shown in this Instructable can be downloaded from my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller" rel="nofollow noopener noreferrer">repo</a> by clicking the green "Code"&nbsp;download button on the right of the GitHub page. Choose the "Download ZIP" option&nbsp;from the Code pull-down menu. The ZIP file&nbsp;will contain&nbsp;the entire repository content.&nbsp;</p></div><div class="downloads"><h3 class="sr-only">Attachments</h3><ul id="attachments" class="ible-files unstyled list-unstyled"><li class="file-info clearfix"><a class="thumb-wrapper" href="https://content.instructables.com/FLD/DWEW/LP6X32RV/FLDDWEWLP6X32RV.pdf" download="How-to-Make-a-USB-Laptop-Keyboard-Controller (Old Version).pdf"><span class="file-thumb"><img class="tiny-img ls-is-cached lazyloaded" data-src="https://content.instructables.com/static/image/attachment-PDF.png" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/attachment-PDF.png" alt="download {{ file.name }}"><noscript><img class="tiny-img" src="https://content.instructables.com/static/image/attachment-PDF.png" alt="download {{ file.name }}"/></noscript></span><span class="title">How-to-Make-a-USB-Laptop-Keyboard-Controller (Old Version).pdf</span></a><div class="file-actions"><a href="https://content.instructables.com/FLD/DWEW/LP6X32RV/FLDDWEWLP6X32RV.pdf" download="How-to-Make-a-USB-Laptop-Keyboard-Controller (Old Version).pdf" class="btn pull-right">Download</a></div></li></ul></div></section><section id="step1" class="step" data-stepid="SH3ZW1IJWB4CBNO"><h2 class="step-title">Step 1: Keyboard Cable Specifications</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset" style="max-width: 918.044px;"><div class="photoset-row items-4 "><div class="photoset-item photoset-cell" style="-webkit-flex: 0.8390501319261213; flex: 0.8390501319261213;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset184" href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FIDKPDSKUV8PYPB.png" data-download="https://content.instructables.com/FID/KPDS/KUV8PYPB/FIDKPDSKUV8PYPB.png?auto=webp&amp;frame=1&amp;md=MjAyMS0xMC0xNyAxMToyODo0OS4w" data-fileid="FIDKPDSKUV8PYPB">
                <img loading="lazy" alt="Keyboard Cable Specifications" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FIDKPDSKUV8PYPB.png">
                
            </a>
        
    </div>
</div><div class="photoset-col" style="-webkit-flex:0.47244094488188976;flex:0.47244094488188976;"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.4285714285714286; flex: 1.4285714285714286;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset184" href="https://content.instructables.com/FNL/1XJP/JN4VHTUH/FNL1XJPJN4VHTUH.png?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAxOC0xMC0xMyAxMDozMDoxMy4w" data-download="https://content.instructables.com/FNL/1XJP/JN4VHTUH/FNL1XJPJN4VHTUH.png?auto=webp&amp;frame=1&amp;md=MjAxOC0xMC0xMyAxMDozMDoxMy4w" data-fileid="FNL1XJPJN4VHTUH">
                <img loading="lazy" alt="Keyboard Cable Specifications" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FNL1XJPJN4VHTUH.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.3333333333333333; flex: 1.3333333333333333;" data-imagenotes="[{&quot;top&quot;:0.8827586206896552,&quot;left&quot;:0.12677878395860284,&quot;author&quot;:&quot;Frank_Adams&quot;,&quot;width&quot;:0.0646830530401035,&quot;noteID&quot;:&quot;NF3X7KAJNCCVAKO&quot;,&quot;text&quot;:&quot;Used Keyboard Bins at Re-PC&quot;,&quot;height&quot;:0.08620689655172414}]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset184" href="https://content.instructables.com/FGY/FTZV/JNCCVADX/FGYFTZVJNCCVADX.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAxOC0xMC0xNyAxMDowMToyMS4w" data-download="https://content.instructables.com/FGY/FTZV/JNCCVADX/FGYFTZVJNCCVADX.jpg?auto=webp&amp;frame=1&amp;md=MjAxOC0xMC0xNyAxMDowMToyMS4w" data-fileid="FGYFTZVJNCCVADX">
                <img loading="lazy" alt="Keyboard Cable Specifications" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FGYFTZVJNCCVADX.jpg">
                
                    <i class="notes-icon"></i>
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5; flex: 1.5;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset184" href="https://content.instructables.com/F5O/ZSP6/KVQOHTT0/F5OZSP6KVQOHTT0.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAyMS0xMS0wOCAxMDo0NjozOS4w" data-download="https://content.instructables.com/F5O/ZSP6/KVQOHTT0/F5OZSP6KVQOHTT0.jpg?auto=webp&amp;frame=1&amp;md=MjAyMS0xMS0wOCAxMDo0NjozOS4w" data-fileid="F5OZSP6KVQOHTT0">
                <img loading="lazy" alt="Keyboard Cable Specifications" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F5OZSP6KVQOHTT0.jpg">
                
            </a>
        
    </div>
</div></div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Keyboard Cable Specifications" src="https://content.instructables.com/FID/KPDS/KUV8PYPB/FIDKPDSKUV8PYPB.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Keyboard Cable Specifications" src="https://content.instructables.com/FNL/1XJP/JN4VHTUH/FNL1XJPJN4VHTUH.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Keyboard Cable Specifications" src="https://content.instructables.com/FGY/FTZV/JNCCVADX/FGYFTZVJNCCVADX.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Keyboard Cable Specifications" src="https://content.instructables.com/F5O/ZSP6/KVQOHTT0/F5OZSP6KVQOHTT0.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>Laptop keyboards use a flat flexible cable (FFC) that is often manufactured as a flexible printed circuit (FPC). This cable connects to all the key switches in an array of rows and columns as shown above. The keyboard controller drives each row low, one at a time while reading the columns (with a pull up resistor) to see if any switch is pushed. The two bins of laptop keyboards shown above are from <a href="http://www.repc.com/" rel="nofollow noopener noreferrer">Re-PC</a>, a local recycling store. About 75% of these keyboards had FPC cables with exposed metal traces on one side and a plastic backing on the other side with a thickness at the end of 0.30 mm. The trace spacing, known as the "pitch" was usually 1mm, 0.8mm, or 0.5mm. It can be difficult to measure the pitch so an alternative is to measure the distance from the center of the first pin to the center of the last pin, then divide this distance by N - 1 (where N is the number of pins)</p><p>Most of the keyboards at Re-PC had 26 or less pins but a few went up to 34. There were also keyboards with dual FPC cables. I have included support for all of these variations. Connectors for keyboard cables are readily available from companies like Aliexpress, Mouser, or Digikey. The number of signal traces, the pitch, and whether the contacts are on the top or bottom are the parameters you will need when ordering. If your FPC cable has locking tabs on each side, you can search data sheets for a compatible connector or cut off the tabs with small scissors. There were some old keyboards in the bins with rigid printed circuit board connectors and some other keyboards with specialized connectors soldered to the end of the FPC cable. These keyboards will not be the focus of this Instructable but a few examples will be given.</p><p>Decide how you will route the FPC cable to the Teensy connector board and then examine whether the contacts at the end of the cable are facing up or down. It's common to flip the FPC cable 180 degrees so it ends up underneath the keyboard. The surface mount FFC/FPC connectors from <a href="https://www.aliexpress.us/w/wholesale-ffc-fpc-connectors.html?spm=a2g0o.home.search.0" rel="nofollow noopener noreferrer">AliExpress</a>, <a href="https://www.mouser.com/c/connectors/ffc-fpc/ffc-fpc-connectors/?orgKeyword=ffc%20fpc%20connectors" rel="nofollow noopener noreferrer">Mouser</a>, <a href="https://www.arrow.com/en/products/search?prodLine=Connector+FFC-FPC&amp;q=ffc+fpc+connector" rel="nofollow noopener noreferrer">Arrow</a>, <a href="https://www.newark.com/w/c/connectors/ffc-fpc-board-connectors?st=ffc%20fpc%20connector&amp;gs=true" rel="nofollow noopener noreferrer">Newark</a>, and <a href="https://www.digikey.com/en/products/filter/ffc-fpc-flat-flexible-connectors/ffc-fpc-flat-flexible-connector-assemblies/399" rel="nofollow noopener noreferrer">Digikey</a> can have top or bottom contacts as shown in the picture above. Besides right angle connectors, there are also <a href="https://www.digikey.com/en/products/detail/molex/0526102472/3262952" rel="nofollow noopener noreferrer">vertical connectors</a>. Here are 3 examples for the possible locking mechanisms; spring loaded with <a href="https://www.digikey.com/en/products/detail/molex/0527933070/5171127" rel="nofollow noopener noreferrer">no locking ba</a>r, <a href="https://www.digikey.com/en/products/detail/w%C3%BCrth-elektronik/686124148922/5047782" rel="nofollow noopener noreferrer">flip down locking bar</a> or <a href="https://www.digikey.com/en/products/detail/molex/0522713069/1632581" rel="nofollow noopener noreferrer">slide a locking drawer sideways</a>.</p></div></section><section id="step2" class="step" data-stepid="STFKUCSJWB4CBNS"><h2 class="step-title">Step 2: Modify Your FPC Cable As Needed</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset"><div class="photoset-row items-2 "><div class="photoset-item photoset-cell" style="-webkit-flex: 1.4072948328267476; flex: 1.4072948328267476;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset190" href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FEA96AAJN4VD2JP.png" data-download="https://content.instructables.com/FEA/96AA/JN4VD2JP/FEA96AAJN4VD2JP.png?auto=webp&amp;frame=1&amp;md=MjAxOC0xMC0xMiAxNjoxMDozNy4w" data-fileid="FEA96AAJN4VD2JP">
                <img loading="lazy" alt="Modify Your FPC Cable As Needed" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FEA96AAJN4VD2JP.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.2793867120954003; flex: 1.2793867120954003;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset190" href="https://content.instructables.com/FMU/JSIY/JOMTIBPR/FMUJSIYJOMTIBPR.png?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAxOC0xMS0xOCAxOTozMDo1Ni4w" data-download="https://content.instructables.com/FMU/JSIY/JOMTIBPR/FMUJSIYJOMTIBPR.png?auto=webp&amp;frame=1&amp;md=MjAxOC0xMS0xOCAxOTozMDo1Ni4w" data-fileid="FMUJSIYJOMTIBPR">
                <img loading="lazy" alt="Modify Your FPC Cable As Needed" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FMUJSIYJOMTIBPR.png">
                
            </a>
        
    </div>
</div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Modify Your FPC Cable As Needed" src="https://content.instructables.com/FEA/96AA/JN4VD2JP/FEA96AAJN4VD2JP.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Modify Your FPC Cable As Needed" src="https://content.instructables.com/FMU/JSIY/JOMTIBPR/FMUJSIYJOMTIBPR.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>Before you solder the keyboard connector to the board, try inserting the FPC cable and confirm it fits. If it's not very tight after you lock it down, you may need to increase the thickness of the plastic backing with tape or a piece of paper. If your FPC cable doesn't slide into the connector, it might need to be trimmed. Locking tabs on the side of the cable are easy to remove with small scissors. If the FPC traces don't line up with the connector pins, use an X-ACTO knife to trim along the side of the cable. The Dell Latitude D630 keyboard needed the most modifications. It had a solder-less connector on the end of the FPC cable that was easily removed. Then I pulled off the extra thick plastic backing that was glued on the end of the cable and cut a notch on the side to align the contacts. To bring the thickness back to normal, I glued 2 pieces of paper to the end of the cable.</p><p>In order to minimize cable modifications, I sometimes install a connector on the board with more pins than the FPC cable. This lets me test various keyboards with different pin counts and I don't need to cut off the locking tabs. This method does require that I visually align the contacts.</p></div></section><section id="step3" class="step" data-stepid="SEA8K7ZJWB4CBNW"><h2 class="step-title">Step 3: Teensy 4.0 Mounted on Top</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset" style="max-width: 1074.95px;"><div class="photoset-row items-3 "><div class="photoset-item photoset-cell" style="-webkit-flex: 0.967605633802817; flex: 0.967605633802817;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset194" href="https://content.instructables.com/FMJ/SFTH/LPPHSOUU/FMJSFTHLPPHSOUU.png?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMy0xMi0wMyAxNTo1Mzo0NS4w" data-download="https://content.instructables.com/FMJ/SFTH/LPPHSOUU/FMJSFTHLPPHSOUU.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMi0wMyAxNTo1Mzo0NS4w" data-fileid="FMJSFTHLPPHSOUU">
                <img loading="lazy" alt="Teensy 4.0 Mounted on Top" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FMJSFTHLPPHSOUU.png">
                
            </a>
        
    </div>
</div><div class="photoset-col" style="-webkit-flex:0.568041304919758;flex:0.568041304919758;"><div class="photoset-item photoset-cell" style="-webkit-flex: 0.9791395045632334; flex: 0.9791395045632334;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset194" href="https://content.instructables.com/FVI/6MZK/LP8CJI63/FVI6MZKLP8CJI63.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMy0xMS0yMSAxNTo0MDo0OC4w" data-download="https://content.instructables.com/FVI/6MZK/LP8CJI63/FVI6MZKLP8CJI63.jpg?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yMSAxNTo0MDo0OC4w" data-fileid="FVI6MZKLP8CJI63">
                <img loading="lazy" alt="Teensy 4.0 Mounted on Top" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FVI6MZKLP8CJI63.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.3529411764705883; flex: 1.3529411764705883;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset194" href="https://content.instructables.com/FRM/JVFY/K747F776/FRMJVFYK747F776.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMC0wMi0yNyAwMDo1MDowMS4w" data-download="https://content.instructables.com/FRM/JVFY/K747F776/FRMJVFYK747F776.jpg?auto=webp&amp;frame=1&amp;md=MjAyMC0wMi0yNyAwMDo1MDowMS4w" data-fileid="FRMJVFYK747F776">
                <img loading="lazy" alt="Teensy 4.0 Mounted on Top" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FRMJVFYK747F776.jpg">
                
            </a>
        
    <div class="photoset-showmore"><img class="loading" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/ajax_loader_48px.gif">3 More Images</div></div>
</div></div></div><div class="photoset-row items-3  hidden-row"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5; flex: 1.5;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset194" href="https://content.instructables.com/F5H/VHL3/LP9RYXVF/F5HVHL3LP9RYXVF.png?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAyMy0xMS0yMiAxMTo1ODo0OC4w" data-download="https://content.instructables.com/F5H/VHL3/LP9RYXVF/F5HVHL3LP9RYXVF.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yMiAxMTo1ODo0OC4w" data-fileid="F5HVHL3LP9RYXVF">
                <img loading="lazy" alt="Teensy 4.0 Mounted on Top" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F5HVHL3LP9RYXVF.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 0.840620592383639; flex: 0.840620592383639;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset194" href="https://content.instructables.com/FLL/5Y86/LP9RYY7S/FLL5Y86LP9RYY7S.png?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMy0xMS0yMiAxMjowNToyMC4w" data-download="https://content.instructables.com/FLL/5Y86/LP9RYY7S/FLL5Y86LP9RYY7S.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yMiAxMjowNToyMC4w" data-fileid="FLL5Y86LP9RYY7S">
                <img loading="lazy" alt="Teensy 4.0 Mounted on Top" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FLL5Y86LP9RYY7S.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.40485312899106; flex: 1.40485312899106;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset194" href="https://content.instructables.com/FO8/ZKPK/LP9RYVJ1/FO8ZKPKLP9RYVJ1.png?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAyMy0xMS0yMiAwOTowNzoyOC4w" data-download="https://content.instructables.com/FO8/ZKPK/LP9RYVJ1/FO8ZKPKLP9RYVJ1.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yMiAwOTowNzoyOC4w" data-fileid="FO8ZKPKLP9RYVJ1">
                <img loading="lazy" alt="Teensy 4.0 Mounted on Top" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FO8ZKPKLP9RYVJ1.png">
                
            </a>
        
    </div>
</div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Teensy 4.0 Mounted on Top" src="https://content.instructables.com/FMJ/SFTH/LPPHSOUU/FMJSFTHLPPHSOUU.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.0 Mounted on Top" src="https://content.instructables.com/FVI/6MZK/LP8CJI63/FVI6MZKLP8CJI63.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.0 Mounted on Top" src="https://content.instructables.com/FRM/JVFY/K747F776/FRMJVFYK747F776.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.0 Mounted on Top" src="https://content.instructables.com/F5H/VHL3/LP9RYXVF/F5HVHL3LP9RYXVF.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.0 Mounted on Top" src="https://content.instructables.com/FLL/5Y86/LP9RYY7S/FLL5Y86LP9RYY7S.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.0 Mounted on Top" src="https://content.instructables.com/FO8/ZKPK/LP9RYVJ1/FO8ZKPKLP9RYVJ1.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>I designed a circuit board for the Teensy 4.0 that routes its 34 I/O pins to 34 surface mount pads for an FPC connector with a 1mm, 0.8mm, or 0.5mm pitch. The Teensy will sit on top with header pins or wires connecting it to the board. The Eagle file "T4p0.brd" at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Keyboard_Scanner_Eagle_Layouts" rel="nofollow noopener noreferrer">repo</a> can be sent to fab houses like <a href="https://oshpark.com/" rel="nofollow noopener noreferrer">OSH Park</a> or <a href="https://www.eurocircuits.com/" rel="nofollow noopener noreferrer">Eurocircuits</a>. Three boards from OSH Park will cost about $20. The zipped Gerber file "<a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Keyboard_Scanner_Eagle_Layouts" rel="nofollow noopener noreferrer">T4p0_2023-12-03.zip</a>" was translated from the Eagle file and is accepted by board houses like <a href="https://jlcpcb.com/" rel="nofollow noopener noreferrer">JLCPCB</a> in China. JLCPCB will produce 5 boards for about $8 with economy shipping to the U.S. This price assumes you select HASL for the surface finish, not the more expensive ENIG finish (which is the only finish offered by OSH Park).</p><p>A connector with up to 34 pins can be soldered to this board based on your FPC cable pin count. For connectors with less than 34 pins, solder it starting at pin 1 and leave the unused pads at the other end blank. If you have a 34 pin FPC cable, you need to free up Teensy I/O 13 from the on-board LED. Unsolder the LED (or its current limit resistor) so I/O 13 can be used by the keyboard. You can purchase the Teensy with or without header pins. I prefer a Teensy without pre-soldered header pins so I can attach the Teensy to the board with wires that are easy to cut or reroute.</p><p>The Teensy 4.0 uses surface mount pads on its back side for I/O signals 24 thru 33 so it’s a little more work to solder these to the board. One approach is to solder 10 “flying leads” to the surface mount pads on the Teensy as shown above and then pass each wire thru the corresponding holes on the board for soldering. Stripped 30 gauge wire wrap wire works good.</p><p>For those that dislike flying leads, buy the <a href="https://www.sparkfun.com/products/13925" rel="nofollow noopener noreferrer">Teensy header kit</a> from Sparkfun and use the 2 x 7 right angle SMT. The surface mount pads on the Teensy 4.0 are small and require the right angle header pins to be trimmed by a 1/2 mm in order to not overhang the pads.</p><p>If you bought a Teensy 4.0 with header pins, cut the 2 x 7 right angle header down to 2 x 5, then use a small proto board with holes to hold the header in alignment while soldering (see picture above). Alignment is easy if you buy a Teensy without header pins because you can cut the 2 pins on each side of the 2 x 7 header so they are straight and can be inserted into the outer Teensy holes (see steps above). In either case, the right angle header pins make the Teensy sit a little higher off the board. See step 6 if you need a low profile solution.</p><p>I designed the circuit board to include surface mount pads for <a href="https://www.digikey.com/en/products/detail/onsemi/BSS138L/5044761" rel="nofollow noopener noreferrer">BSS138</a> transistors and pull up resistors that act as Clock and Data level translators. This allows you to control a 5 volt touchpad with a "bit-bang" PS/2 bus (see schematic above). The translator circuit protects the Teensy from being damaged by the 5 volt touchpad signals. A touchpad powered from 3.3 volts does not need the level translators. Step 22 provides all the details for connecting the Teensy to a touchpad. If you are not controlling a touchpad, leave these pads blank. You can always add the parts later or wire to an <a href="https://www.adafruit.com/product/757" rel="nofollow noopener noreferrer">Adafruit 757</a> level translator instead of building your own. </p><p>The USB to the Teensy is normally connected via a Micro connector but I've included solder pads for hardwiring the USB signals. If you want to use this feature, you will need to solder two flying leads from the D+ and D- pads on the Teensy backside to the connector board.</p></div></section><section id="step4" class="step" data-stepid="S52Y4WKJWB4CBNZ"><h2 class="step-title">Step 4: Teensy 4.1 Mounted on Top</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset" style="max-width: 864.126px;"><div class="photoset-row items-3 "><div class="photoset-item photoset-cell" style="-webkit-flex: 0.7335164835164835; flex: 0.7335164835164835;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset202" href="https://content.instructables.com/FFQ/VPUF/LPPHSSFS/FFQVPUFLPPHSSFS.png?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMy0xMi0wMyAxOToyNDo0MC4w" data-download="https://content.instructables.com/FFQ/VPUF/LPPHSSFS/FFQVPUFLPPHSSFS.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMi0wMyAxOToyNDo0MC4w" data-fileid="FFQVPUFLPPHSSFS">
                <img loading="lazy" alt="Teensy 4.1 Mounted on Top" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FFQVPUFLPPHSSFS.png">
                
            </a>
        
    </div>
</div><div class="photoset-col" style="-webkit-flex:0.5009487666034156;flex:0.5009487666034156;"><div class="photoset-item photoset-cell" style="-webkit-flex: 0.7521367521367521; flex: 0.7521367521367521;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset202" href="https://content.instructables.com/FZI/LIFJ/LP8CJITL/FZILIFJLP8CJITL.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMy0xMS0yMSAxNzowNTo0Mi4w" data-download="https://content.instructables.com/FZI/LIFJ/LP8CJITL/FZILIFJLP8CJITL.jpg?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yMSAxNzowNTo0Mi4w" data-fileid="FZILIFJLP8CJITL">
                <img loading="lazy" alt="Teensy 4.1 Mounted on Top" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FZILIFJLP8CJITL.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5; flex: 1.5;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset202" href="https://content.instructables.com/F5J/GTQ5/LP9RYVQ4/F5JGTQ5LP9RYVQ4.png?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAyMy0xMS0yMiAwOTowODowMy4w" data-download="https://content.instructables.com/F5J/GTQ5/LP9RYVQ4/F5JGTQ5LP9RYVQ4.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yMiAwOTowODowMy4w" data-fileid="F5JGTQ5LP9RYVQ4">
                <img loading="lazy" alt="Teensy 4.1 Mounted on Top" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F5JGTQ5LP9RYVQ4.png">
                
            </a>
        
    </div>
</div></div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Teensy 4.1 Mounted on Top" src="https://content.instructables.com/FFQ/VPUF/LPPHSSFS/FFQVPUFLPPHSSFS.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.1 Mounted on Top" src="https://content.instructables.com/FZI/LIFJ/LP8CJITL/FZILIFJLP8CJITL.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.1 Mounted on Top" src="https://content.instructables.com/F5J/GTQ5/LP9RYVQ4/F5JGTQ5LP9RYVQ4.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>The Teensy 4.1 will sit on top with header pins or wires attaching it to the connector board. To fabricate this board, use Eagle file "T4p1.brd" or the zipped Gerber file "T4p1_2023-12-03.zip" at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Keyboard_Scanner_Eagle_Layouts" rel="nofollow noopener noreferrer">repo</a>. The circuit board routes 34 I/O pins from the Teensy 4.1 to 34 surface mount pads for an FPC connector with a 1mm, 0.8mm, or 0.5mm pitch. The Teensy 4.1 is a little more expensive and larger than the 4.0 but it has 42 I/O pins around the outside so there's no backside surface mount I/O pads to solder or LEDs to remove. The schematic (given above) shows the <a href="https://www.digikey.com/en/products/detail/onsemi/BSS138L/5044761" rel="nofollow noopener noreferrer">BSS138</a> transistors and pull up resistors on I/O's 39 and 40 that make level translators for a 5 volt touchpad. You can also add current limit resistors on I/O's 37 and 38 to drive CAPS and NUM lock LEDs.</p></div></section><section id="step5" class="step" data-stepid="SK97HI4JWB4CBO2"><h2 class="step-title">Step 5: Teensy 4.1 "Easy-Soldering Board" or "No-Solder Method"</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset" style="max-width: 818.632px;"><div class="photoset-row items-4 "><div class="photoset-item photoset-cell" style="-webkit-flex: 0.8184357541899442; flex: 0.8184357541899442;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset207" href="https://content.instructables.com/FOJ/DHT2/LP8CJJ5K/FOJDHT2LP8CJJ5K.png?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMy0xMS0yMSAxNzo1MToyMi4w" data-download="https://content.instructables.com/FOJ/DHT2/LP8CJJ5K/FOJDHT2LP8CJJ5K.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yMSAxNzo1MToyMi4w" data-fileid="FOJDHT2LP8CJJ5K">
                <img loading="lazy" alt="Teensy 4.1 " easy-soldering="" board"="" or="" "no-solder="" method""="" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FOJDHT2LP8CJJ5K.png">
                
            </a>
        
    </div>
</div><div class="photoset-col" style="-webkit-flex:0.3510380986529229;flex:0.3510380986529229;"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.122672508214677; flex: 1.122672508214677;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset207" href="https://content.instructables.com/FK2/HUOQ/LP9RYUJ5/FK2HUOQLP9RYUJ5.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMy0xMS0yMiAwODoyNTo0NS4w" data-download="https://content.instructables.com/FK2/HUOQ/LP9RYUJ5/FK2HUOQLP9RYUJ5.jpg?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yMiAwODoyNTo0NS4w" data-fileid="FK2HUOQLP9RYUJ5">
                <img loading="lazy" alt="Teensy 4.1 " easy-soldering="" board"="" or="" "no-solder="" method""="" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FK2HUOQLP9RYUJ5.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.4158163265306123; flex: 1.4158163265306123;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset207" href="https://content.instructables.com/FUO/Q7YN/LP8CJJ8H/FUOQ7YNLP8CJJ8H.png?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAyMy0xMS0yMSAxNzo1NDoxMy4w" data-download="https://content.instructables.com/FUO/Q7YN/LP8CJJ8H/FUOQ7YNLP8CJJ8H.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yMSAxNzo1NDoxMy4w" data-fileid="FUOQ7YNLP8CJJ8H">
                <img loading="lazy" alt="Teensy 4.1 " easy-soldering="" board"="" or="" "no-solder="" method""="" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FUOQ7YNLP8CJJ8H.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 0.798941798941799; flex: 0.798941798941799;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset207" href="https://content.instructables.com/FAH/1L8E/LPGX68Y7/FAH1L8ELPGX68Y7.png?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMy0xMS0yNyAwOTozODoyNy4w" data-download="https://content.instructables.com/FAH/1L8E/LPGX68Y7/FAH1L8ELPGX68Y7.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yNyAwOTozODoyNy4w" data-fileid="FAH1L8ELPGX68Y7">
                <img loading="lazy" alt="Teensy 4.1 " easy-soldering="" board"="" or="" "no-solder="" method""="" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FAH1L8ELPGX68Y7.png">
                
            </a>
        
    </div>
</div></div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Teensy 4.1 &quot;Easy-Soldering Board&quot; or &quot;No-Solder Method&quot;" src="https://content.instructables.com/FOJ/DHT2/LP8CJJ5K/FOJDHT2LP8CJJ5K.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.1 &quot;Easy-Soldering Board&quot; or &quot;No-Solder Method&quot;" src="https://content.instructables.com/FK2/HUOQ/LP9RYUJ5/FK2HUOQLP9RYUJ5.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.1 &quot;Easy-Soldering Board&quot; or &quot;No-Solder Method&quot;" src="https://content.instructables.com/FUO/Q7YN/LP8CJJ8H/FUOQ7YNLP8CJJ8H.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.1 &quot;Easy-Soldering Board&quot; or &quot;No-Solder Method&quot;" src="https://content.instructables.com/FAH/1L8E/LPGX68Y7/FAH1L8ELPGX68Y7.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>If your soldering skills are not ready for surface mount pads but you can solder a pin in a hole, the board shown above uses a vertical FPC connector with thru hole pins. Download the Eagle file "T4p1_thruhole.brd" or Gerber file "T4p1_thruhole_2023-11-01.zip" from my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Keyboard_Scanner_Eagle_Layouts" rel="nofollow noopener noreferrer">repo</a> for fabrication. This board only works if your keyboard FPC cable has no more than 34 pins and a pitch of 1mm or 1.25mm. The board has 34 standard platted thru holes for the connector pins instead of surface mount pads. You can rotate the connector 180 degrees so the contacts are on the left or the right to match up with your FPC cable. The pin spacing shown above is designed for vertical connectors such as the 26 pin, 1mm pitch Amphenol HLW26S-2C7LF or SLW26S-1C7LF. Replace the 26 in the part number with the number of pins in your cable. These or similar connectors are available from supply houses like <a href="https://www.digikey.com/en/products/detail/amphenol-cs-fci/HLW26S-2C7LF/1002156?s=N4IgTCBcDaIBIBkDqYBsBlAtGAwgdgQDEQBdAXyA" rel="nofollow noopener noreferrer">Digikey</a>, <a href="https://www.mouser.com/ProductDetail/Amphenol-FCI/HLW26S-2C7LF?qs=sGifQMX%252BULBJd5oJn%252B2XOw%3D%3D" rel="nofollow noopener noreferrer">Mouser</a>, <a href="https://www.arrow.com/en/products/hlw26s-2c7lf/amphenol-fci" rel="nofollow noopener noreferrer">Arrow</a>, <a href="https://www.newark.com/amphenol-icc/hlw26s-2c7lf/connector-ffc-fpc-26pos-1row-1mm/dp/28AH8680" rel="nofollow noopener noreferrer">Newark</a>, and <a href="https://www.aliexpress.com/item/32902729489.html?spm=a2g0o.productlist.0.0.3ea37681oedonA&amp;algo_pvid=2aaf6be6-7ff7-416a-8ab3-ce0c519db73b&amp;algo_expid=2aaf6be6-7ff7-416a-8ab3-ce0c519db73b-3&amp;btsid=0ab6f82315881054052117169e4247&amp;ws_ab_test=searchweb0_0,searchweb201602_,searchweb201603_" rel="nofollow noopener noreferrer">AliExpress</a>. The 1.25mm pitch connectors (used on very old laptops) are a little harder to find but there are some available from <a href="https://www.aliexpress.com/item/33053230433.html?spm=a2g0o.productlist.0.0.343f48fdf97e6k&amp;algo_pvid=1b41f4c6-79bd-4002-a67e-f17a198caa7c&amp;algo_exp_id=1b41f4c6-79bd-4002-a67e-f17a198caa7c-0&amp;pdp_ext_f=%7B%22sku_id%22%3A%2267510008681%22%7D" rel="nofollow noopener noreferrer">AliExpress</a>. If you want to drive CAPS or NUM Lock LEDs, there are pads for axial leaded current limit resistors driven by I/O's 37 and 38 (see schematic above). To control a 5 volt touchpad, I/O's 39 and 40 are brought to pads that can be wired to an <a href="https://www.adafruit.com/product/757" rel="nofollow noopener noreferrer">Adafruit 757</a> level translator.</p><p>If you don't know how to solder but still want to make a USB keyboard, download the PDF file below or from my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Keyboard_Scanner_Eagle_Layouts/No_solder_method.pdf" rel="nofollow noopener noreferrer">repo</a>. It will explain my “No-solder method" that uses an AliExpress FPC adapter board and jumper wires. This approach is also good for confirming the laptop keyboard and software are working before soldering a custom board.</p></div><div class="downloads"><h3 class="sr-only">Attachments</h3><ul id="attachments" class="ible-files unstyled list-unstyled"><li class="file-info clearfix"><a class="thumb-wrapper" href="https://content.instructables.com/FUX/5RF5/M4BBU7XE/FUX5RF5M4BBU7XE.pdf" download="No_solder_method.pdf"><span class="file-thumb"><img class="tiny-img ls-is-cached lazyloaded" data-src="https://content.instructables.com/static/image/attachment-PDF.png" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/attachment-PDF.png" alt="download {{ file.name }}"><noscript><img class="tiny-img" src="https://content.instructables.com/static/image/attachment-PDF.png" alt="download {{ file.name }}"/></noscript></span><span class="title">No_solder_method.pdf</span></a><div class="file-actions"><a href="https://content.instructables.com/FUX/5RF5/M4BBU7XE/FUX5RF5M4BBU7XE.pdf" download="No_solder_method.pdf" class="btn pull-right">Download</a></div></li></ul></div></section><section id="step6" class="step" data-stepid="SKXJV1OJWB4CBO5"><h2 class="step-title">Step 6: Teensy 4.0 &amp; 4.1 Low Profile Connector Boards</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset" style="max-width: 1156.08px;"><div class="photoset-row items-3 "><div class="photoset-item photoset-cell" style="-webkit-flex: 1.2365079365079366; flex: 1.2365079365079366;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset213" href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FNQURTVLPPHSP9X.png" data-download="https://content.instructables.com/FNQ/URTV/LPPHSP9X/FNQURTVLPPHSP9X.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMi0wMyAxNTo1NjoxNi4w" data-fileid="FNQURTVLPPHSP9X">
                <img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FNQURTVLPPHSP9X.png">
                
            </a>
        
    </div>
</div><div class="photoset-col" style="-webkit-flex:0.41504043408235314;flex:0.41504043408235314;"><div class="photoset-item photoset-cell" style="-webkit-flex: 0.8168067226890756; flex: 0.8168067226890756;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset213" href="https://content.instructables.com/F25/KVF5/LP8CJQLH/F25KVF5LP8CJQLH.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMy0xMS0yMSAyMTo0Nzo1NC4w" data-download="https://content.instructables.com/F25/KVF5/LP8CJQLH/F25KVF5LP8CJQLH.jpg?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yMSAyMTo0Nzo1NC4w" data-fileid="F25KVF5LP8CJQLH">
                <img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F25KVF5LP8CJQLH.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 0.8437935843793585; flex: 0.8437935843793585;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset213" href="https://content.instructables.com/F3J/755Q/LPPHSP9Y/F3J755QLPPHSP9Y.png?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMy0xMi0wMyAxNTo1NjoxNy4w" data-download="https://content.instructables.com/F3J/755Q/LPPHSP9Y/F3J755QLPPHSP9Y.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMi0wMyAxNTo1NjoxNy4w" data-fileid="F3J755QLPPHSP9Y">
                <img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F3J755QLPPHSP9Y.png">
                
            </a>
        
    <div class="photoset-showmore"><img class="loading" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/ajax_loader_48px.gif">6 More Images</div></div>
</div></div></div><div class="photoset-row items-3  hidden-row"><div class="photoset-item photoset-cell" style="-webkit-flex: 0.8810289389067524; flex: 0.8810289389067524;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset213" href="https://content.instructables.com/FMK/FTPG/LPPHSSRH/FMKFTPGLPPHSSRH.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMy0xMi0wMyAxOToyNjo0NS4w" data-download="https://content.instructables.com/FMK/FTPG/LPPHSSRH/FMKFTPGLPPHSSRH.jpg?auto=webp&amp;frame=1&amp;md=MjAyMy0xMi0wMyAxOToyNjo0NS4w" data-fileid="FMKFTPGLPPHSSRH">
                <img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FMKFTPGLPPHSSRH.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.2736572890025575; flex: 1.2736572890025575;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset213" href="https://content.instructables.com/F4J/1UH6/LP9RYVYQ/F4J1UH6LP9RYVYQ.png?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMy0xMS0yMiAwOTowOTowMi4w" data-download="https://content.instructables.com/F4J/1UH6/LP9RYVYQ/F4J1UH6LP9RYVYQ.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yMiAwOTowOTowMi4w" data-fileid="F4J1UH6LP9RYVYQ">
                <img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F4J1UH6LP9RYVYQ.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5; flex: 1.5;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset213" href="https://content.instructables.com/FDE/FROJ/LP9RYVYR/FDEFROJLP9RYVYR.png?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAyMy0xMS0yMiAwOTowOTowMy4w" data-download="https://content.instructables.com/FDE/FROJ/LP9RYVYR/FDEFROJLP9RYVYR.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yMiAwOTowOTowMy4w" data-fileid="FDEFROJLP9RYVYR">
                <img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FDEFROJLP9RYVYR.png">
                
            </a>
        
    </div>
</div></div><div class="photoset-row items-3  hidden-row"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.2879256965944272; flex: 1.2879256965944272;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset213" href="https://content.instructables.com/F98/XRH7/LPCMUR2Q/F98XRH7LPCMUR2Q.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMy0xMS0yNCAxNjo1NTo1MS4w" data-download="https://content.instructables.com/F98/XRH7/LPCMUR2Q/F98XRH7LPCMUR2Q.jpg?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yNCAxNjo1NTo1MS4w" data-fileid="F98XRH7LPCMUR2Q">
                <img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F98XRH7LPCMUR2Q.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5; flex: 1.5;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset213" href="https://content.instructables.com/FJ8/6R49/LPPHSTEA/FJ86R49LPPHSTEA.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAyMy0xMi0wMyAxOTo0Njo0MC4w" data-download="https://content.instructables.com/FJ8/6R49/LPPHSTEA/FJ86R49LPPHSTEA.jpg?auto=webp&amp;frame=1&amp;md=MjAyMy0xMi0wMyAxOTo0Njo0MC4w" data-fileid="FJ86R49LPPHSTEA">
                <img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FJ86R49LPPHSTEA.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.054245283018868; flex: 1.054245283018868;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset213" href="https://content.instructables.com/F74/95KB/LPO2CSEU/F7495KBLPO2CSEU.png?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMy0xMi0wMiAwODo1NTozMS4w" data-download="https://content.instructables.com/F74/95KB/LPO2CSEU/F7495KBLPO2CSEU.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMi0wMiAwODo1NTozMS4w" data-fileid="F7495KBLPO2CSEU">
                <img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F7495KBLPO2CSEU.png">
                
            </a>
        
    </div>
</div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="https://content.instructables.com/FNQ/URTV/LPPHSP9X/FNQURTVLPPHSP9X.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="https://content.instructables.com/F25/KVF5/LP8CJQLH/F25KVF5LP8CJQLH.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="https://content.instructables.com/F3J/755Q/LPPHSP9Y/F3J755QLPPHSP9Y.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="https://content.instructables.com/FMK/FTPG/LPPHSSRH/FMKFTPGLPPHSSRH.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="https://content.instructables.com/F4J/1UH6/LP9RYVYQ/F4J1UH6LP9RYVYQ.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="https://content.instructables.com/FDE/FROJ/LP9RYVYR/FDEFROJLP9RYVYR.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="https://content.instructables.com/F98/XRH7/LPCMUR2Q/F98XRH7LPCMUR2Q.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="https://content.instructables.com/FJ8/6R49/LPPHSTEA/FJ86R49LPPHSTEA.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 4.0 &amp; 4.1 Low Profile Connector Boards" src="https://content.instructables.com/F74/95KB/LPO2CSEU/F7495KBLPO2CSEU.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>A Teensy with header pins that is mounted on top of an FPC connector board may be too tall to fit in a thin laptop case so I designed the two "cutout" boards shown above. The two Eagle board files are "T4p0_cutout.brd" and "T4p1_cutout.brd". The Gerber files are "T4p0_cutout_2023-12-23.zip" and "T4p1_cutout_2023-12-23.zip", all at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Keyboard_Scanner_Eagle_Layouts" rel="nofollow noopener noreferrer">repo</a>. Purchase the Teensy without header pins, then solder U shaped header pins (or wires) to hold the Teensy in the board cutout. For the Teensy 4.0, I/O numbers 24 thru 33 on the backside surface mount pads must be connected with jumper wires to the board (see picture above). If you have a 34 pin FPC cable and you are using a Teensy 4.0, you must unsolder the LED to free up I/O 13. I used "U" shaped header pins from <a href="https://www.aliexpress.com/i/3256804281991520.html?gatewayAdapt=4itemAdapt" rel="nofollow noopener noreferrer">Ali Express</a> that have a width of 6mm (see drawing above). Both boards will work with 1mm, 0.8mm, or 0.5mm pitch FPC connectors with up to 34 pins. There are surface mount pads for <a href="https://www.digikey.com/en/products/detail/onsemi/BSS138L/5044761" rel="nofollow noopener noreferrer">BSS138</a> transistors and resistors that make level translators for controlling a 5 volt touchpad (see schematics above).</p></div></section><section id="step7" class="step" data-stepid="S3O9LZRJWB4CBOC"><h2 class="step-title">Step 7: Teensy 2.0++ Connector Board</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset" style="max-width: 983.471px;"><div class="photoset-row items-3 "><div class="photoset-item photoset-cell" style="-webkit-flex: 0.8199737187910644; flex: 0.8199737187910644;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset224" href="https://content.instructables.com/F3K/JU35/LP8CJSL9/F3KJU35LP8CJSL9.png?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMy0xMS0yMSAyMjo1NTo0Ny4w" data-download="https://content.instructables.com/F3K/JU35/LP8CJSL9/F3KJU35LP8CJSL9.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yMSAyMjo1NTo0Ny4w" data-fileid="F3KJU35LP8CJSL9">
                <img loading="lazy" alt="Teensy 2.0++ Connector Board" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F3KJU35LP8CJSL9.png">
                
            </a>
        
    </div>
</div><div class="photoset-col" style="-webkit-flex:0.5849843587069864;flex:0.5849843587069864;"><div class="photoset-item photoset-cell" style="-webkit-flex: 0.958974358974359; flex: 0.958974358974359;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset224" href="https://content.instructables.com/F6I/1Y7A/LPPHSSLJ/F6I1Y7ALPPHSSLJ.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMy0xMi0wMyAxOToyNTo1Ni4w" data-download="https://content.instructables.com/F6I/1Y7A/LPPHSSLJ/F6I1Y7ALPPHSSLJ.jpg?auto=webp&amp;frame=1&amp;md=MjAyMy0xMi0wMyAxOToyNTo1Ni4w" data-fileid="F6I1Y7ALPPHSSLJ">
                <img loading="lazy" alt="Teensy 2.0++ Connector Board" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F6I1Y7ALPPHSSLJ.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5; flex: 1.5;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset224" href="https://content.instructables.com/FD0/UQS2/LPWN1A87/FD0UQS2LPWN1A87.png?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAyMy0xMi0wOCAxMDo0NDoxNS4w" data-download="https://content.instructables.com/FD0/UQS2/LPWN1A87/FD0UQS2LPWN1A87.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMi0wOCAxMDo0NDoxNS4w" data-fileid="FD0UQS2LPWN1A87">
                <img loading="lazy" alt="Teensy 2.0++ Connector Board" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FD0UQS2LPWN1A87.png">
                
            </a>
        
    </div>
</div></div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Teensy 2.0++ Connector Board" src="https://content.instructables.com/F3K/JU35/LP8CJSL9/F3KJU35LP8CJSL9.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 2.0++ Connector Board" src="https://content.instructables.com/F6I/1Y7A/LPPHSSLJ/F6I1Y7ALPPHSSLJ.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Teensy 2.0++ Connector Board" src="https://content.instructables.com/FD0/UQS2/LPWN1A87/FD0UQS2LPWN1A87.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p><br></p><p>If it's hard to find a Teensy 4.0 or 4.1 in your area, you can order a Teensy 2.0++ clone from <a href="https://www.aliexpress.us/item/2255800849800105.html?spm=a2g0o.detail.pcDetailTopMoreOtherSeller.6.5d5fWHWiWHWinW&amp;gps-id=pcDetailTopMoreOtherSeller&amp;scm=1007.40050.354490.0&amp;scm_id=1007.40050.354490.0&amp;scm-url=1007.40050.354490.0&amp;pvid=9c8c5369-2a6c-4a3d-a18e-331cb6385de8&amp;_t=gps-id:pcDetailTopMoreOtherSeller,scm-url:1007.40050.354490.0,pvid:9c8c5369-2a6c-4a3d-a18e-331cb6385de8,tpp_buckets:668%232846%238115%232000&amp;pdp_npi=4%40dis%21USD%2121.46%2121.46%21%21%2121.46%2121.46%21%402103201917170025082901207ea248%2110000013674596807%21rec%21US%21908629051%21&amp;utparam-url=scene%3ApcDetailTopMoreOtherSeller%7Cquery_from%3A" rel="nofollow noopener noreferrer">AliExpress</a>. This an old 8 bit controller that is no longer offered by PJRC but the clone works fine as a keyboard controller. Make sure you order the Teensy 2.0++ with 20 pins on each side. The smaller 2.0 without the ++ only has 12 pins on each side and a lot less I/O. I designed the board shown above to work with surface mount FPC connectors up to 36 pins with a 1mm, 0.8mm, or 0.5mm pitch. The Eagle file "Keyboard_Scanner_2pp_RevA.brd" and the zipped Gerber file "Keyboard_Scanner_2pp_RevA_2023-10-31.zip" are at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Keyboard_Scanner_Eagle_Layouts" rel="nofollow noopener noreferrer">repo</a>. My original connector board used I/O pin D6 for one of the keyboard signals but this is tied to the onboard LED. The Rev A connector board avoids using I/O pin D6 so you don't need to unsolder the LED. Use header pins or wires to connect interior I/O's PA0 thru PA7 to the board. Interior I/O's E4 and E5 are too small for header pins so you must use 30 gauge wire. See the assembled board in the pictures above.</p><p>The Teensy 2.0++ outputs 5 volt logic signals that can directly control a 5 volt touchpad without level translators. If your touchpad is powered with 3.3 volts, use an <a href="https://www.adafruit.com/product/757" rel="nofollow noopener noreferrer">Adafruit 757</a> to translate the PS/2 clock and data signals so you don't damage the touchpad.</p><p>The I/O pin names that are silkscreened on the Teensy can be used in the code but must be preceded with PIN_ (example PIN_B7). The code looks more "Arduino-ish" if you use I/O numbers. See the schematic above for translating the silkscreen pin names to Arduino I/O numbers.</p></div></section><section id="step8" class="step" data-stepid="S5BBTU7JWB4CBOG"><h2 class="step-title">Step 8: Load the Continuity Tester Into the Teensy</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset" style="max-width: 720.664px;"><div class="photoset-row items-1 "><div class="photoset-item photoset-cell" style="-webkit-flex: 1.029520295202952; flex: 1.029520295202952;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset229" href="https://content.instructables.com/FYJ/7X9C/LPO2CSYP/FYJ7X9CLPO2CSYP.png?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMy0xMi0wMiAxMDozMjozNC4w" data-download="https://content.instructables.com/FYJ/7X9C/LPO2CSYP/FYJ7X9CLPO2CSYP.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMi0wMiAxMDozMjozNC4w" data-fileid="FYJ7X9CLPO2CSYP">
                <img loading="lazy" alt="Load the Continuity Tester Into the Teensy" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FYJ7X9CLPO2CSYP.png">
                
            </a>
        
    </div>
</div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Load the Continuity Tester Into the Teensy" src="https://content.instructables.com/FYJ/7X9C/LPO2CSYP/FYJ7X9CLPO2CSYP.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><ul><li>Follow the <a href="https://www.pjrc.com/teensy/td_download.html" rel="nofollow noopener noreferrer">PJRC</a> instructions for installing Arduino and Teensyduino on your computer.</li><li>Load the Matrix_Decoder code from my repo into the Arduino integrated development environment (IDE).</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Teensy_Continuity_Tester/Matrix_Decoder_4p0.ino" rel="nofollow noopener noreferrer">Matrix_Decoder_4p0.ino</a> is for a Teensy 4.0, <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Teensy_Continuity_Tester/Matrix_Decoder_4p1.ino" rel="nofollow noopener noreferrer">Matrix_Decoder_4p1.ino</a> is for a Teensy 4.1, and <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Teensy_Continuity_Tester/Matrix_Decoder_2pp_RevA.ino" rel="nofollow noopener noreferrer">Matrix_Decoder_2pp_RevA.ino</a> is for a Teensy 2.0++.</li><li>Two integers near the top of the code may need to be adjusted for your keyboard. The min_pin is usually set to 1 and the max_pin is usually set to the FPC connector size. The routine will first test from min to max and then it tests from max to min (just in case there are diodes in the keyboard).</li><li>Connect a USB cable from the Teensy to the computer. Your computer should automatically load the necessary USB drivers.</li><li>In the Arduino IDE, under “tools”, "board", "Teensy", select Teensy 4.0, 4.1, or ++2.0 depending on what you’re using. Also under “tools”, select USB type: "Keyboard" or "Keyboard + Mouse + Joystick". If you forget to do this step, you will get an error message that says "Keyboard was not declared in this scope".</li><li>Compile and load the Matrix_Decoder code into the Teensy. If it’s your very first time loading the Teensy, you may have to push the button on the Teensy to enable the loader.</li><li>Disconnect the USB cable from the Teensy.</li><li>If you are using a Teensy 4.0 on a 34 pin FPC cable, you must unsolder the LED on the Teensy so it does not interfere with the scan.</li><li>French computers require the shift key in order to display the numbers 0 thru 9. I have made French matrix decoder code for the Teensy 4.0 and 4.1 that takes care of the shift key so that numbers are displayed on a French computer. You can find this code at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Teensy_Continuity_Tester/Matrix_Decoder_French" rel="nofollow noopener noreferrer">Github repo</a>.</li></ul></div></section><section id="step9" class="step" data-stepid="SXFVYYFJWB4CBOL"><h2 class="step-title">Step 9: Load the Key-List File Into an Editor</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset" style="max-width: 741.952px;"><div class="photoset-row items-1 "><div class="photoset-item photoset-cell" style="-webkit-flex: 1.0599315068493151; flex: 1.0599315068493151;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset232" href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F86SRLNLPMMXMER.png" data-download="https://content.instructables.com/F86/SRLN/LPMMXMER/F86SRLNLPMMXMER.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMi0wMSAxOTo0NzozNy4w" data-fileid="F86SRLNLPMMXMER">
                <img loading="lazy" alt="Load the Key-List File Into an Editor" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F86SRLNLPMMXMER.png">
                
            </a>
        
    </div>
</div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Load the Key-List File Into an Editor" src="https://content.instructables.com/F86/SRLN/LPMMXMER/F86SRLNLPMMXMER.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>There are two “key-list” text files given below and at my repo named <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Blank_Key_Lists/Keyboard_with_number_pad.txt" rel="nofollow noopener noreferrer">Keyboard_with_number_pad.txt</a> and <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Blank_Key_Lists/Keyboard_without_number_pad.txt" rel="nofollow noopener noreferrer">Keyboard_without_number_pad.txt</a>. Download the one that matches your keyboard and open it in a text editor. If your keyboard has an embedded number pad, use the Keyboard_without_number_pad text file. You can get the embedded number pad to work later. I like to use Notepad++ because it has column editing but any editor will work. Place the cursor to the right of the very first key in the list as shown above. This will determine where the Teensy begins to display the pin numbers as you push each key. These “key-list” files have every key that the Teensy can send followed by tabs to make space for pin numbers. The GUI key is the "Windows key" on a PC or the "clover key" on a Mac.</p><p><strong>Automated Method:</strong></p><p>Marcel Hillesheim has written a <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller-1/blob/master/matrixgenerator.py" rel="nofollow noopener noreferrer">Python program</a> that takes much of the manual labor out of my original process. I forked his GitHub repo so I could add more Teensy's to the program. If you're comfortable running Python, download this program. It will save you a lot of time.</p><p><strong>Manual Method:</strong></p><p>If you are not familiar with running Python, use the manual method described in step 12 .</p></div><div class="downloads"><h3 class="sr-only">Attachments</h3><ul id="attachments" class="ible-files unstyled list-unstyled"><li class="file-info clearfix"><a class="thumb-wrapper" href="https://content.instructables.com/FNO/WFPA/LRC2VU6Y/FNOWFPALRC2VU6Y.txt" download="Keyboard_with_number_pad.txt"><span class="file-thumb"><img class="lazyload tiny-img" data-src="https://content.instructables.com/static/image/file.default.gif" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/pixel.png" alt="download {{ file.name }}"><noscript><img class="tiny-img" src="https://content.instructables.com/static/image/file.default.gif" alt="download {{ file.name }}"/></noscript></span><span class="title">Keyboard_with_number_pad.txt</span></a><div class="file-actions"><a href="https://content.instructables.com/FNO/WFPA/LRC2VU6Y/FNOWFPALRC2VU6Y.txt" download="Keyboard_with_number_pad.txt" class="btn pull-right">Download</a></div></li><li class="file-info clearfix"><a class="thumb-wrapper" href="https://content.instructables.com/F2C/V8ST/LRC2VU6Z/F2CV8STLRC2VU6Z.txt" download="Keyboard_without_number_pad.txt"><span class="file-thumb"><img class="lazyload tiny-img" data-src="https://content.instructables.com/static/image/file.default.gif" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/pixel.png" alt="download {{ file.name }}"><noscript><img class="tiny-img" src="https://content.instructables.com/static/image/file.default.gif" alt="download {{ file.name }}"/></noscript></span><span class="title">Keyboard_without_number_pad.txt</span></a><div class="file-actions"><a href="https://content.instructables.com/F2C/V8ST/LRC2VU6Z/F2CV8STLRC2VU6Z.txt" download="Keyboard_without_number_pad.txt" class="btn pull-right">Download</a></div></li></ul></div></section><section id="step10" class="step" data-stepid="ST0EK0GJWB4CBOQ"><h2 class="step-title">Step 10: Connect the FPC Cable</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset"><div class="photoset-row items-3 "><div class="photoset-item photoset-cell" style="-webkit-flex: 1.3502024291497976; flex: 1.3502024291497976;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset235" href="https://content.instructables.com/F9U/SHRF/JN4VDDOZ/F9USHRFJN4VDDOZ.png?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAxOC0xMC0xMiAyMzozMDoxOC4w" data-download="https://content.instructables.com/F9U/SHRF/JN4VDDOZ/F9USHRFJN4VDDOZ.png?auto=webp&amp;frame=1&amp;md=MjAxOC0xMC0xMiAyMzozMDoxOC4w" data-fileid="F9USHRFJN4VDDOZ">
                <img loading="lazy" alt="Connect the FPC Cable" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F9USHRFJN4VDDOZ.png">
                
            </a>
        
    </div>
</div><div class="photoset-col" style="-webkit-flex:0.4340854993290902;flex:0.4340854993290902;"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.3002169197396962; flex: 1.3002169197396962;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset235" href="https://content.instructables.com/FZY/38ZJ/JU31VE6L/FZY38ZJJU31VE6L.png?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAxOS0wNC0wNiAxNjo1MDoxMy4w" data-download="https://content.instructables.com/FZY/38ZJ/JU31VE6L/FZY38ZJJU31VE6L.png?auto=webp&amp;frame=1&amp;md=MjAxOS0wNC0wNiAxNjo1MDoxMy4w" data-fileid="FZY38ZJJU31VE6L">
                <img loading="lazy" alt="Connect the FPC Cable" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FZY38ZJJU31VE6L.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 0.6516393442622951; flex: 0.6516393442622951;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset235" href="https://content.instructables.com/FGD/A5J7/KVP8Z2NE/FGDA5J7KVP8Z2NE.jpg?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMS0xMS0wNyAxODo0Mjo1Ny4w" data-download="https://content.instructables.com/FGD/A5J7/KVP8Z2NE/FGDA5J7KVP8Z2NE.jpg?auto=webp&amp;frame=1&amp;md=MjAyMS0xMS0wNyAxODo0Mjo1Ny4w" data-fileid="FGDA5J7KVP8Z2NE">
                <img loading="lazy" alt="Connect the FPC Cable" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FGDA5J7KVP8Z2NE.jpg">
                
            </a>
        
    </div>
</div></div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Connect the FPC Cable" src="https://content.instructables.com/F9U/SHRF/JN4VDDOZ/F9USHRFJN4VDDOZ.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Connect the FPC Cable" src="https://content.instructables.com/FZY/38ZJ/JU31VE6L/FZY38ZJJU31VE6L.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Connect the FPC Cable" src="https://content.instructables.com/FGD/A5J7/KVP8Z2NE/FGDA5J7KVP8Z2NE.jpg?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>Inspect your FPC connector to determine the correct orientation for the cable.</p><p>If your FPC connector has contacts on the bottom like the picture on the left, use your finger nail to gently lift the connector locking bar to the open position. Slide the FPC cable into the connector with the bare metal contacts pointed down (closest to the board) and the plastic backing strip pointed up. Lock the cable to the connector by gently pushing the bar down. The locking bar mashes the bare metal of the FPC cable down against pins on the bottom of the connector.</p><p>If your FPC connector has contacts on the top like the picture on the right, use your finger nail to slide the locking drawer to the right. Insert the cable into the connector with the bare metal contacts pointed up and the plastic backing strip pointed down. The orientation is opposite from the first picture because when the locking drawer is slid to the left, it pushes the cable up against pins on the top of the connector.</p><p>Connect a USB cable from the Teensy to the computer and <strong>wait 20 seconds</strong> for the Teensy to be recognized as a USB keyboard. This delay is in the code to make sure your computer is ready to receive numbers from the Teensy. If numbers are reported on the screen before any keys are pressed, these pins are shorted together and must be fixed. It may be a solder short on the connector which you can check by retrying without the keyboard connected. If it is still shorted without the keyboard, use flux and solder wick on the shorted connector pads. If the short goes away when the keyboard is removed, these pins are most likely ground pins that are tied together in the keyboard so one of them must be excluded from the routine. Adjust the max_pin or min_pin values in the code to allow the routine to skip over these pins. Reduce the max_pin value if some of the FPC traces are visibly tied together as shown in the picture above. The original motherboard controller used these shorted pins to identify the language of the keyboard but the Teensy code will report the short and then hang.</p><p>If the shorted FPC pins are in the middle, you can adjust the max_pin variable to just under the first shorted pin and press all the keys on the list (some keys will not work). Next recompile the code with the min_pin just past the short and the max_pin at the end. Press the remaining keys on the list so you end up with all the key information. Remember that a Teensy 4.0 will report pin 34 as shorted if you set the max_pin to 34 and the onboard LED has not been removed from the Teensy.</p><p>An alternative to adjusting max_pin and min_pin is to load the <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Teensy_Continuity_Tester/Matrix_Decoder_4p0_alternate.ino" rel="nofollow noopener noreferrer">Matrix_Decoder_4p0_alternate</a> or <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Teensy_Continuity_Tester/Matrix_Decoder_4p1_alternate.ino" rel="nofollow noopener noreferrer">Matrix_Decoder_4p1_alternate</a> routine. These routines allow you to exclude any pins necessary to avoid shorts. They report the Teensy I/O numbers, not the FPC pin numbers. You will need to manually convert the connection list back to FPC pin numbers using the tables in step 14. The edited text file can then be used by Marcel's Python program.</p><p>If certain keyboard keys do not give a response when pressed, it is usually caused by a bad solder connection, tarnished cable, or misaligned contacts. To prove the code will report all possible pin connections, use a small flat screwdriver to momentarily short pads 1 and 2 at the FPC connector, right on top of your solder joint. Move on to pads 2 and 3, 3 and 4....., proceeding up to the last two pads, taking note of any pad numbers that don't give a response. For the pads that don't work, reheat the solder joint on the FPC connector pad and if necessary, at the header pin on the Teensy. You can tell which Teensy pad to reheat using the pin translation table in step 14. Keep fixing your solder joints until you get a response for every pin when you short them with a screw driver. If some keyboard keys are still not working, there may be a bad connection to the FPC cable. If the metal traces look tarnished, gently clean the FPC cable with an eraser. Use a magnifying glass to inspect inside the FPC connector to look for debris and to see if the contact points are in alignment with the cable traces. You may need to trim the side of the FPC cable to get the proper alignment. If alignment looks good, push down on the FPC connector or lift up on the cable while trying the bad keys to see if you can sometimes make them work. You may need to add a thin piece of paper or tape to the plastic backing on the FPC cable to get a tighter fit. Erratic keys can sometimes be fixed by popping off the key cap and cleaning with isopropyl alcohol. Sometimes the keyboard has a bad key switch that will not give a reliable response, no matter what you do. The only solution is to replace the keyboard.</p></div></section><section id="step11" class="step" data-stepid="SHVQSCMJWB4CBOU"><h2 class="step-title">Step 11: Test the Keyboard</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset" style="max-width: 629.263px;"><div class="photoset-row items-1 "><div class="photoset-item photoset-cell" style="-webkit-flex: 0.8989473684210526; flex: 0.8989473684210526;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset240" href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F5S1CKJJTEN1APD.png" data-download="https://content.instructables.com/F5S/1CKJ/JTEN1APD/F5S1CKJJTEN1APD.png?auto=webp&amp;frame=1&amp;md=MjAxOS0wMy0xOSAxMTowMDowNC4w" data-fileid="F5S1CKJJTEN1APD">
                <img loading="lazy" alt="Test the Keyboard" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F5S1CKJJTEN1APD.png">
                
            </a>
        
    </div>
</div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Test the Keyboard" src="https://content.instructables.com/F5S/1CKJ/JTEN1APD/F5S1CKJJTEN1APD.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>Press each key, one by one on the test keyboard as listed on the editor screen. The Teensy will send two pin numbers over USB that were connected when the key was pressed as shown in the picture above. The Teensy will then send a down arrow to position the cursor for the next key. If you make a mistake, just use your PC keyboard and mouse to erase the error and re-position the cursor. If a key is listed that is not on your keyboard, use your mouse or arrow keys on your PC to move the cursor to the next key. The Python program jumps over the unused keys so there's no need to edit them out manually. If you want to assign Media keys (a key event like "mute" associated with the Fn key), push the media key but do not push the Fn key. Make sure the letters "FN" are between the media key name and the pin numbers so the Python program puts these keys in the media matrix. After pressing every key on your keyboard, save the finished file for analysis. At this point you've created a very thorough keyboard tester.</p><p>Note: There may be special keys on your keyboard that do things like open a calculator or adjust brightness but these functions are not available in Teensyduino. Only the keys listed in the <a href="https://www.pjrc.com/teensy/td_keyboard.html" rel="nofollow noopener noreferrer">PJRC "All Keys Codes" table</a> can be used.</p></div></section><section id="step12" class="step" data-stepid="SGF70W9JWB4CBOY"><h2 class="step-title">Step 12: Determine Input and Output Pins</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset"><div class="photoset-row items-3 "><div class="photoset-item photoset-cell" style="-webkit-flex: 1.2513661202185793; flex: 1.2513661202185793;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset243" href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FIMWVV3JNAL69PB.png" data-download="https://content.instructables.com/FIM/WVV3/JNAL69PB/FIMWVV3JNAL69PB.png?auto=webp&amp;frame=1&amp;md=MjAxOC0xMC0xNSAxMzo0MDowNC4w" data-fileid="FIMWVV3JNAL69PB">
                <img loading="lazy" alt="Determine Input and Output Pins" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FIMWVV3JNAL69PB.png">
                
            </a>
        
    </div>
</div><div class="photoset-col" style="-webkit-flex:0.6861861821432514;flex:0.6861861821432514;"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.250936329588015; flex: 1.250936329588015;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset243" href="https://content.instructables.com/F36/JG0D/LPY2G1HH/F36JG0DLPY2G1HH.png?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMy0xMi0wOSAxNTo1NjoxNS4w" data-download="https://content.instructables.com/F36/JG0D/LPY2G1HH/F36JG0DLPY2G1HH.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMi0wOSAxNTo1NjoxNS4w" data-fileid="F36JG0DLPY2G1HH">
                <img loading="lazy" alt="Determine Input and Output Pins" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F36JG0DLPY2G1HH.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5199203187250996; flex: 1.5199203187250996;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset243" href="https://content.instructables.com/FRV/OROF/KLTG9A4P/FRVOROFKLTG9A4P.jpg?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMS0wMy0wMyAyMTo0MjozOS4w" data-download="https://content.instructables.com/FRV/OROF/KLTG9A4P/FRVOROFKLTG9A4P.jpg?auto=webp&amp;frame=1&amp;md=MjAyMS0wMy0wMyAyMTo0MjozOS4w" data-fileid="FRVOROFKLTG9A4P">
                <img loading="lazy" alt="Determine Input and Output Pins" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FRVOROFKLTG9A4P.jpg">
                
            </a>
        
    <div class="photoset-showmore"><img class="loading" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/ajax_loader_48px.gif">3 More Images</div></div>
</div></div></div><div class="photoset-row items-3  hidden-row"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.3506261180679786; flex: 1.3506261180679786;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset243" href="https://content.instructables.com/FOT/XMK6/KLTG97QE/FOTXMK6KLTG97QE.jpg?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMS0wMy0wMyAyMDo0NTozNC4w" data-download="https://content.instructables.com/FOT/XMK6/KLTG97QE/FOTXMK6KLTG97QE.jpg?auto=webp&amp;frame=1&amp;md=MjAyMS0wMy0wMyAyMDo0NTozNC4w" data-fileid="FOTXMK6KLTG97QE">
                <img loading="lazy" alt="Determine Input and Output Pins" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FOTXMK6KLTG97QE.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.2046783625730995; flex: 1.2046783625730995;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset243" href="https://content.instructables.com/FUQ/C7YA/KLTG97T6/FUQC7YAKLTG97T6.jpg?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMS0wMy0wMyAyMDo0ODoyOS4w" data-download="https://content.instructables.com/FUQ/C7YA/KLTG97T6/FUQC7YAKLTG97T6.jpg?auto=webp&amp;frame=1&amp;md=MjAyMS0wMy0wMyAyMDo0ODoyOS4w" data-fileid="FUQC7YAKLTG97T6">
                <img loading="lazy" alt="Determine Input and Output Pins" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FUQC7YAKLTG97T6.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.0909090909090908; flex: 1.0909090909090908;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset243" href="https://content.instructables.com/FFL/CAZL/KLTG97W0/FFLCAZLKLTG97W0.jpg?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMS0wMy0wMyAyMDo1MTozNy4w" data-download="https://content.instructables.com/FFL/CAZL/KLTG97W0/FFLCAZLKLTG97W0.jpg?auto=webp&amp;frame=1&amp;md=MjAyMS0wMy0wMyAyMDo1MTozNy4w" data-fileid="FFLCAZLKLTG97W0">
                <img loading="lazy" alt="Determine Input and Output Pins" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FFLCAZLKLTG97W0.jpg">
                
            </a>
        
    </div>
</div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Determine Input and Output Pins" src="https://content.instructables.com/FIM/WVV3/JNAL69PB/FIMWVV3JNAL69PB.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Determine Input and Output Pins" src="https://content.instructables.com/F36/JG0D/LPY2G1HH/F36JG0DLPY2G1HH.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Determine Input and Output Pins" src="https://content.instructables.com/FRV/OROF/KLTG9A4P/FRVOROFKLTG9A4P.jpg?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Determine Input and Output Pins" src="https://content.instructables.com/FOT/XMK6/KLTG97QE/FOTXMK6KLTG97QE.jpg?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Determine Input and Output Pins" src="https://content.instructables.com/FUQ/C7YA/KLTG97T6/FUQC7YAKLTG97T6.jpg?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Determine Input and Output Pins" src="https://content.instructables.com/FFL/CAZL/KLTG97W0/FFLCAZLKLTG97W0.jpg?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>If you are using Marcel's <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller-1/blob/master/matrixgenerator.py" rel="nofollow noopener noreferrer">matrixgenerator.py</a> Python program, put the completed pin list file from step 11 in the same directory as the Python program so the start up menu can easily find it. I've confirmed this Python program works in the Thonny IDE included in the Raspberry Pi OS and also on a <a href="https://thonny.org/" rel="nofollow noopener noreferrer">Windows PC</a>. Double click on the matrixgenerator.py program to launch Thonny. On a Raspberry Pi,  select "Build", "Compile" and then "Build", "Execute". On a PC, select "Run", "Select interpreter", "The same interpreter which runs Thonny (default)". Next select "Run", "Run current script". The start menu of the program asks which text file and Teensy to use. The program then gives the results in the terminal window (example shown above) which you can copy and paste into a text file. The first results are the FPC connector pins that are inputs and outputs. Next it translates the pin numbers to Teensy I/O numbers according to the table shown in step 14. And finally it places all the key names in arrays for easy copy and paste into a USB keyboard routine.</p><p>Sometimes a strange keyboard will confuse Marcel's program and not everyone is familiar with running Python. For those cases, you should use my original manual procedure. The following instructions will determine the keyboard pins based around the Modifier keys; Control, Alt, Shift, GUI, and Fn. As a general rule (that is not always followed) 8 of the keyboard pins will be inputs to the Teensy and the remainder will be outputs. The Modifier keys usually have an output row all to themselves which allows these keys to be held down while other keys are pressed. This avoids a sneak path which would cause ghosting as described in the PDF below. These “rules” are not always followed (especially by the Fn key) so you may need to do some trial and error as you build the matrix. I have lots of <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards" rel="nofollow noopener noreferrer">keyboard examples</a> at my Github repo to help you out.</p><p>Control-Left and Control-Right will have a common pin between them. Example:</p><p><strong>Cntrl-L 19 20</strong></p><p><strong>Cntrl-R 20 22 </strong></p><p>The common pin, Pin 20 in this example, will be a Teensy output, and 19 &amp; 22 will be inputs.</p><p>Similarly Alt-Left and Alt-Right will have a common pin between them, just as Shift-Left and Shift-Right will also have a common pin. Example:</p><p><strong>Alt-L 7 24 </strong></p><p><strong>Alt-R 7 15</strong></p><p><strong>Shift-L 21 23 </strong></p><p><strong>Shift-R 23 25 </strong></p><p>The Alt common pin will be a Teensy output, and 15 &amp; 24 will be inputs.</p><p>The Shift common pin will be a Teensy output, and 21 &amp; 25 will be inputs.</p><p>The GUI key is usually a single key as in this example;</p><p><strong>GUI 9 26</strong></p><p>Search all the other pins in the list to see if 9 or 26 are used on other keys. In this example, pin 9 was not used for any other key which means it will be a Teensy output and 26 will be an input. Sometimes both pins are used for other keys but one of the pins is used for common keys like letters and numbers and the other pin is used for less-common keys like page-up. In this case the pin used for common keys will be a Teensy input and the other pin will be an output. Note that the GUI key will still work if you swap the pins.</p><p>The Fn key is also a single key as in this example;</p><p><strong>Fn 12 18</strong></p><p>Using the same approach as the GUI key, search all the other pins to see if 12 or 18 are used on other keys. In this example, pin 12 was not used for any other key therefore it will be an output and 18 will be an input. If both pins are used on other keys, follow the same rules as the GUI example. Sometimes both of the Fn pins are used by common keys which means you can pick either pin as an input and the other as an output.</p><p>The eight input pins for the HP DV9000 example keyboard have been identified as; 15, 18, 19, 21, 22, 24, 25, and 26. All other pins will be Teensy outputs. Make a keyboard matrix table like the one shown above with the 8 input pins across the top in ascending order and all the other pins as outputs on the side, also in ascending order.</p><p>The orientation of the keyboard matrix is just my personal preference. You can swap the rows/columns and inputs/outputs if you want. Swapping pins may be necessary if you have a rare laptop keyboard that has diodes in series with each switch. With diodes, you need to make sure the cathode (first pin listed) is designated an output row from the Teensy and the anode (second pin listed) is designated an input column to the Teensy.</p><p>Sometimes only 7 pins can be identified as inputs because two modifier keys share the same input pin (usually the Shift-R and Control-R). I've even seen keyboards that had the same two input pins for the Shift, Alt, and Control keys so after determining the GUI and Fn input pins, only 4 inputs were identified. For some keyboards, the input pins are grouped together (i.e., 17 thru 24) which makes it easy to fill in the missing pins. Other keyboards have no grouping of pins which means you’ll have to begin filling out the matrix even though some input pins are missing. The remaining input pins will be revealed when some of the keys can’t be placed. Pick one of the pins from these keys as an input and continue filling out the matrix. If you get stuck, go back and pick the other pin instead. I had to do this for the MacBook Pro A1286 keyboard as described in the PDF below.</p><p>Keyboards with dual FPC cables are the easiest to figure out because the input pins are on the cable with fewer pins and the output pins are on the other cable.</p></div><div class="downloads"><h3 class="sr-only">Attachments</h3><ul id="attachments" class="ible-files unstyled list-unstyled"><li class="file-info clearfix"><a class="thumb-wrapper" href="https://content.instructables.com/FI3/UICL/KU18FXP6/FI3UICLKU18FXP6.pdf" download="Ghosting.pdf"><span class="file-thumb"><img class="lazyload tiny-img" data-src="https://content.instructables.com/static/image/attachment-PDF.png" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/pixel.png" alt="download {{ file.name }}"><noscript><img class="tiny-img" src="https://content.instructables.com/static/image/attachment-PDF.png" alt="download {{ file.name }}"/></noscript></span><span class="title">Ghosting.pdf</span></a><div class="file-actions"><a href="https://content.instructables.com/FI3/UICL/KU18FXP6/FI3UICLKU18FXP6.pdf" download="Ghosting.pdf" class="btn pull-right">Download</a></div></li><li class="file-info clearfix"><a class="thumb-wrapper" href="https://content.instructables.com/FID/DS61/LQ3S81A0/FIDDS61LQ3S81A0.pdf" download="Macbook Pro A1286 15in.pdf"><span class="file-thumb"><img class="lazyload tiny-img" data-src="https://content.instructables.com/static/image/attachment-PDF.png" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/pixel.png" alt="download {{ file.name }}"><noscript><img class="tiny-img" src="https://content.instructables.com/static/image/attachment-PDF.png" alt="download {{ file.name }}"/></noscript></span><span class="title">Macbook Pro A1286 15in.pdf</span></a><div class="file-actions"><a href="https://content.instructables.com/FID/DS61/LQ3S81A0/FIDDS61LQ3S81A0.pdf" download="Macbook Pro A1286 15in.pdf" class="btn pull-right">Download</a></div></li></ul></div></section><section id="step13" class="step" data-stepid="SY2ORX2JWB4CBP1"><h2 class="step-title">Step 13: Fill the Matrix With Keys</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset" style="max-width: 891.564px;"><div class="photoset-row items-1 "><div class="photoset-item photoset-cell" style="-webkit-flex: 1.2736625514403292; flex: 1.2736625514403292;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset251" href="https://content.instructables.com/FTN/GVE3/JN4VDF92/FTNGVE3JN4VDF92.png?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAxOC0xMC0xMyAwMTowMDoxMS4w" data-download="https://content.instructables.com/FTN/GVE3/JN4VDF92/FTNGVE3JN4VDF92.png?auto=webp&amp;frame=1&amp;md=MjAxOC0xMC0xMyAwMTowMDoxMS4w" data-fileid="FTNGVE3JN4VDF92">
                <img loading="lazy" alt="Fill the Matrix With Keys" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FTNGVE3JN4VDF92.png">
                
            </a>
        
    </div>
</div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Fill the Matrix With Keys" src="https://content.instructables.com/FTN/GVE3/JN4VDF92/FTNGVE3JN4VDF92.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>To manually fill the matrix, place each key name at the row/column intersection of the pins as shown in the HP DV9000 keyboard example given above. The modifier keys are in bold print to make it easy to see that they have a row all to themselves. This keyboard followed the “rules” exactly.</p><p>Marcel's Python program creates the matrix automatically so it can be copied into the final USB routine. </p></div></section><section id="step14" class="step" data-stepid="S7M5G6RJWB4CBP5"><h2 class="step-title">Step 14: Translate FPC Pin Numbers to Teensy I/O Numbers</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset" style="max-width: 686.792px;"><div class="photoset-row items-1 "><div class="photoset-item photoset-cell" style="-webkit-flex: 0.9811320754716981; flex: 0.9811320754716981;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset254" href="https://content.instructables.com/FFI/EVNN/LPSCQFUH/FFIEVNNLPSCQFUH.png?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMy0xMi0wNSAxMDoxOToxMy4w" data-download="https://content.instructables.com/FFI/EVNN/LPSCQFUH/FFIEVNNLPSCQFUH.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMi0wNSAxMDoxOToxMy4w" data-fileid="FFIEVNNLPSCQFUH">
                <img loading="lazy" alt="Translate FPC Pin Numbers to Teensy I/O Numbers" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FFIEVNNLPSCQFUH.png">
                
            </a>
        
    </div>
</div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Translate FPC Pin Numbers to Teensy I/O Numbers" src="https://content.instructables.com/FFI/EVNN/LPSCQFUH/FFIEVNNLPSCQFUH.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>The FPC to Teensy I/O numbers are automatically translated by Marcel's Python program. If you are using the manual method, you will need to use the Teensy translation tables shown above. </p></div></section><section id="step15" class="step" data-stepid="SRVNFQUJWB4CBP8"><h2 class="step-title">Step 15: Load a USB Keyboard Routine Into the Teensy</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset"><div class="photoset-row items-2 "><div class="photoset-item photoset-cell" style="-webkit-flex: 1.3730337078651684; flex: 1.3730337078651684;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset257" href="https://content.instructables.com/F4T/4VNT/JOONXB7N/F4T4VNTJOONXB7N.png?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAxOC0xMS0yMSAyMjo0MDozMS4w" data-download="https://content.instructables.com/F4T/4VNT/JOONXB7N/F4T4VNTJOONXB7N.png?auto=webp&amp;frame=1&amp;md=MjAxOC0xMS0yMSAyMjo0MDozMS4w" data-fileid="F4T4VNTJOONXB7N">
                <img loading="lazy" alt="Load a USB Keyboard Routine Into the Teensy" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F4T4VNTJOONXB7N.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.4425; flex: 1.4425;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset257" href="https://content.instructables.com/FJT/AVBF/JOMTICFN/FJTAVBFJOMTICFN.png?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAxOC0xMS0xOCAxOTo1MDo0MC4w" data-download="https://content.instructables.com/FJT/AVBF/JOMTICFN/FJTAVBFJOMTICFN.png?auto=webp&amp;frame=1&amp;md=MjAxOC0xMS0xOCAxOTo1MDo0MC4w" data-fileid="FJTAVBFJOMTICFN">
                <img loading="lazy" alt="Load a USB Keyboard Routine Into the Teensy" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FJTAVBFJOMTICFN.png">
                
            </a>
        
    </div>
</div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Load a USB Keyboard Routine Into the Teensy" src="https://content.instructables.com/F4T/4VNT/JOONXB7N/F4T4VNTJOONXB7N.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Load a USB Keyboard Routine Into the Teensy" src="https://content.instructables.com/FJT/AVBF/JOMTICFN/FJTAVBFJOMTICFN.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>A <a href="https://deskthority.net/workshop-f7/tmk-support-for-arm-teensies-t11799.html" rel="nofollow noopener noreferrer">Deskthority post</a> from "flabbergast" describes using the <a href="http://chibios.org/dokuwiki/doku.php" rel="nofollow noopener noreferrer">ChibiOS</a> development environment to configure TMK for ARM based processors like those used on the Teensy. A toolchain such as the <a href="https://developer.arm.com/open-source/gnu-toolchain/gnu-rm" rel="nofollow noopener noreferrer">GNU ARM Embedded Toolchain</a> is used to compile the Teensy code. You will need to install the ChibiOS development environment per these <a href="https://github.com/tmk/tmk_core/tree/master/protocol/chibios" rel="nofollow noopener noreferrer">instructions</a>. The <a href="https://github.com/tmk/tmk_keyboard/tree/master/keyboard/teensy_lc_onekey" rel="nofollow noopener noreferrer">teensy_lc_onekey</a> example <a href="https://github.com/tmk/tmk_keyboard/blob/master/keyboard/teensy_lc_onekey/instructions.md" rel="nofollow noopener noreferrer">details the steps</a> to create a working TMK build. The <a href="https://qmk.fm/" rel="nofollow noopener noreferrer">QMK</a> keyboard routine is based on TMK and it also has ChibiOS support for the Teensy 4.0 and 4.1. QMK offers timestamp based debouncing with various options set when compiling. There is a <a href="https://docs.qmk.fm/#/newbs" rel="nofollow noopener noreferrer">Complete Newbs Guide</a> for QMK.</p><p>Jay Thompson has created a <a href="https://github.com/eyemyth/qmk_firmware/tree/master/keyboards/lenovo_t420" rel="nofollow noopener noreferrer">QMK fork</a> that gives all the information for his Teensy 3.2/Lenovo T420 keyboard project. Jay provides his build environment setup and the make instructions so you have an example to modify for your keyboard.</p><p>Gordon has made a Hackaday.IO project called "<a href="https://hackaday.io/project/173766-qmk-powered-laptop-keyboard" rel="nofollow noopener noreferrer">QMK Powered Laptop Keyboard</a>" which details the "gymnastics" of using QMK.</p><p>The TMK/QMK keyboard software is very powerful with tons of features but it can be confusing, (at least to me). As an alternative, I wrote an Arduino USB keyboard routine using the Teensyduino “Micro-Manager” functions. There's just 1 file to load using the Arduino IDE and it's only about 385 lines with lots of comments. I'm a hardware guy so expect ugly code but it provides a basic keyboard controller with 6 key rollover that you can modify to suite your needs. Key debouncing is handled using a 30 msec scan rate.</p><p>Every keyboard listed below has a folder at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards" rel="nofollow noopener noreferrer">repo</a> containing a Teensyduino USB keyboard routine giving you lots of examples. Pick the one that's closest to your keyboard and use its code as your starting point, (they're all based on the same basic code). Code written for the obsolete Teensy LC or 3.2 must have 2 lines changed for the Teensy 4.0, 4.1, and 2.0++. The 2.0++ also needs all lines with "int" changed to "unsigned int". For those routines that have not been translated, the procedure is described in the PDF file "<a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Instructions%20to%20translate%20Teensy%20code.pdf" rel="nofollow noopener noreferrer">Instructions to translate Teensy code</a>". If you are using the manual approach to build the matrix, use the PDF file "<a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Instructions%20for%20Manual%20code%20modification.pdf" rel="nofollow noopener noreferrer">Instructions for Manual code modification</a>". If you are using Marcel's Python program, the PDF file "<a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Instructions%20for%20Marcels%20Code.pdf" rel="nofollow noopener noreferrer">Instructions for Marcels Code</a>" details the process. If your keyboard has an embedded number pad, you can get those keys to work as described in the PDF file "<a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Embedded%20Number%20Pad.pdf" rel="nofollow noopener noreferrer">Embedded Number Pad</a>". These PDFs are available below and at my repo.</p><p>When checking to see if your new code works for all keys, the function keys can be a bit ambiguous. You can tell if a key is working by using the online tool at&nbsp;<a href="http://keyboardchecker.com/" rel="nofollow noopener noreferrer">keyboardchecker.com</a>.&nbsp;Just push the key and it should show green.</p><p>If you plan to put your Teensy 4.0 or 4.1 keyboard in a laptop that will run off a battery, you will want the lowest current possible. In the Arduino IDE under tools - CPU Speed - select 24MHz instead of the default 600MHz. The Teensy current will go down to about 31ma instead of 100ma but it will still operate normally.</p><ol><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Dell_Inspiron_1525" rel="nofollow noopener noreferrer">Dell Inspiron 1525</a> - Teensy LC, 4.0, 4.1, and 2.0++</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Dell_Latitude_131L" rel="nofollow noopener noreferrer">Dell Latitude 131L</a> - Teensy LC, 4.0, 4.1, and 2.0++</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Dell_Latitude_X1" rel="nofollow noopener noreferrer">Dell Latitude X1</a> - Teensy LC, 4.0, 4.1, and 2.0++</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Dell_Latitude_D630" rel="nofollow noopener noreferrer">Dell Latitude D630</a> - Teensy 3.2 and 4.0</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/HP_Presario_2100" rel="nofollow noopener noreferrer">HP Compaq Presario 2100</a> - Teensy 3.2 and 4.0</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/HP_Presario_V4000" rel="nofollow noopener noreferrer">HP Compaq Presario V4000</a> - Teensy LC, 4.0, 4.1, and 2.0++</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/HP_Pavilion_DV9000" rel="nofollow noopener noreferrer">HP Pavilion DV9000</a> - Teensy LC, 4.0, 4.1, and 2.0++</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/HP_ZV6000" rel="nofollow noopener noreferrer">HP ZV6000 Italian layout</a> - Teensy LC, 4.0, 4.1, and 2.0++</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Sony_Vaio_PCG-K25" rel="nofollow noopener noreferrer">Sony Vaio PCG-K25</a> - Teensy LC and 2.0++</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Sony_Vaio_VPCCW" rel="nofollow noopener noreferrer">Sony Vaio VPCCW</a> - Teensy LC, 4.0, 4.1, and 2.0++</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Sony_Vaio_VPCEA" rel="nofollow noopener noreferrer">Sony Vaio VPCEA</a> - Teensy 3.2, 4.0, 4.1, and 2.0++</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Sony_Vaio_VPCEB4" rel="nofollow noopener noreferrer">Sony Vaio VPCEB4</a> - Teensy 3.2, 4.0, 4.1, and 2.0++</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Sony_Vaio_P" rel="nofollow noopener noreferrer">Sony Vaio P</a> - Teensy 3.2, 4.0, 4.1, and 2.0++</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Toshiba%20T1200" rel="nofollow noopener noreferrer">Toshiba T1200</a> - Teensy LC and 4.1</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Toshiba_2415" rel="nofollow noopener noreferrer">Toshiba 2415</a> - Teensy 3.2, 4.0, 4.1, and 2.0++</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Fujitsu_Lifebook/Fujitsu_Lifebook.ino" rel="nofollow noopener noreferrer">Fujitsu Lifebook 755Tx</a> - Teensy 3.2 and 4.0</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/MSI_GE63_Raider_RGB_8RE" rel="nofollow noopener noreferrer">MSI GE63 Raider RGB 8RE Keyboard</a> - Teensy 4.0</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Macbook_Pro_A1286_15in" rel="nofollow noopener noreferrer">MacBook Pro A1286 15"</a> Keyboard and backlight - Teensy 4.1</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Acer_Extensa_2509" rel="nofollow noopener noreferrer">Acer Extensa 2509</a> - Teensy LC, 4.0, 4.1, and 2.0++</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Heathkit%20H89" rel="nofollow noopener noreferrer">Heathkit H89 Keyboard</a> - Teensy 3.2, 4.0, and 4.1</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Zenith%20Supersport" rel="nofollow noopener noreferrer">Zenith Supersport SX Keyboard</a> - Teensy LC and 4.0</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Alienware_17_keyboard" rel="nofollow noopener noreferrer">Alienware 17 p18e001 Keyboard</a> - Teensy LC</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Microsoft_Surface_Ergonomic_Mac/Microsoft_Surface_Ergonomic.ino" rel="nofollow noopener noreferrer">Microsoft Surface Comfort Keyboard</a> by Stephen Sweetland - Teensy 4.0</li><li><a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/GalaxyBookFlex15" rel="nofollow noopener noreferrer">Galaxy Book Flex 15.6"</a> - Teensy 4.1</li></ol><p>IBM380ED - Brian Chan and I teamed up to convert an IBM 380ED keyboard and trackpoint to USB as shown in this <a href="https://vimeo.com/458669376" rel="nofollow noopener noreferrer">video</a>. The Teensy 3.2 code, Eagle files, and project description are in a <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/IBM%20Thinkpad%20380ED" rel="nofollow noopener noreferrer">folder at my repo</a>. This project was documented at <a href="https://hackaday.io/project/171439-ibm-thinkpad-380ed-keyboardtrackpoint-to-usb/discussion-148536" rel="nofollow noopener noreferrer">Hackaday.IO</a> and <a href="https://hackaday.com/2020/05/26/breathing-new-life-into-old-school-thinkpad-keyboards/" rel="nofollow noopener noreferrer">Hackaday.com</a>. Stephen designed a stand alone case for the 380 that you can 3D print with his files at <a href="https://www.thingiverse.com/thing:4548311" rel="nofollow noopener noreferrer">thingverse</a>. Brian has converted his IBM 380ED into a KVM, documented at <a href="https://hackaday.io/project/172327-thinkpad-380ed-to-kvm-conversion" rel="nofollow noopener noreferrer">Hackaday.IO</a>.</p><p>Commodore 64 - Olga modified my code for a Commodore 64 keyboard. The Teensy LC code, key list files and project description are in a <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Commodore_64" rel="nofollow noopener noreferrer">folder at my repo</a>.</p><p>Compaq 286 - Olga also modified my Teensy LC code for an old Compaq 286 keyboard but he did much more. Now the program will take the pin number results from running the keylist text file so you don't need to create a key matrix. The code and PDF description are in a <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Compaq_286" rel="nofollow noopener noreferrer">folder at my repo</a>.</p><p>Blackberry Q10 &amp; HP Jornada &amp; Atari Porfolio - T Caschy has modified my Teensy LC code to work with these keyboards. The code is in a <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/T%20Caschera%20Keyboard%20files" rel="nofollow noopener noreferrer">folder at my repo</a>.</p><p>Lenovo Y480 - Luigi Caradonna has modified my Teensy LC code to work with a Lenovo Y480 with an Italian layout and backlight control. The code is in a <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Lenovo_Y480_LC" rel="nofollow noopener noreferrer">folder at my repo</a>. Luigi also made a stunning marble base for this keyboard. Pictures are in the "I made it" section at the end of this Instructable.</p><p>Lenovo X1 Carbon - Maykro has modified my Teensy 2.0++ code to work with a Lenovo X1 Carbon. The PS/2 trackpoint is working in "stream mode" with adjustable speed. The code is at his <a href="https://github.com/Maykros/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Lenovo_x1_carbon_2017/Lenovo_x1_carbon_2017/Lenovo_x1_carbon_2017.ino" rel="nofollow noopener noreferrer">repo</a>.</p><p>Apple eMate 300 - Billy67 has modified my Teensy LC code to work with an Apple eMate 300 keyboard. The code is in a <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/eMate/eMate.ino" rel="nofollow noopener noreferrer">folder at my repo</a>. Pictures are in the "I made it" section at the end of this Instructable. Check out his very thorough <a href="https://www.youtube.com/watch?v=gGU87usLs1I" rel="nofollow noopener noreferrer">video</a> plus reviews from <a href="https://www.cultofmac.com/744840/apples-fascinating-emate-300-dud-gets-a-makeover-as-a-raspberry-pi/#more-744840" rel="nofollow noopener noreferrer">Cult of Mac</a> and <a href="https://www.theregister.com/2021/06/09/apple_emate300_raspberry_pi/" rel="nofollow noopener noreferrer">The Register</a> to see how he made a Raspberry Pi laptop from an Apple eMate 300.</p><p>Apple iBook G3 Clamshell - Billy67 used a Teensy 3.2 with my special connector board for this keyboard. I've updated the board and code to use a Teensy 4.0. See step 18 for the details.</p><p>Apple Powerbook models 100, 140 through 180, and 520 - Billy67 used a Teensy 3.2 for these Apple keyboard and trackball units. Pictures are in the "I made it" section at the end of this Instructable. The trackball uses an Apple Desktop Bus (ADB) interface that is controlled by the Teensy after it scans the keyboard matrix. The Teensy code for the <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Powerbook100A/Powerbook100A.ino" rel="nofollow noopener noreferrer">Powerbook 100</a>, <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/PowerBook520" rel="nofollow noopener noreferrer">Powerbook 520</a>, and for <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Powerbook_Keyboard_TB_RevNew/Powerbook_Keyboard_TB_RevA.ino" rel="nofollow noopener noreferrer">Powerbooks 140 thru 180</a> are at my repo.</p><p>GRiD 1550 UK - SimonT192 and I modified my Teensy LC code to work with a GRiD 1550 keyboard with a UK layout. This laptop has a rotary encoded "IsoPoint" mouse which has been converted to USB using a Teensy LC. The code for the keyboard and mouse are in a folder <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/GRID%201550" rel="nofollow noopener noreferrer">at my repo</a> along with a PDF describing the operation. Watch <a href="https://www.youtube.com/watch?v=glOCiTLbbeA&amp;feature=youtu.be" rel="nofollow noopener noreferrer">Simon's YouTube</a> video for a very detailed description of his "Aliens Sentry Gun" GRiD laptop build. <a href="https://hackaday.com/2020/02/21/restoring-the-coolest-laptop-ever/" rel="nofollow noopener noreferrer">Hackaday</a> featured his project as well.</p><p>GRiD 1550 US - Chris has modified his GRiD 1550 US keyboard to work with a Teensy LC. The code for the keyboard is in a folder <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/GRID_1550_US" rel="nofollow noopener noreferrer">at my repo</a> along with a PDF. Chris was also able to get the IsoPoint mouse working.</p><p>GRiDCase 3 - Lucas and I converted his Bloomberg GRiDCase 3 laptop keyboard to USB with a Teensy 4.1. The project documentation and code is at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/GRiDCASE_3" rel="nofollow noopener noreferrer">repo</a>. The financial spreadsheet keys were redefined but some of the&nbsp;unique keys were maintained.&nbsp;It does not have a right shift key. The “CODE” key acts as a Figure Shift which&nbsp;allows access to the symbols on the alphabet keys. Shifted numbers do not send anything but shifted alphabet keys send the upper case letter. Lucas is accustomed&nbsp;to this key layout thanks to his day job of&nbsp;<a href="https://typewriterchicago.com/" rel="nofollow noopener noreferrer">repairing typewriters</a>. Check out his <a href="https://themechanicaltype.blogspot.com/2022/12/i-needed-laptop-1980s-grid-computer.html" rel="nofollow noopener noreferrer">project writeup</a> for a blow by blow description.</p><p>Lenovo Thinkpad T61 - I created a new Teensy 4.0 connector board for a T61 which will work on all T60 series keyboards. In addition to controlling the keyboard and trackpoint, the code also controls the touchpad. The code, circuit boards, and PDF are in a folder <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Lenovo_ThinkPad_T61/Teensy%204p0" rel="nofollow noopener noreferrer">at my repo</a>. See Step 17 for more details.</p><p>IBM Thinkpad T41 - I created a new Teensy 4.0 connector board for a T41 which will work on all T40 series keyboards. In addition to controlling the keyboard and trackpoint, the code also controls the touchpad. The code, circuit boards, and PDF are in a folder <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/IBM_T41_Keyboard_and_Touchpad" rel="nofollow noopener noreferrer">at my repo</a>. See Step 17 for more details.</p><p>Psion MC400 - Zedstarr used my Teensy LC code on the mechanical keyboard from a Psion MC400. His <a href="https://zedstarr.com/2022/06/20/repurposing-an-old-psion-mc400-laptop-keyboard-with-teensyduino-usb/" rel="nofollow noopener noreferrer">website</a> gives all the details including a video link.</p><p>Logitech K120 - I replaced the original controller from this desktop keyboard with a Teensy 4.1 and documented the results at <a href="https://www.hackster.io/frank-adams/teensy-controls-a-logitech-keyboard-fujitsu-ergotrac-a0e308" rel="nofollow noopener noreferrer">Hackster</a>.</p><p>Dell N5110 - Peter got his Hungarian keyboard working with a Teensy 4.0. The i acute key was sent using Alt codes (for use on a Windows PC) or Unicodes (for Linux). Both versions of code and a PDF are at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Dell_N5110" rel="nofollow noopener noreferrer">repo</a>.</p></div><div class="downloads"><h3 class="sr-only">Attachments</h3><ul id="attachments" class="ible-files unstyled list-unstyled"><li class="file-info clearfix"><a class="thumb-wrapper" href="https://content.instructables.com/FYI/CS0U/LQ0XCZD5/FYICS0ULQ0XCZD5.pdf" download="Instructions to translate Teensy code.pdf"><span class="file-thumb"><img class="tiny-img ls-is-cached lazyloaded" data-src="https://content.instructables.com/static/image/attachment-PDF.png" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/attachment-PDF.png" alt="download {{ file.name }}"><noscript><img class="tiny-img" src="https://content.instructables.com/static/image/attachment-PDF.png" alt="download {{ file.name }}"/></noscript></span><span class="title">Instructions to translate Teensy code.pdf</span></a><div class="file-actions"><a href="https://content.instructables.com/FYI/CS0U/LQ0XCZD5/FYICS0ULQ0XCZD5.pdf" download="Instructions to translate Teensy code.pdf" class="btn pull-right">Download</a></div></li><li class="file-info clearfix"><a class="thumb-wrapper" href="https://content.instructables.com/F1N/ZSY6/LQ3S8168/F1NZSY6LQ3S8168.pdf" download="Instructions for Manual code modification.pdf"><span class="file-thumb"><img class="tiny-img ls-is-cached lazyloaded" data-src="https://content.instructables.com/static/image/attachment-PDF.png" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/attachment-PDF.png" alt="download {{ file.name }}"><noscript><img class="tiny-img" src="https://content.instructables.com/static/image/attachment-PDF.png" alt="download {{ file.name }}"/></noscript></span><span class="title">Instructions for Manual code modification.pdf</span></a><div class="file-actions"><a href="https://content.instructables.com/F1N/ZSY6/LQ3S8168/F1NZSY6LQ3S8168.pdf" download="Instructions for Manual code modification.pdf" class="btn pull-right">Download</a></div></li><li class="file-info clearfix"><a class="thumb-wrapper" href="https://content.instructables.com/F6O/BEE1/LXYPF24C/F6OBEE1LXYPF24C.pdf" download="Instructions for Marcels Code.pdf"><span class="file-thumb"><img class="tiny-img ls-is-cached lazyloaded" data-src="https://content.instructables.com/static/image/attachment-PDF.png" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/attachment-PDF.png" alt="download {{ file.name }}"><noscript><img class="tiny-img" src="https://content.instructables.com/static/image/attachment-PDF.png" alt="download {{ file.name }}"/></noscript></span><span class="title">Instructions for Marcels Code.pdf</span></a><div class="file-actions"><a href="https://content.instructables.com/F6O/BEE1/LXYPF24C/F6OBEE1LXYPF24C.pdf" download="Instructions for Marcels Code.pdf" class="btn pull-right">Download</a></div></li><li class="file-info clearfix"><a class="thumb-wrapper" href="https://content.instructables.com/FJH/F1CA/LXYPESXG/FJHF1CALXYPESXG.pdf" download="Embedded Number Pad.pdf"><span class="file-thumb"><img class="tiny-img ls-is-cached lazyloaded" data-src="https://content.instructables.com/static/image/attachment-PDF.png" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/attachment-PDF.png" alt="download {{ file.name }}"><noscript><img class="tiny-img" src="https://content.instructables.com/static/image/attachment-PDF.png" alt="download {{ file.name }}"/></noscript></span><span class="title">Embedded Number Pad.pdf</span></a><div class="file-actions"><a href="https://content.instructables.com/FJH/F1CA/LXYPESXG/FJHF1CALXYPESXG.pdf" download="Embedded Number Pad.pdf" class="btn pull-right">Download</a></div></li></ul></div></section><section id="step16" class="step" data-stepid="S1NWXS1JWB4CBPE"><h2 class="step-title">Step 16: Non-Standard FPC Cable Connectors</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset" style="max-width: 842.606px;"><div class="photoset-row items-3 "><div class="photoset-item photoset-cell" style="-webkit-flex: 0.6716791979949874; flex: 0.6716791979949874;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset261" href="https://content.instructables.com/FUS/VV0E/LPE2AU4T/FUSVV0ELPE2AU4T.png?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMy0xMS0yNSAxMzozNTo1OC4w" data-download="https://content.instructables.com/FUS/VV0E/LPE2AU4T/FUSVV0ELPE2AU4T.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yNSAxMzozNTo1OC4w" data-fileid="FUSVV0ELPE2AU4T">
                <img loading="lazy" alt="Non-Standard FPC Cable Connectors" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FUSVV0ELPE2AU4T.png">
                
            </a>
        
    </div>
</div><div class="photoset-col" style="-webkit-flex:0.5320438629185711;flex:0.5320438629185711;"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.2566371681415929; flex: 1.2566371681415929;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset261" href="https://content.instructables.com/FL4/4UA6/LPCMUPDC/FL44UA6LPCMUPDC.png?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMy0xMS0yNCAxMTo0MTo0Ni4w" data-download="https://content.instructables.com/FL4/4UA6/LPCMUPDC/FL44UA6LPCMUPDC.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yNCAxMTo0MTo0Ni4w" data-fileid="FL44UA6LPCMUPDC">
                <img loading="lazy" alt="Non-Standard FPC Cable Connectors" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FL44UA6LPCMUPDC.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 0.9227053140096618; flex: 0.9227053140096618;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset261" href="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FCW9KT7KVCE1GVU.jpg" data-download="https://content.instructables.com/FCW/9KT7/KVCE1GVU/FCW9KT7KVCE1GVU.jpg?auto=webp&amp;frame=1&amp;md=MjAyMS0xMC0yOSAxMTowNzo0MC4w" data-fileid="FCW9KT7KVCE1GVU">
                <img loading="lazy" alt="Non-Standard FPC Cable Connectors" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FCW9KT7KVCE1GVU.jpg">
                
            </a>
        
    </div>
</div></div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Non-Standard FPC Cable Connectors" src="https://content.instructables.com/FUS/VV0E/LPE2AU4T/FUSVV0ELPE2AU4T.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Non-Standard FPC Cable Connectors" src="https://content.instructables.com/FL4/4UA6/LPCMUPDC/FL44UA6LPCMUPDC.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Non-Standard FPC Cable Connectors" src="https://content.instructables.com/FCW/9KT7/KVCE1GVU/FCW9KT7KVCE1GVU.jpg?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>If your keyboard has a non-standard FPC cable like the Thinkpad and iBook connectors shown above, the task becomes more challenging. If you can't find a mating connector at Aliexpress or any other site, your only alternative is to remove the connector from the laptop motherboard. Apply flux and <a href="https://www.amazon.com/SMD-Chip-Removal-Alloy-REMKIT/dp/B08KJKHCJK/ref=sr_1_5?crid=7MY0X7SDCTOE&amp;keywords=chipquik&amp;qid=1690926991&amp;sprefix=chipquik%2Caps%2C240&amp;sr=8-5" rel="nofollow noopener noreferrer">Chip Quik</a> removal alloy on all the pins and ground tabs. This alloy mixes with the original solder and allows it to become molten at a lower temperature. If you have a single row of pins, it may be possible to keep all pins molten long enough to lift the connector off the board. Two row connectors may need a second soldering iron. Instead of using a soldering iron, you can use a heat gun or low cost <a href="https://www.amazon.com/Digital-Rework-Station-Desoldering-Nozzles/dp/B08GC3HXCM/ref=sr_1_40?crid=3IR40MSR0JXVB&amp;keywords=hot+air+rework+station&amp;qid=1690926178&amp;sprefix=hot+air+rework+station%2Caps%2C206&amp;sr=8-40" rel="nofollow noopener noreferrer">hot air rework station</a> to blow hot air on the connector from the back side of the board. Doing it this way will protect the connector from excess heat. Once you have the connector off the board, clean up the legs with regular solder and wick.</p><p>You will need to make a board layout that routes the Teensy I/O signals to your keyboard connector. I like to do a preliminary layout on paper first in order to place the parts and route the signals with the fewest via's. It's easy to assign the Teensy I/O pins in software based on whatever pin order makes the layout work best. It's tempting to make the layout next, but do the schematic first so your layout will have air-wires showing you how to route each trace. </p><p><a href="https://www.autodesk.com/products/eagle/free-download?plc=F360&amp;term=1-YEAR&amp;support=ADVANCED&amp;quantity=1" rel="noopener noreferrer">Eagle</a>, <a href="http://kicad.org/" rel="nofollow noopener noreferrer">KiCad</a>, <a href="http://www.pcbweb.com/" rel="nofollow noopener noreferrer">PCBWeb Designer</a>, <a href="https://easyeda.com/" rel="nofollow noopener noreferrer">EasyEDA</a>, and <a href="https://www.rs-online.com/designspark/home" rel="nofollow noopener noreferrer">DesignSpark PCB</a> are some of the free layout tools that are available. Sparkfun has excellent tutorials for Eagle <a href="https://learn.sparkfun.com/tutorials/using-eagle-schematic" rel="nofollow noopener noreferrer">schematic</a> and <a href="https://learn.sparkfun.com/tutorials/using-eagle-board-layout" rel="nofollow noopener noreferrer">layout</a>. Also look at the <a href="https://learn.adafruit.com/ktowns-ultimate-creating-parts-in-eagle-tutorial/introduction" rel="nofollow noopener noreferrer">Adafruit tutorial</a> on creating parts in Eagle because you'll need to make a package and symbol for your connector. After you get your layout fabricated, you'll need to change the Matrix_Decoder software to work with the new I/O pin-out.</p></div></section><section id="step17" class="step" data-stepid="SCCTL3HJWB4CBPH"><h2 class="step-title">Step 17: Thinkpad T60 &amp; T40 Keyboards - Teensy 4.0 &amp; Pi Pico</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset"><div class="photoset-row items-3 "><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5; flex: 1.5;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset266" href="https://content.instructables.com/F7M/NXOS/LPCMUOFR/F7MNXOSLPCMUOFR.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMy0xMS0yNCAxMDo1MDoxMi4w" data-download="https://content.instructables.com/F7M/NXOS/LPCMUOFR/F7MNXOSLPCMUOFR.jpg?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yNCAxMDo1MDoxMi4w" data-fileid="F7MNXOSLPCMUOFR">
                <img loading="lazy" alt="Thinkpad T60 &amp; T40 Keyboards - Teensy 4.0 &amp; Pi Pico" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F7MNXOSLPCMUOFR.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-col" style="-webkit-flex:0.522064983594441;flex:0.522064983594441;"><div class="photoset-item photoset-cell" style="-webkit-flex: 0.9822380106571936; flex: 0.9822380106571936;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset266" href="https://content.instructables.com/FJX/RCR3/LPL7HQ0V/FJXRCR3LPL7HQ0V.png?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMy0xMS0zMCAyMToyNzozNi4w" data-download="https://content.instructables.com/FJX/RCR3/LPL7HQ0V/FJXRCR3LPL7HQ0V.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0zMCAyMToyNzozNi4w" data-fileid="FJXRCR3LPL7HQ0V">
                <img loading="lazy" alt="Thinkpad T60 &amp; T40 Keyboards - Teensy 4.0 &amp; Pi Pico" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FJXRCR3LPL7HQ0V.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.1143462149285337; flex: 1.1143462149285337;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset266" href="https://content.instructables.com/FJ8/XUQ8/M4WRGTF7/FJ8XUQ8M4WRGTF7.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyNC0xMi0yMCAyMTo1MzoxNy4w" data-download="https://content.instructables.com/FJ8/XUQ8/M4WRGTF7/FJ8XUQ8M4WRGTF7.jpg?auto=webp&amp;frame=1&amp;md=MjAyNC0xMi0yMCAyMTo1MzoxNy4w" data-fileid="FJ8XUQ8M4WRGTF7">
                <img loading="lazy" alt="Thinkpad T60 &amp; T40 Keyboards - Teensy 4.0 &amp; Pi Pico" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FJ8XUQ8M4WRGTF7.jpg">
                
            </a>
        
    <div class="photoset-showmore"><img class="loading" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/ajax_loader_48px.gif">5 More Images</div></div>
</div></div></div><div class="photoset-row items-3  hidden-row"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.0293863439930855; flex: 1.0293863439930855;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset266" href="https://content.instructables.com/F0Y/INOT/LPL7HQ42/F0YINOTLPL7HQ42.png?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMy0xMS0zMCAyMTozMDo0OC4w" data-download="https://content.instructables.com/F0Y/INOT/LPL7HQ42/F0YINOTLPL7HQ42.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0zMCAyMTozMDo0OC4w" data-fileid="F0YINOTLPL7HQ42">
                <img loading="lazy" alt="Thinkpad T60 &amp; T40 Keyboards - Teensy 4.0 &amp; Pi Pico" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F0YINOTLPL7HQ42.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 0.9353507565337001; flex: 0.9353507565337001;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset266" href="https://content.instructables.com/FZI/HRHS/LPCMUOJ1/FZIHRHSLPCMUOJ1.png?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMy0xMS0yNCAxMDo1ODo0Ny4w" data-download="https://content.instructables.com/FZI/HRHS/LPCMUOJ1/FZIHRHSLPCMUOJ1.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yNCAxMDo1ODo0Ny4w" data-fileid="FZIHRHSLPCMUOJ1">
                <img loading="lazy" alt="Thinkpad T60 &amp; T40 Keyboards - Teensy 4.0 &amp; Pi Pico" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FZIHRHSLPCMUOJ1.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1; flex: 1;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset266" href="https://content.instructables.com/FW4/Z3P8/M511RH0N/FW4Z3P8M511RH0N.jpg?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyNC0xMi0yMyAwODozNDowOC4w" data-download="https://content.instructables.com/FW4/Z3P8/M511RH0N/FW4Z3P8M511RH0N.jpg?auto=webp&amp;frame=1&amp;md=MjAyNC0xMi0yMyAwODozNDowOC4w" data-fileid="FW4Z3P8M511RH0N">
                <img loading="lazy" alt="Thinkpad T60 &amp; T40 Keyboards - Teensy 4.0 &amp; Pi Pico" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FW4Z3P8M511RH0N.jpg">
                
            </a>
        
    </div>
</div></div><div class="photoset-row items-2  hidden-row"><div class="photoset-item photoset-cell" style="-webkit-flex: 0.9131455399061033; flex: 0.9131455399061033;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset266" href="https://content.instructables.com/FK6/CHSM/LPCMUORH/FK6CHSMLPCMUORH.png?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMy0xMS0yNCAxMTowNDo1Ny4w" data-download="https://content.instructables.com/FK6/CHSM/LPCMUORH/FK6CHSMLPCMUORH.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yNCAxMTowNDo1Ny4w" data-fileid="FK6CHSMLPCMUORH">
                <img loading="lazy" alt="Thinkpad T60 &amp; T40 Keyboards - Teensy 4.0 &amp; Pi Pico" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FK6CHSMLPCMUORH.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5; flex: 1.5;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset266" href="https://content.instructables.com/F9Y/4USV/LQDSB8LM/F9Y4USVLQDSB8LM.png?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMy0xMi0yMCAxNTozNjo1OC4w" data-download="https://content.instructables.com/F9Y/4USV/LQDSB8LM/F9Y4USVLQDSB8LM.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMi0yMCAxNTozNjo1OC4w" data-fileid="F9Y4USVLQDSB8LM">
                <img loading="lazy" alt="Thinkpad T60 &amp; T40 Keyboards - Teensy 4.0 &amp; Pi Pico" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F9Y4USVLQDSB8LM.png">
                
            </a>
        
    </div>
</div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Thinkpad T60 &amp; T40 Keyboards - Teensy 4.0 &amp; Pi Pico" src="https://content.instructables.com/F7M/NXOS/LPCMUOFR/F7MNXOSLPCMUOFR.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Thinkpad T60 &amp; T40 Keyboards - Teensy 4.0 &amp; Pi Pico" src="https://content.instructables.com/FJX/RCR3/LPL7HQ0V/FJXRCR3LPL7HQ0V.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Thinkpad T60 &amp; T40 Keyboards - Teensy 4.0 &amp; Pi Pico" src="https://content.instructables.com/FJ8/XUQ8/M4WRGTF7/FJ8XUQ8M4WRGTF7.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Thinkpad T60 &amp; T40 Keyboards - Teensy 4.0 &amp; Pi Pico" src="https://content.instructables.com/F0Y/INOT/LPL7HQ42/F0YINOTLPL7HQ42.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Thinkpad T60 &amp; T40 Keyboards - Teensy 4.0 &amp; Pi Pico" src="https://content.instructables.com/FZI/HRHS/LPCMUOJ1/FZIHRHSLPCMUOJ1.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Thinkpad T60 &amp; T40 Keyboards - Teensy 4.0 &amp; Pi Pico" src="https://content.instructables.com/FW4/Z3P8/M511RH0N/FW4Z3P8M511RH0N.jpg?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Thinkpad T60 &amp; T40 Keyboards - Teensy 4.0 &amp; Pi Pico" src="https://content.instructables.com/FK6/CHSM/LPCMUORH/FK6CHSMLPCMUORH.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Thinkpad T60 &amp; T40 Keyboards - Teensy 4.0 &amp; Pi Pico" src="https://content.instructables.com/F9Y/4USV/LQDSB8LM/F9Y4USVLQDSB8LM.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>The Thinkpad T60 series and T40 series keyboard connectors are good examples of non-standard FPC cables. Both have 40 pin connectors but with different dimensions and pitch. The circuit board connector for the T60 series is AA01B-S040 and it's available at <a href="https://www.aliexpress.us/item/2251832744037829.html?spm=a2g0o.order_list.order_list_main.5.7c4c1802MsdpBk&amp;gatewayAdapt=glo2usa" rel="nofollow noopener noreferrer">AliExpress</a>. Unfortunately the KX14-40K5DE connector for the T40 series is unavailable so I had to unsolder it from the motherboard. I've made keyboard controller boards in the past for T60 series keyboards using the Teensy LC and 3.2 but since these are obsolete, I've updated the design to use a Teensy 4.0 and uploaded the files to my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Lenovo_ThinkPad_T61/Teensy%204p0" rel="nofollow noopener noreferrer">repo</a>. I have also made a similar board design for the T40 series keyboards with files available at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/IBM_T41_Keyboard_and_Touchpad" rel="nofollow noopener noreferrer">repo</a>. Both connector boards have pads for BSS138 FETs with pull up resistors to act as level translators for the PS/2 signals that control the trackpoint and touchpad. The code scans the keyboard, then polls the trackpoint and touchpad for any movement. See the two PDF files below for all the details.</p><p>*************************Update for Raspberry Pi Pico W**************************</p><p>I have built a T61 keyboard controller that uses the Raspberry Pi Pico W instead of a Teensy. Read all about it in the PDF file below. The code and circuit board files are at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Pico_T61_Keyboard" rel="nofollow noopener noreferrer">repo</a>.</p></div><div class="downloads"><h3 class="sr-only">Attachments</h3><ul id="attachments" class="ible-files unstyled list-unstyled"><li class="file-info clearfix"><a class="thumb-wrapper" href="https://content.instructables.com/FVQ/IUDW/LPMMXLGQ/FVQIUDWLPMMXLGQ.pdf" download="T41_Teensy.pdf"><span class="file-thumb"><img class="lazyload tiny-img" data-src="https://content.instructables.com/static/image/attachment-PDF.png" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/pixel.png" alt="download {{ file.name }}"><noscript><img class="tiny-img" src="https://content.instructables.com/static/image/attachment-PDF.png" alt="download {{ file.name }}"/></noscript></span><span class="title">T41_Teensy.pdf</span></a><div class="file-actions"><a href="https://content.instructables.com/FVQ/IUDW/LPMMXLGQ/FVQIUDWLPMMXLGQ.pdf" download="T41_Teensy.pdf" class="btn pull-right">Download</a></div></li><li class="file-info clearfix"><a class="thumb-wrapper" href="https://content.instructables.com/FGP/PJ98/LPMMXLGR/FGPPJ98LPMMXLGR.pdf" download="T61_Teensy4p0.pdf"><span class="file-thumb"><img class="lazyload tiny-img" data-src="https://content.instructables.com/static/image/attachment-PDF.png" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/pixel.png" alt="download {{ file.name }}"><noscript><img class="tiny-img" src="https://content.instructables.com/static/image/attachment-PDF.png" alt="download {{ file.name }}"/></noscript></span><span class="title">T61_Teensy4p0.pdf</span></a><div class="file-actions"><a href="https://content.instructables.com/FGP/PJ98/LPMMXLGR/FGPPJ98LPMMXLGR.pdf" download="T61_Teensy4p0.pdf" class="btn pull-right">Download</a></div></li><li class="file-info clearfix"><a class="thumb-wrapper" href="https://content.instructables.com/F5D/9D8O/M511RHMH/F5D9D8OM511RHMH.pdf" download="Pi_Pico_T61_Keyboard_Controller.pdf"><span class="file-thumb"><img class="lazyload tiny-img" data-src="https://content.instructables.com/static/image/attachment-PDF.png" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/pixel.png" alt="download {{ file.name }}"><noscript><img class="tiny-img" src="https://content.instructables.com/static/image/attachment-PDF.png" alt="download {{ file.name }}"/></noscript></span><span class="title">Pi_Pico_T61_Keyboard_Controller.pdf</span></a><div class="file-actions"><a href="https://content.instructables.com/F5D/9D8O/M511RHMH/F5D9D8OM511RHMH.pdf" download="Pi_Pico_T61_Keyboard_Controller.pdf" class="btn pull-right">Download</a></div></li></ul></div></section><section id="step18" class="step" data-stepid="SM2HI46JWB4CBPQ"><h2 class="step-title">Step 18: Apple IBook G3 Clamshell</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset"><div class="photoset-row items-3 "><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5; flex: 1.5;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset276" href="https://content.instructables.com/FKX/MZP7/KVAYNOJX/FKXMZP7KVAYNOJX.jpg?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMS0xMC0yOCAxNzozMTowMi4w" data-download="https://content.instructables.com/FKX/MZP7/KVAYNOJX/FKXMZP7KVAYNOJX.jpg?auto=webp&amp;frame=1&amp;md=MjAyMS0xMC0yOCAxNzozMTowMi4w" data-fileid="FKXMZP7KVAYNOJX">
                <img loading="lazy" alt="Apple IBook G3 Clamshell" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FKXMZP7KVAYNOJX.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-col" style="-webkit-flex:0.44587622123617776;flex:0.44587622123617776;"><div class="photoset-item photoset-cell" style="-webkit-flex: 0.6609724047306176; flex: 0.6609724047306176;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset276" href="https://content.instructables.com/F3Y/RPUA/LPE2AUMA/F3YRPUALPE2AUMA.png?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMy0xMS0yNSAxMzozODozNS4w" data-download="https://content.instructables.com/F3Y/RPUA/LPE2AUMA/F3YRPUALPE2AUMA.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yNSAxMzozODozNS4w" data-fileid="F3YRPUALPE2AUMA">
                <img loading="lazy" alt="Apple IBook G3 Clamshell" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F3YRPUALPE2AUMA.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.370139968895801; flex: 1.370139968895801;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset276" href="https://content.instructables.com/FBG/R8YT/LP8CJTTB/FBGR8YTLP8CJTTB.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMy0xMS0yMSAyMzoxODoyMy4w" data-download="https://content.instructables.com/FBG/R8YT/LP8CJTTB/FBGR8YTLP8CJTTB.jpg?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yMSAyMzoxODoyMy4w" data-fileid="FBGR8YTLP8CJTTB">
                <img loading="lazy" alt="Apple IBook G3 Clamshell" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FBGR8YTLP8CJTTB.jpg">
                
            </a>
        
    <div class="photoset-showmore"><img class="loading" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/ajax_loader_48px.gif">3 More Images</div></div>
</div></div></div><div class="photoset-row items-3  hidden-row"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.1948356807511737; flex: 1.1948356807511737;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset276" href="https://content.instructables.com/F0E/SB8N/LPJS24NS/F0ESB8NLPJS24NS.jpg?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMy0xMS0yOSAwOTozODozMS4w" data-download="https://content.instructables.com/F0E/SB8N/LPJS24NS/F0ESB8NLPJS24NS.jpg?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yOSAwOTozODozMS4w" data-fileid="F0ESB8NLPJS24NS">
                <img loading="lazy" alt="Apple IBook G3 Clamshell" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F0ESB8NLPJS24NS.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.111963190184049; flex: 1.111963190184049;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset276" href="https://content.instructables.com/F64/AEX5/LPCMUP00/F64AEX5LPCMUP00.png?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMy0xMS0yNCAxMToyMjo1NS4w" data-download="https://content.instructables.com/F64/AEX5/LPCMUP00/F64AEX5LPCMUP00.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yNCAxMToyMjo1NS4w" data-fileid="F64AEX5LPCMUP00">
                <img loading="lazy" alt="Apple IBook G3 Clamshell" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F64AEX5LPCMUP00.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.4447334200260078; flex: 1.4447334200260078;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset276" href="https://content.instructables.com/FVQ/ZZGM/LPICLP8C/FVQZZGMLPICLP8C.png?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAyMy0xMS0yOCAxMDoxMToxNi4w" data-download="https://content.instructables.com/FVQ/ZZGM/LPICLP8C/FVQZZGMLPICLP8C.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMS0yOCAxMDoxMToxNi4w" data-fileid="FVQZZGMLPICLP8C">
                <img loading="lazy" alt="Apple IBook G3 Clamshell" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FVQZZGMLPICLP8C.png">
                
            </a>
        
    </div>
</div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Apple IBook G3 Clamshell" src="https://content.instructables.com/FKX/MZP7/KVAYNOJX/FKXMZP7KVAYNOJX.jpg?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Apple IBook G3 Clamshell" src="https://content.instructables.com/F3Y/RPUA/LPE2AUMA/F3YRPUALPE2AUMA.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Apple IBook G3 Clamshell" src="https://content.instructables.com/FBG/R8YT/LP8CJTTB/FBGR8YTLP8CJTTB.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Apple IBook G3 Clamshell" src="https://content.instructables.com/F0E/SB8N/LPJS24NS/F0ESB8NLPJS24NS.jpg?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Apple IBook G3 Clamshell" src="https://content.instructables.com/F64/AEX5/LPCMUP00/F64AEX5LPCMUP00.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Apple IBook G3 Clamshell" src="https://content.instructables.com/FVQ/ZZGM/LPICLP8C/FVQZZGMLPICLP8C.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>"Billy67" has used my code and circuit boards to convert several Apple keyboards to USB. Many are documented in the "I made it" section at the end of this Instructable. One of those keyboards is from an iBook G3 clamshell which has a special 40 pin connector on the end of its FPC cable. Because of height restrictions in the clamshell laptop, the Teensy must sit inside a cutout in the board. Wires or "U" shaped <a href="https://www.aliexpress.com/item/2255800847905770.html?spm=a2g0s.9042311.0.0.12a54c4d4ZO3bs&amp;gatewayAdapt=4itemAdapt" rel="nofollow noopener noreferrer">header pins</a> tie Teensy I/O's 0 thru 23 to the connector board. I/O's 24 thru 33 use backside wires as pictured above. Billy did some experimenting and found connector part number <a href="http://www.proto-advantage.com/store/product_info.php?products_id=1900048" rel="nofollow noopener noreferrer">HDR127MET40F-G-V-SM-DR</a> mates up with this keyboard cable perfectly (see picture above). To build a prototype, he etched his own circuit board with fine pitch traces drawn freehand with an ink pen (wow, that's hard core). If you're like me and haven't used PCB etchant in a few decades, you're going to want a circuit board file to send to a fab house. I originally used a Teensy 3.2 but have updated the board design to use a Teensy 4.0. The new Eagle layout file is "iBookG3Clamshell_T4p0.brd". The zip'ed Gerber file is "iBookG3Clamshell_T4p0_2023-10-31.zip". These files and the keyboard code are available at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/iBookG3_Clamshell" rel="nofollow noopener noreferrer">repo</a>. Teensy I/O 13 is not used so the LED can remain on the board. I/O's 19, 20, and 21 can be used for NUM, SCROLL, and CAPS lock LEDs with current limit resistors.</p></div></section><section id="step19" class="step" data-stepid="S4Z6GTLKFL464D0"><h2 class="step-title">Step 19: Keyboards With Two FPC Cables</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset" style="max-width: 1099.61px;"><div class="photoset-row items-3 "><div class="photoset-item photoset-cell" style="-webkit-flex: 1.0481637567730282; flex: 1.0481637567730282;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset284" href="https://content.instructables.com/FR6/8WXI/KVP8Z3ED/FR68WXIKVP8Z3ED.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMS0xMS0wNyAxOTozMTo1Ni4w" data-download="https://content.instructables.com/FR6/8WXI/KVP8Z3ED/FR68WXIKVP8Z3ED.jpg?auto=webp&amp;frame=1&amp;md=MjAyMS0xMS0wNyAxOTozMTo1Ni4w" data-fileid="FR68WXIKVP8Z3ED">
                <img loading="lazy" alt="Keyboards With Two FPC Cables" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FR68WXIKVP8Z3ED.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-col" style="-webkit-flex:0.5227042264230877;flex:0.5227042264230877;"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.2034805890227578; flex: 1.2034805890227578;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset284" href="https://content.instructables.com/F4W/CV7M/KFL46577/F4WCV7MKFL46577.jpg?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMC0wOS0yNyAxNjo0ODoyNS4w" data-download="https://content.instructables.com/F4W/CV7M/KFL46577/F4WCV7MKFL46577.jpg?auto=webp&amp;frame=1&amp;md=MjAyMC0wOS0yNyAxNjo0ODoyNS4w" data-fileid="F4WCV7MKFL46577">
                <img loading="lazy" alt="Keyboards With Two FPC Cables" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F4WCV7MKFL46577.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 0.9240397065170479; flex: 0.9240397065170479;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset284" href="https://content.instructables.com/F2I/FC0W/KFL465CE/F2IFC0WKFL465CE.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMC0wOS0yNyAxNjo1MToyOC4w" data-download="https://content.instructables.com/F2I/FC0W/KFL465CE/F2IFC0WKFL465CE.jpg?auto=webp&amp;frame=1&amp;md=MjAyMC0wOS0yNyAxNjo1MToyOC4w" data-fileid="F2IFC0WKFL465CE">
                <img loading="lazy" alt="Keyboards With Two FPC Cables" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F2IFC0WKFL465CE.jpg">
                
            </a>
        
    </div>
</div></div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Keyboards With Two FPC Cables" src="https://content.instructables.com/FR6/8WXI/KVP8Z3ED/FR68WXIKVP8Z3ED.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Keyboards With Two FPC Cables" src="https://content.instructables.com/F4W/CV7M/KFL46577/F4WCV7MKFL46577.jpg?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Keyboards With Two FPC Cables" src="https://content.instructables.com/F2I/FC0W/KFL465CE/F2IFC0WKFL465CE.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>If your keyboard has two FPC cables, you may be able to insert them side by side in one FPC connector or solder two FPC connectors on the board as shown above. It's common for one FPC cable to have top contacts and the other to have bottom contacts. Use some JB-Weld epoxy on the connector legs and unused pins to help secure it to the board. Some other two cable options are:</p><p>If you don't mind soldering a lot of wires, you can use the FPC breakout board shown above for one of the keyboard FPC connectors and put the other keyboard FPC connector and a Teensy on the regular board. Wire the breakout board to the Teensy per the tables on Step 14 so you won't need to modify the software. The front side of the breakout board will accept an FPC connector with up to 18 pins and either a 1mm or 0.8mm pitch. The back side of the board is for a 0.5mm pitch FPC connector. This approach will allow you to place the breakout board in whatever location is needed by the keyboard cables. The FPC_18pin1mm Eagle and Gerber zip files can be downloaded from my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Keyboard_Scanner_Eagle_Layouts" rel="nofollow noopener noreferrer">repo</a>. Instead of building your own breakout board, you can buy one from <a href="https://www.aliexpress.us/item/3256805298801977.html?spm=a2g0o.productlist.main.97.3a053173yNJLDG&amp;algo_pvid=fded9c33-058f-479c-8c58-121e092d90a9&amp;algo_exp_id=fded9c33-058f-479c-8c58-121e092d90a9-48&amp;pdp_npi=4%40dis%21USD%211.10%211.07%21%21%217.91%217.67%21%402103080517094308489008934e1e1a%2112000033269437093%21sea%21US%21908629051%21&amp;curPageLogUid=vn2DdWDmOrP1&amp;utparam-url=scene%3Asearch%7Cquery_from%3A" rel="nofollow noopener noreferrer">AliExpress</a>. The PDF below describes the procedure.</p><p>Your final option is to make a new layout like I did for the Lenovo 380 Keyboard shown above. A complete design description PDF is given below with all files available at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/IBM%20Thinkpad%20380ED" rel="nofollow noopener noreferrer">repo</a>. This could serve as a starting point for a new board layout and you can add other circuitry like a trackpoint interface or backlight connector.</p></div><div class="downloads"><h3 class="sr-only">Attachments</h3><ul id="attachments" class="ible-files unstyled list-unstyled"><li class="file-info clearfix"><a class="thumb-wrapper" href="https://content.instructables.com/F8L/COK6/LPCMUPRH/F8LCOK6LPCMUPRH.pdf" download="Thinkpad 380ED Keyboard Project.pdf"><span class="file-thumb"><img class="tiny-img ls-is-cached lazyloaded" data-src="https://content.instructables.com/static/image/attachment-PDF.png" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/attachment-PDF.png" alt="download {{ file.name }}"><noscript><img class="tiny-img" src="https://content.instructables.com/static/image/attachment-PDF.png" alt="download {{ file.name }}"/></noscript></span><span class="title">Thinkpad 380ED Keyboard Project.pdf</span></a><div class="file-actions"><a href="https://content.instructables.com/F8L/COK6/LPCMUPRH/F8LCOK6LPCMUPRH.pdf" download="Thinkpad 380ED Keyboard Project.pdf" class="btn pull-right">Download</a></div></li><li class="file-info clearfix"><a class="thumb-wrapper" href="https://content.instructables.com/F8N/P7IU/LTA3F4N9/F8NP7IULTA3F4N9.pdf" download="AliExpress_Adapter_Board.pdf"><span class="file-thumb"><img class="tiny-img ls-is-cached lazyloaded" data-src="https://content.instructables.com/static/image/attachment-PDF.png" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/attachment-PDF.png" alt="download {{ file.name }}"><noscript><img class="tiny-img" src="https://content.instructables.com/static/image/attachment-PDF.png" alt="download {{ file.name }}"/></noscript></span><span class="title">AliExpress_Adapter_Board.pdf</span></a><div class="file-actions"><a href="https://content.instructables.com/F8N/P7IU/LTA3F4N9/F8NP7IULTA3F4N9.pdf" download="AliExpress_Adapter_Board.pdf" class="btn pull-right">Download</a></div></li></ul></div></section><section id="step20" class="step" data-stepid="SGEBM7FJWB4CBPZ"><h2 class="step-title">Step 20: Building a Keyboard Base</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset"><div class="photoset-row items-3 "><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5294117647058822; flex: 1.5294117647058822;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset289" href="https://content.instructables.com/FLO/16FW/KE39AAYP/FLO16FWKE39AAYP.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAyMC0wOC0yMCAyMDowNzoxMC4w" data-download="https://content.instructables.com/FLO/16FW/KE39AAYP/FLO16FWKE39AAYP.jpg?auto=webp&amp;frame=1&amp;md=MjAyMC0wOC0yMCAyMDowNzoxMC4w" data-fileid="FLO16FWKE39AAYP">
                <img loading="lazy" alt="Building a Keyboard Base" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FLO16FWKE39AAYP.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-col" style="-webkit-flex:0.5844649646931016;flex:0.5844649646931016;"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.4841379310344827; flex: 1.4841379310344827;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset289" href="https://content.instructables.com/FYG/DT8C/K6SC6SQB/FYGDT8CK6SC6SQB.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAyMC0wMi0xOSAwOTo0MDozNi4w" data-download="https://content.instructables.com/FYG/DT8C/K6SC6SQB/FYGDT8CK6SC6SQB.jpg?auto=webp&amp;frame=1&amp;md=MjAyMC0wMi0xOSAwOTo0MDozNi4w" data-fileid="FYGDT8CK6SC6SQB">
                <img loading="lazy" alt="Building a Keyboard Base" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FYGDT8CK6SC6SQB.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 0.96415770609319; flex: 0.96415770609319;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset289" href="https://content.instructables.com/FNS/XS6F/K6SC5VTV/FNSXS6FK6SC5VTV.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMC0wMi0xOCAxNTo0MDoxNC4w" data-download="https://content.instructables.com/FNS/XS6F/K6SC5VTV/FNSXS6FK6SC5VTV.jpg?auto=webp&amp;frame=1&amp;md=MjAyMC0wMi0xOCAxNTo0MDoxNC4w" data-fileid="FNSXS6FK6SC5VTV">
                <img loading="lazy" alt="Building a Keyboard Base" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FNSXS6FK6SC5VTV.jpg">
                
            </a>
        
    <div class="photoset-showmore"><img class="loading" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/ajax_loader_48px.gif">9 More Images</div></div>
</div></div></div><div class="photoset-row items-3  hidden-row"><div class="photoset-item photoset-cell" style="-webkit-flex: 0.6638; flex: 0.6638;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset289" href="https://content.instructables.com/FDW/HEN0/LA13TJBM/FDWHEN0LA13TJBM.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMi0xMS0wNiAxODowNjowMy4w" data-download="https://content.instructables.com/FDW/HEN0/LA13TJBM/FDWHEN0LA13TJBM.jpg?auto=webp&amp;frame=1&amp;md=MjAyMi0xMS0wNiAxODowNjowMy4w" data-fileid="FDWHEN0LA13TJBM">
                <img loading="lazy" alt="Building a Keyboard Base" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FDWHEN0LA13TJBM.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5; flex: 1.5;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset289" href="https://content.instructables.com/FKG/DMQT/K6SC5VTO/FKGDMQTK6SC5VTO.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAyMC0wMi0xOCAxNTo0MDoxMS4w" data-download="https://content.instructables.com/FKG/DMQT/K6SC5VTO/FKGDMQTK6SC5VTO.jpg?auto=webp&amp;frame=1&amp;md=MjAyMC0wMi0xOCAxNTo0MDoxMS4w" data-fileid="FKGDMQTK6SC5VTO">
                <img loading="lazy" alt="Building a Keyboard Base" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FKGDMQTK6SC5VTO.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.4239802224969098; flex: 1.4239802224969098;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset289" href="https://content.instructables.com/FSQ/2PT3/KFJOOLSZ/FSQ2PT3KFJOOLSZ.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAyMC0wOS0yNiAwOToxNDowNC4w" data-download="https://content.instructables.com/FSQ/2PT3/KFJOOLSZ/FSQ2PT3KFJOOLSZ.jpg?auto=webp&amp;frame=1&amp;md=MjAyMC0wOS0yNiAwOToxNDowNC4w" data-fileid="FSQ2PT3KFJOOLSZ">
                <img loading="lazy" alt="Building a Keyboard Base" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FSQ2PT3KFJOOLSZ.jpg">
                
            </a>
        
    </div>
</div></div><div class="photoset-row items-3  hidden-row"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.3333333333333333; flex: 1.3333333333333333;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset289" href="https://content.instructables.com/F4B/OUJH/JYOOO0E2/F4BOUJHJYOOO0E2.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAxOS0wNy0yOSAyMjo1MDo1OC4w" data-download="https://content.instructables.com/F4B/OUJH/JYOOO0E2/F4BOUJHJYOOO0E2.jpg?auto=webp&amp;frame=1&amp;md=MjAxOS0wNy0yOSAyMjo1MDo1OC4w" data-fileid="F4BOUJHJYOOO0E2">
                <img loading="lazy" alt="Building a Keyboard Base" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F4BOUJHJYOOO0E2.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5; flex: 1.5;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset289" href="https://content.instructables.com/FG8/4OHN/KED4XDDZ/FG84OHNKED4XDDZ.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMC0wOC0yOCAwMDowMDo1NC4w" data-download="https://content.instructables.com/FG8/4OHN/KED4XDDZ/FG84OHNKED4XDDZ.jpg?auto=webp&amp;frame=1&amp;md=MjAyMC0wOC0yOCAwMDowMDo1NC4w" data-fileid="FG84OHNKED4XDDZ">
                <img loading="lazy" alt="Building a Keyboard Base" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FG84OHNKED4XDDZ.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5; flex: 1.5;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset289" href="https://content.instructables.com/FTG/34SF/KESJELXV/FTG34SFKESJELXV.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMC0wOS0wNyAyMjowNToxNC4w" data-download="https://content.instructables.com/FTG/34SF/KESJELXV/FTG34SFKESJELXV.jpg?auto=webp&amp;frame=1&amp;md=MjAyMC0wOS0wNyAyMjowNToxNC4w" data-fileid="FTG34SFKESJELXV">
                <img loading="lazy" alt="Building a Keyboard Base" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FTG34SFKESJELXV.jpg">
                
            </a>
        
    </div>
</div></div><div class="photoset-row items-3  hidden-row"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.2220291869353719; flex: 1.2220291869353719;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset289" href="https://content.instructables.com/FEV/KOYQ/KVZ97CUG/FEVKOYQKVZ97CUG.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMS0xMS0xNSAwMjowMDoyNC4w" data-download="https://content.instructables.com/FEV/KOYQ/KVZ97CUG/FEVKOYQKVZ97CUG.jpg?auto=webp&amp;frame=1&amp;md=MjAyMS0xMS0xNSAwMjowMDoyNC4w" data-fileid="FEVKOYQKVZ97CUG">
                <img loading="lazy" alt="Building a Keyboard Base" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FEVKOYQKVZ97CUG.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.3333333333333333; flex: 1.3333333333333333;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset289" href="https://content.instructables.com/FQM/UIIW/KVQOKRIO/FQMUIIWKVQOKRIO.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMS0xMS0wOCAyMjo1NDoxNC4w" data-download="https://content.instructables.com/FQM/UIIW/KVQOKRIO/FQMUIIWKVQOKRIO.jpg?auto=webp&amp;frame=1&amp;md=MjAyMS0xMS0wOCAyMjo1NDoxNC4w" data-fileid="FQMUIIWKVQOKRIO">
                <img loading="lazy" alt="Building a Keyboard Base" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FQMUIIWKVQOKRIO.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5; flex: 1.5;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset289" href="https://content.instructables.com/FTC/L8C6/KXRJV96A/FTCL8C6KXRJV96A.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMS0xMi0yOSAwODowMDo0Mi4w" data-download="https://content.instructables.com/FTC/L8C6/KXRJV96A/FTCL8C6KXRJV96A.jpg?auto=webp&amp;frame=1&amp;md=MjAyMS0xMi0yOSAwODowMDo0Mi4w" data-fileid="FTCL8C6KXRJV96A">
                <img loading="lazy" alt="Building a Keyboard Base" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FTCL8C6KXRJV96A.jpg">
                
            </a>
        
    </div>
</div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Building a Keyboard Base" src="https://content.instructables.com/FLO/16FW/KE39AAYP/FLO16FWKE39AAYP.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Building a Keyboard Base" src="https://content.instructables.com/FYG/DT8C/K6SC6SQB/FYGDT8CK6SC6SQB.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Building a Keyboard Base" src="https://content.instructables.com/FNS/XS6F/K6SC5VTV/FNSXS6FK6SC5VTV.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Building a Keyboard Base" src="https://content.instructables.com/FDW/HEN0/LA13TJBM/FDWHEN0LA13TJBM.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Building a Keyboard Base" src="https://content.instructables.com/FKG/DMQT/K6SC5VTO/FKGDMQTK6SC5VTO.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Building a Keyboard Base" src="https://content.instructables.com/FSQ/2PT3/KFJOOLSZ/FSQ2PT3KFJOOLSZ.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Building a Keyboard Base" src="https://content.instructables.com/F4B/OUJH/JYOOO0E2/F4BOUJHJYOOO0E2.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Building a Keyboard Base" src="https://content.instructables.com/FG8/4OHN/KED4XDDZ/FG84OHNKED4XDDZ.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Building a Keyboard Base" src="https://content.instructables.com/FTG/34SF/KESJELXV/FTG34SFKESJELXV.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Building a Keyboard Base" src="https://content.instructables.com/FEV/KOYQ/KVZ97CUG/FEVKOYQKVZ97CUG.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Building a Keyboard Base" src="https://content.instructables.com/FQM/UIIW/KVQOKRIO/FQMUIIWKVQOKRIO.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Building a Keyboard Base" src="https://content.instructables.com/FTC/L8C6/KXRJV96A/FTCL8C6KXRJV96A.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>The easiest way to mount your keyboard is to use the base from the original laptop, (see the Fujitsu case above). If you're not going to use the original laptop case, you can build a custom base out of various materials. Luigi Caradonna has made a stunning marble base using the CNC milling machine from his work. If you are lucky enough to have a 3D printer, you can make a custom case like TheGreenMamba's beautiful X61 Thinkpad keyboard. His 3D print files are at <a href="https://www.thingiverse.com/thing:4169964" rel="nofollow noopener noreferrer">thingiverse</a>. tcaschy has made a few 3D printed cases including the one shown above for a Blackberry keyboard with a Raspberry Pi Zero and LCD. Ben has the files for his T420 3D case at his <a href="https://github.com/orbitinstasis/T420_KB_BLE" rel="nofollow noopener noreferrer">repo</a>. Harjoc used acrylic to make a cool see-thru base. The Thinkpad T43 keyboard shown above has been mounted on a wood base by "Than the FIT man". All of these projects are documented further in the "I made it" section at the end of this Instructable. I made a Thinkpad T61 keyboard base using 3 sheets of 1/4" plywood. Each sheet had its own cutouts to provide a cavity for the Teensy and wire routing. I've also built wood bases for the Toshiba 2415 keyboards that are documented below and at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Toshiba_2415/Toshiba%202415%20Keyboard%20touchpad.pdf" rel="nofollow noopener noreferrer">repo</a>. Warren has chiseled a wood base for a Dell Inspiron 1420 that is pictured on the <a href="https://forum.pjrc.com/threads/60916-queued-Yet-another-laptop-keyboard-with-Teensy" rel="nofollow noopener noreferrer">PJRC forum</a> with code at his <a href="https://gist.github.com/wjes/ed98ffea3f15ff1631a7fb25019d3f14" rel="nofollow noopener noreferrer">Github repo</a>. The Fujitsu Lifebook 755Tx keyboard has a thick backside so it can sit on a desk without any case. The picture above shows how I routed the dual FPC cables into a project box that houses the Teensy 3.2. The Fujitsu keyboard project documentation is given below and at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Fujitsu_Lifebook" rel="nofollow noopener noreferrer">repo</a>. The Logitech K120 desktop keyboard can be re-wired for control by a Teensy as shown in the picture above and documented at <a href="https://www.hackster.io/frank-adams/teensy-controls-a-logitech-keyboard-fujitsu-ergotrac-a0e308" rel="nofollow noopener noreferrer">Hackster</a>.</p></div><div class="downloads"><h3 class="sr-only">Attachments</h3><ul id="attachments" class="ible-files unstyled list-unstyled"><li class="file-info clearfix"><a class="thumb-wrapper" href="https://content.instructables.com/FQY/19G0/LPE2AVS4/FQY19G0LPE2AVS4.pdf" download="Fujitsu_Project_RevA.pdf"><span class="file-thumb"><img class="tiny-img ls-is-cached lazyloaded" data-src="https://content.instructables.com/static/image/attachment-PDF.png" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/attachment-PDF.png" alt="download {{ file.name }}"><noscript><img class="tiny-img" src="https://content.instructables.com/static/image/attachment-PDF.png" alt="download {{ file.name }}"/></noscript></span><span class="title">Fujitsu_Project_RevA.pdf</span></a><div class="file-actions"><a href="https://content.instructables.com/FQY/19G0/LPE2AVS4/FQY19G0LPE2AVS4.pdf" download="Fujitsu_Project_RevA.pdf" class="btn pull-right">Download</a></div></li><li class="file-info clearfix"><a class="thumb-wrapper" href="https://content.instructables.com/FHI/0GQY/LPPHSNMY/FHI0GQYLPPHSNMY.pdf" download="Toshiba 2415 Keyboard touchpad.pdf"><span class="file-thumb"><img class="tiny-img ls-is-cached lazyloaded" data-src="https://content.instructables.com/static/image/attachment-PDF.png" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/attachment-PDF.png" alt="download {{ file.name }}"><noscript><img class="tiny-img" src="https://content.instructables.com/static/image/attachment-PDF.png" alt="download {{ file.name }}"/></noscript></span><span class="title">Toshiba 2415 Keyboard touchpad.pdf</span></a><div class="file-actions"><a href="https://content.instructables.com/FHI/0GQY/LPPHSNMY/FHI0GQYLPPHSNMY.pdf" download="Toshiba 2415 Keyboard touchpad.pdf" class="btn pull-right">Download</a></div></li></ul></div></section><section id="step21" class="step" data-stepid="S10O6M7KFGTU0LF"><h2 class="step-title">Step 21: Keyboard Backlight &amp; LED Indicators</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset"><div class="photoset-row items-3 "><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5; flex: 1.5;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset303" href="https://content.instructables.com/FOR/COQW/LQ6N31IR/FORCOQWLQ6N31IR.png?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAyMy0xMi0xNSAwODo1Njo0Ni4w" data-download="https://content.instructables.com/FOR/COQW/LQ6N31IR/FORCOQWLQ6N31IR.png?auto=webp&amp;frame=1&amp;md=MjAyMy0xMi0xNSAwODo1Njo0Ni4w" data-fileid="FORCOQWLQ6N31IR">
                <img loading="lazy" alt="Keyboard Backlight &amp; LED Indicators" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FORCOQWLQ6N31IR.png">
                
            </a>
        
    </div>
</div><div class="photoset-col" style="-webkit-flex:0.7241379310344828;flex:0.7241379310344828;"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.4; flex: 1.4;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset303" href="https://content.instructables.com/F6C/TQR7/LRGD6K08/F6CTQR7LRGD6K08.png?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyNC0wMS0xNiAyMToyOToxNS4w" data-download="https://content.instructables.com/F6C/TQR7/LRGD6K08/F6CTQR7LRGD6K08.png?auto=webp&amp;frame=1&amp;md=MjAyNC0wMS0xNiAyMToyOToxNS4w" data-fileid="F6CTQR7LRGD6K08">
                <img loading="lazy" alt="Keyboard Backlight &amp; LED Indicators" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F6CTQR7LRGD6K08.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5; flex: 1.5;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset303" href="https://content.instructables.com/FBU/INF4/KFGTU0ZJ/FBUINF4KFGTU0ZJ.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAyMC0wOS0yNCAxNDoxNTo0OC4w" data-download="https://content.instructables.com/FBU/INF4/KFGTU0ZJ/FBUINF4KFGTU0ZJ.jpg?auto=webp&amp;frame=1&amp;md=MjAyMC0wOS0yNCAxNDoxNTo0OC4w" data-fileid="FBUINF4KFGTU0ZJ">
                <img loading="lazy" alt="Keyboard Backlight &amp; LED Indicators" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FBUINF4KFGTU0ZJ.jpg">
                
            </a>
        
    <div class="photoset-showmore"><img class="loading" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/ajax_loader_48px.gif">2 More Images</div></div>
</div></div></div><div class="photoset-row items-2  hidden-row"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5; flex: 1.5;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset303" href="https://content.instructables.com/F8T/C7EJ/KFGTU0ZK/F8TC7EJKFGTU0ZK.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAyMC0wOS0yNCAxNDoxNTo1MS4w" data-download="https://content.instructables.com/F8T/C7EJ/KFGTU0ZK/F8TC7EJKFGTU0ZK.jpg?auto=webp&amp;frame=1&amp;md=MjAyMC0wOS0yNCAxNDoxNTo1MS4w" data-fileid="F8TC7EJKFGTU0ZK">
                <img loading="lazy" alt="Keyboard Backlight &amp; LED Indicators" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F8TC7EJKFGTU0ZK.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 0.9130434782608695; flex: 0.9130434782608695;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset303" href="https://content.instructables.com/FRX/ZNFC/L9R2T0TJ/FRXZNFCL9R2T0TJ.png?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMi0xMC0yNyAwOToyNzoyMC4w" data-download="https://content.instructables.com/FRX/ZNFC/L9R2T0TJ/FRXZNFCL9R2T0TJ.png?auto=webp&amp;frame=1&amp;md=MjAyMi0xMC0yNyAwOToyNzoyMC4w" data-fileid="FRXZNFCL9R2T0TJ">
                <img loading="lazy" alt="Keyboard Backlight &amp; LED Indicators" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FRXZNFCL9R2T0TJ.png">
                
            </a>
        
    </div>
</div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Keyboard Backlight &amp; LED Indicators" src="https://content.instructables.com/FOR/COQW/LQ6N31IR/FORCOQWLQ6N31IR.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Keyboard Backlight &amp; LED Indicators" src="https://content.instructables.com/F6C/TQR7/LRGD6K08/F6CTQR7LRGD6K08.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Keyboard Backlight &amp; LED Indicators" src="https://content.instructables.com/FBU/INF4/KFGTU0ZJ/FBUINF4KFGTU0ZJ.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Keyboard Backlight &amp; LED Indicators" src="https://content.instructables.com/F8T/C7EJ/KFGTU0ZK/F8TC7EJKFGTU0ZK.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Keyboard Backlight &amp; LED Indicators" src="https://content.instructables.com/FRX/ZNFC/L9R2T0TJ/FRXZNFCL9R2T0TJ.png?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>If your keyboard has a backlight, it can be controlled by the Teensy, as long as you have a spare I/O pin left over. The backlight brightness will be controlled using a pulse width modulated (PWM) signal that drives the gate of an N channel FET. The backlight white LEDs may all be wired in parallel or in series as shown in the schematics above. The N-FET will handle the current needed by the backlight WLEDs. Only certain Teensy I/O pins are PWM capable so you may need to swap an I/O from the keyboard. Swapping I/O's is easy if you use wires instead of header pins to mount the Teensy to the board. The backlight signals from the keyboard usually come out on a small FPC cable that is separate from the row/column keyboard cable. There are usually multiple pins in order to handle the current. You can glue a small connector on a blank board and solder wires to it but the fine pitch makes it difficult. I have designed two small connector breakout boards that make it easier to hook up the backlight cable. The Eagle and Gerber board files "FPC_8pin1mm" and "FPC_10pin0p5mm" can be downloaded from my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Keyboard_Scanner_Eagle_Layouts" rel="nofollow noopener noreferrer">repo</a>. They will take an FPC connector with up to 8 pins and a 1mm pitch like this <a href="https://www.digikey.com/product-detail/en/molex/0528520870/WM3890CT-ND/2421853" rel="nofollow noopener noreferrer">Molex connector</a> or up to 10 pins and a 0.5mm pitch like this <a href="https://www.digikey.com/product-detail/en/molex/0528921033/WM11083CT-ND/5171209" rel="nofollow noopener noreferrer">Molex connector</a>. On the backside of each board are pads for a 1206 size current limit resistor and an <a href="https://www.mouser.com/ProductDetail/onsemi-Fairchild/MMBF170?qs=FOlmdCx%252BAA2suHItufvdcg%3D%3D" rel="nofollow noopener noreferrer">MMBF170</a> N-FET. I’ve used a <a href="https://www.mouser.com/ProductDetail/Yageo/RC1206JR-7W22RL?qs=tggtontpCXN%2FjVhmb6j75g%3D%3D" rel="nofollow noopener noreferrer">½ watt, 22 ohm resistor</a> with a parallel wired backlight. I didn't need a resistor for a series wired backlight because I used a small <a href="https://www.aliexpress.us/item/3256805849473559.html?spm=a2g0o.order_list.order_list_main.5.1f6a1802ipKicd&amp;gatewayAdapt=glo2usa" rel="nofollow noopener noreferrer">boost regulator</a> to set the full brightness voltage. Whether you have a series or parallel wired backlight, you should experiment to determine the best resistance or voltage that gives good brightness without excessive current. Look at my test notes for the MacBook Pro A1286 keyboard backlight at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Macbook_Pro_A1286_15in/Macbook%20Pro%20A1286%2015in%20Backlight.pdf" rel="nofollow noopener noreferrer">repo</a> for an example of a 6 diode series string powered at 16 volts. An example for a Galaxy Book Flex 15.6" keyboard, also at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/GalaxyBookFlex15" rel="nofollow noopener noreferrer">repo</a> has 5 parallel strings with 10 diodes per string powered at 26 volts. I figured out the signals on this backlight FPC cable by tracing them back to the motherboard IC where I could read the WLED driver part number and download its datasheet.</p><p>Your Teensy code will need to set the PWM frequency but not too low or it will flicker. To set the PWM on pin 36 to 400Hz, use the following:</p><p>analogWriteFrequency(36,400);</p><p>The PWM duty cycle can range from 0 (fully off), to 255 (fully on). To set the PWM on pin 36 to 80%, use the following:</p><p>analogWrite(36,205); // 205/255 = 80%</p><p>Use a variable for the PWM duty cycle so it can be modified with an Fn-Function key press. Look at the MacBook Pro A1286 code at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Macbook_Pro_A1286_15in/Macbook_Pro_A1286_15in_backlight.ino" rel="nofollow noopener noreferrer">repo</a> for an example of how to adjust the backlight brightness.</p><p>The CAPS, NUM, and Scroll Lock indicator LEDs can be controlled by the Teensy as shown in the schematic above. Look at the Dell D630 folder at my&nbsp;<a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Dell_Latitude_D630/Dell%20Latitude%20D630%20Keyboard%20Matrix.pdf" rel="nofollow noopener noreferrer">repo</a> for an example. The keyboard matrix shows the 3 LEDs have a common anode and separate cathodes that go to pins on the FPC connector. For your keyboard, determine the keyboard matrix pins first, then the unused pins are the ones you'll probe with your multimeter to find the LEDs. You may need to disconnect the pins from the Teensy so its ESD diodes don't interfere while you use the diode setting on your meter. The meter should give a small voltage reading and may provide enough current to light the LED when you have the correct polarity. You will need a current limit resistor when the Teensy is controlling the LED. It may take some experimenting to determine the current level that gives good brightness. I've had good luck using 715 ohms on several keyboards which used 2ma LEDs. Depending on how the LEDs are wired, the Teeny will either drive the control signal low to turn on the LED or drive the signal high. Look at the bottom of many of the keyboard.ino files to see when the keyboard_leds variable is checked. This byte is read by the Teensy over USB from the host. The low 3 bits in the byte indicate when an LED should be turned on. Num Lock is at bit position 0, Caps Lock is at bit position 1, and Scroll Lock is at bit position 2. I often only care about the Caps lock LED (like on the Dell D630) so the other 2 LEDs are not in the code or wired to the keyboard, especially if I'm running out of Teensy I/O pins. Look at the <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Toshiba_2415" rel="nofollow noopener noreferrer">Toshiba 2415</a> for an example of all 3 LEDs being controlled. Note it is possible to put a single resistor on the common LED pin instead of 3 separate resistors. The downside to this is the LED brightness will vary depending on how many LEDs are turned on.</p></div></section><section id="step22" class="step" data-stepid="SQ1TSLIJWB4CBQ4"><h2 class="step-title">Step 22: Touchpad/Pointing Stick</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset" style="max-width: 1186.54px;"><div class="photoset-row items-3 "><div class="photoset-item photoset-cell" style="-webkit-flex: 1.3333333333333333; flex: 1.3333333333333333;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset310" href="https://content.instructables.com/FP9/QDPD/JOSY1JL3/FP9QDPDJOSY1JL3.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAxOC0xMS0yNCAxNTo1MDoyMi4w" data-download="https://content.instructables.com/FP9/QDPD/JOSY1JL3/FP9QDPDJOSY1JL3.jpg?auto=webp&amp;frame=1&amp;md=MjAxOC0xMS0yNCAxNTo1MDoyMi4w" data-fileid="FP9QDPDJOSY1JL3">
                <img loading="lazy" alt="Touchpad/Pointing Stick" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FP9QDPDJOSY1JL3.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-col" style="-webkit-flex:0.3617269544924154;flex:0.3617269544924154;"><div class="photoset-item photoset-cell" style="-webkit-flex: 0.6666666666666666; flex: 0.6666666666666666;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset310" href="https://content.instructables.com/F5Z/ZE2B/KFI98KJK/F5ZZE2BKFI98KJK.jpg?auto=webp&amp;frame=1&amp;height=1024&amp;fit=bounds&amp;md=MjAyMC0wOS0yNSAxMjo1NToxMy4w" data-download="https://content.instructables.com/F5Z/ZE2B/KFI98KJK/F5ZZE2BKFI98KJK.jpg?auto=webp&amp;frame=1&amp;md=MjAyMC0wOS0yNSAxMjo1NToxMy4w" data-fileid="F5ZZE2BKFI98KJK">
                <img loading="lazy" alt="Touchpad/Pointing Stick" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F5ZZE2BKFI98KJK.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 0.7908163265306123; flex: 0.7908163265306123;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset310" href="https://content.instructables.com/FB9/S76Z/KUZJ1BIO/FB9S76ZKUZJ1BIO.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMS0xMC0yMCAxMzo1OTozNy4w" data-download="https://content.instructables.com/FB9/S76Z/KUZJ1BIO/FB9S76ZKUZJ1BIO.jpg?auto=webp&amp;frame=1&amp;md=MjAyMS0xMC0yMCAxMzo1OTozNy4w" data-fileid="FB9S76ZKUZJ1BIO">
                <img loading="lazy" alt="Touchpad/Pointing Stick" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FB9S76ZKUZJ1BIO.jpg">
                
            </a>
        
    <div class="photoset-showmore"><img class="loading" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/ajax_loader_48px.gif">3 More Images</div></div>
</div></div></div><div class="photoset-row items-3  hidden-row"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.3333333333333333; flex: 1.3333333333333333;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset310" href="https://content.instructables.com/FQ4/ABR8/KVIEHNB0/FQ4ABR8KVIEHNB0.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMS0xMS0wMyAwMDoyMzozMS4w" data-download="https://content.instructables.com/FQ4/ABR8/KVIEHNB0/FQ4ABR8KVIEHNB0.jpg?auto=webp&amp;frame=1&amp;md=MjAyMS0xMS0wMyAwMDoyMzozMS4w" data-fileid="FQ4ABR8KVIEHNB0">
                <img loading="lazy" alt="Touchpad/Pointing Stick" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FQ4ABR8KVIEHNB0.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.3468992248062015; flex: 1.3468992248062015;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset310" href="https://content.instructables.com/FNH/VEYK/KXRJVAXX/FNHVEYKKXRJVAXX.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMS0xMi0yOSAwODozMjoxOS4w" data-download="https://content.instructables.com/FNH/VEYK/KXRJVAXX/FNHVEYKKXRJVAXX.jpg?auto=webp&amp;frame=1&amp;md=MjAyMS0xMi0yOSAwODozMjoxOS4w" data-fileid="FNHVEYKKXRJVAXX">
                <img loading="lazy" alt="Touchpad/Pointing Stick" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FNHVEYKKXRJVAXX.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.2651757188498403; flex: 1.2651757188498403;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset310" href="https://content.instructables.com/FCT/VY61/KUJT7085/FCTVY61KUJT7085.jpg?auto=webp&amp;frame=1&amp;fit=bounds&amp;md=MjAyMS0xMC0wOSAxMDo1Mzo0OS4w" data-download="https://content.instructables.com/FCT/VY61/KUJT7085/FCTVY61KUJT7085.jpg?auto=webp&amp;frame=1&amp;md=MjAyMS0xMC0wOSAxMDo1Mzo0OS4w" data-fileid="FCTVY61KUJT7085">
                <img loading="lazy" alt="Touchpad/Pointing Stick" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FCTVY61KUJT7085.jpg">
                
            </a>
        
    </div>
</div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Touchpad/Pointing Stick" src="https://content.instructables.com/FP9/QDPD/JOSY1JL3/FP9QDPDJOSY1JL3.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Touchpad/Pointing Stick" src="https://content.instructables.com/F5Z/ZE2B/KFI98KJK/F5ZZE2BKFI98KJK.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Touchpad/Pointing Stick" src="https://content.instructables.com/FB9/S76Z/KUZJ1BIO/FB9S76ZKUZJ1BIO.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Touchpad/Pointing Stick" src="https://content.instructables.com/FQ4/ABR8/KVIEHNB0/FQ4ABR8KVIEHNB0.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Touchpad/Pointing Stick" src="https://content.instructables.com/FNH/VEYK/KXRJVAXX/FNHVEYKKXRJVAXX.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Touchpad/Pointing Stick" src="https://content.instructables.com/FCT/VY61/KUJT7085/FCTVY61KUJT7085.jpg?auto=webp&amp;fit=bounds&amp;frame=1auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>The PS/2 signals from a laptop's pad/pointing stick can be converted to USB with an off-the-shelf converter as shown in numerous <a href="https://www.youtube.com/watch?v=nCrDtg5yD_w" rel="nofollow noopener noreferrer">videos</a>. If you also want to convert a laptop keyboard to USB, then it makes sense to combine these tasks with a Teensy and only use 1 USB port. It can be confusing to debug the keyboard and touchpad code so I find it best to get each one working by itself, then combine the code.</p><p>PJRC has created mouse functions in Teensyduino so the USB coding is easy. I wrote code for the Teensy that bit-bangs two I/O pins to make the clock and data for the PS/2 bus. You can download my PS/2 code "Touchpad_Remote_mode.ino" from my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Touchpads/Touchpad_Remote_mode.ino" rel="nofollow noopener noreferrer">repo</a>. In the Arduino IDE, under "Tools", set the code to the Teensy model you are using and to "Keyboard+Mouse+Joystick". Compile and load the code into the Teensy. The remote mode code sets the pad/pointing device to be polled at a regular rate to see if any movement or button presses have occurred. This makes it easy to merge in with the keyboard scanning code, which also repeats at a regular rate. The Thinkpad T61 shown earlier uses this method to merge the keyboard and PS/2 trackpoint code. The Dell Latitude D630 keyboard code at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Dell_Latitude_D630/Dell_D630_Keyboard_and_Touchpad.ino" rel="nofollow noopener noreferrer">repo</a> has also been merged with the touchpad code. It can be difficult to figure out the touchpad clock, data, power, and ground pins if you don't have a schematic so I wrote a <a href="https://www.hackster.io/frank-adams/laptop-touchpad-conversion-to-usb-d70519" rel="nofollow noopener noreferrer">step by step procedure</a> to identify the pins. This procedure also describes how to use a level translator (see schematic above) for the clock and data signals. This is needed to avoid damaging the Teensy 4.0 or 4.1 with 5 volt signals from the touchpad. The translator also protects a 3.3 volt touchpad from damage when driven with 5 volt signals from a Teensy 2.0++. Many of my circuit boards include pads to build a translator but you can always wire to a separate translator board like the <a href="https://www.sparkfun.com/products/12009" rel="nofollow noopener noreferrer">Sparkfun 12009</a> or the <a href="https://www.adafruit.com/product/757" rel="nofollow noopener noreferrer">Adafruit 757</a>.</p><p>The clock, data, power, and ground wires from the Teensy can be soldered directly to test points on a Synaptics touchpad. The typical test point numbers for a PS/2 touchpad are:</p><ul><li>Clock = T10. If T10 is not present or doesn't work, try T12 or T5</li><li>Data = T11. If T11 is not present or doesn't work, try T13, T9, or T6</li><li>Ground = T23 or solder to the Ground Plane</li><li>Power = T22. This test point provides an RC power filter. You can skip the power filter at T20</li></ul><p>The touchpad often has an FPC connector and cable that used to go back to the motherboard. Use one of the breakout boards from the previous step and solder a compatible FPC connector. Solder clock, data, power, and ground jumper wires from the breakout board to the Teensy. An example of a breakout board for a Toshiba 2415 touchpad is shown above. The composite keyboard and touchpad code for the Toshiba 2415 is at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Toshiba_2415/Toshiba_2415_kb_tp.ino" rel="nofollow noopener noreferrer">repo</a>.</p><p>The code "Touchpad_Stream_mode.ino" at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Touchpads/Touchpad_Stream_mode.ino" rel="nofollow noopener noreferrer">repo</a> commands the PS/2 touchpad to be in stream mode (instead of remote mode) so the touchpad sends movement data whenever there is activity. My code is constantly looping, looking for touchpad data. If you want to also scan a keyboard, the touchpad code would need to be modified to execute when PS/2 bus activity causes an interrupt.</p><p>An example of an interrupt driven trackpoint routine is at Martin Prochnow's <a href="https://github.com/mprochnow/arduino_sketchbook/tree/master/arduino_trackpoint" rel="nofollow noopener noreferrer">Github repo</a>. His code has been merged with my USB keyboard code to control a Thinkpad T420. His original <a href="https://github.com/orbitinstasis/USB_Laptop_Keyboard_Controller/tree/master/Example_Keyboards/Lenovo_ThinkPad_T61/Teensy%203p2" rel="nofollow noopener noreferrer">Github repo</a> has his initial code and circuit board but he just couldn't stop there. Now his <a href="https://github.com/orbitinstasis/T420_KB_BLE" rel="nofollow noopener noreferrer">second repo</a> provides the code, circuit board files, and 3D printer files to make a keyboard that's USB and Bluetooth capable. It has rechargeable batteries in the case along with lots of weights to hold it in place.</p><p>A trackball, touchpad, or mouse that uses the Apple Data Bus can be converted to USB using the Teensy code at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Touchpads/ADB_Trackball.ino" rel="nofollow noopener noreferrer">repo</a>. This code was merged with the keyboard scanning circuitry for a <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Powerbook_Keyboard_TB_RevNew/Powerbook_Keyboard_TB_RevA.ino" rel="nofollow noopener noreferrer">Mackintosh Powerbook 140</a> shown in the "I made it" section at the end of this Instructable.</p><p>I2C touchpads are becoming more popular in modern laptops. This 2 wire clock and data bus can be directly driven by the I2C pins of a Teensy so no bit-banging is needed. My <a href="https://www.hackster.io/frank-adams/laptop-touchpad-conversion-to-usb-d70519" rel="nofollow noopener noreferrer">Hackster.IO</a> touchpad tutorial describes how to determine the touchpad's I2C address and registers using a Raspberry Pi. Example I2C Teensy code for a basic touchpad and for a very complex Azoteq TPS65-201A-S touchpad can be downloaded from my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Touchpads" rel="nofollow noopener noreferrer">repo</a> and merged into a keyboard scanning routine. The Azoteq touchpad shown above has tons of features described in it's <a href="https://www.azoteq.com/images/stories/pdf/iqs5xx-b000_trackpad_datasheet.pdf" rel="nofollow noopener noreferrer">datasheet</a> and it only costs $5.81 at <a href="https://www.mouser.com/ProductDetail/Azoteq/TPS65-201A-S?qs=%2Fha2pyFaduj%2FWtHefdXgCoIpTIaU9G%2FGro%2F%2FtKyPy2ZyKoAI1lAPzw%3D%3D" rel="nofollow noopener noreferrer">Mouser</a>.</p><p>Before pads, nubs, and trackballs became popular, the GRiD 1550 laptop of the 1980's used a metal rod below the space bar called an IsoPoint. The rod can be spun clockwise or counterclockwise for the Y cursor movement. This spinning rod is <a href="https://en.wikipedia.org/wiki/Rotary_encoder" rel="nofollow noopener noreferrer">rotary incremental encoded</a> with 2 signals. The rod will also slide left or right for the X cursor movement which also has two rotary incremental encoded signals. The <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/GRID%201550/Grid_Mouse.ino" rel="nofollow noopener noreferrer">Teensy code</a> at my repo translates these 4 signals into USB. A complete <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/GRID%201550/1550%20Keyboard%20Project.pdf" rel="nofollow noopener noreferrer">description of this project</a> is at my repo.</p><p>If your trackpoint/pointing stick does not output a serial bus, it may only provide the 4 signals from its strain gauge resistors. The Dell D630 pointing stick has four 4K ohm strain gauge resistors that change resistance enough that the ADC in the Teensy can see the voltage changes above the noise. The Dell D630 pointing stick <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Dell_Latitude_D630/Dell_D630_Pointing_Stick.ino" rel="nofollow noopener noreferrer">code</a> and <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Dell_Latitude_D630/Dell%20D630%20Pointing%20Stick%20Interfaced%20with%20a%20Teensy.pdf" rel="nofollow noopener noreferrer">PDF</a> are at my repo. Old Thinkpad trackpoints like the one on the 380 can also be converted to USB but its strain gauge resistors need to be amplified as documented in my <a href="https://hackaday.io/project/171439-ibm-thinkpad-380ed-keyboardtrackpoint-to-usb/details" rel="nofollow noopener noreferrer">Hackaday.IO project</a>.</p><p>Some Fujitsu laptops have a pointing device called an <a href="https://usermanual.wiki/Fujitsu/fid828.2499166351/html" rel="nofollow noopener noreferrer">Ergo Trac</a> instead of a touchpad. The sensor part number is <a href="https://www.mouser.com/ProductDetail/Fujitsu/FID-828-100-20?qs=pJM2NZBcd9cW8h4myocBjg%3D%3D" rel="nofollow noopener noreferrer">FID-828-100/20</a> and it uses magnetic field detection technology. The picture above shows the 4 connections that normally go to a controller chip on a <a href="https://www.newegg.com/p/1B4-005G-006M1" rel="nofollow noopener noreferrer">CA20290-B40X daughterboard</a> but it can also be driven by a Teensy. The Teensy code at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Touchpads/Fujitsu_Ergotrac.ino" rel="nofollow noopener noreferrer">repo</a> drives a reference logic pulse to the sensor and reads the resulting pulse voltage with two ADC channels. The code then converts the digital values to USB mouse movements.</p><p>Besides using a Teensy microcontroller, I have also developed touchpad controller code that runs on an <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Touchpads/Adafruit_Trinket_M0" rel="nofollow noopener noreferrer">Adafruit Trinket M0</a> and a <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/tree/master/Example_Touchpads/Raspberry_Pi_Pico_TP" rel="nofollow noopener noreferrer">Raspberry Pi Pico</a>. See my repo for the details.</p></div></section><section id="step23" class="step" data-stepid="SCHFV6CKFGTTZ6D"><h2 class="step-title">Step 23: Conclusion</h2><div class="mediaset"><div class="photoset-wrapper">
    <div class="photoset" style="max-width: 1183.21px;"><div class="photoset-row items-4 "><div class="photoset-item photoset-cell" style="-webkit-flex: 1.2496171516079633; flex: 1.2496171516079633;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset318" href="https://content.instructables.com/FSC/66OJ/KFI98LHT/FSC66OJKFI98LHT.png?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMC0wOS0yNSAxMzowNjo1Ni4w" data-download="https://content.instructables.com/FSC/66OJ/KFI98LHT/FSC66OJKFI98LHT.png?auto=webp&amp;frame=1&amp;md=MjAyMC0wOS0yNSAxMzowNjo1Ni4w" data-fileid="FSC66OJKFI98LHT">
                <img loading="lazy" alt="Conclusion" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FSC66OJKFI98LHT.png">
                
            </a>
        
    </div>
</div><div class="photoset-col" style="-webkit-flex:0.4406883835279656;flex:0.4406883835279656;"><div class="photoset-item photoset-cell" style="-webkit-flex: 1.3333333333333333; flex: 1.3333333333333333;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset318" href="https://content.instructables.com/FXI/2TOX/KFGTVWZG/FXI2TOXKFGTVWZG.jpg?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMC0wOS0yNCAyMDoxNzo0NS4w" data-download="https://content.instructables.com/FXI/2TOX/KFGTVWZG/FXI2TOXKFGTVWZG.jpg?auto=webp&amp;frame=1&amp;md=MjAyMC0wOS0yNCAyMDoxNzo0NS4w" data-fileid="FXI2TOXKFGTVWZG">
                <img loading="lazy" alt="Conclusion" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FXI2TOXKFGTVWZG.jpg">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.5; flex: 1.5;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset318" href="https://content.instructables.com/FBU/E4K9/KKE0FDUN/FBUE4K9KKE0FDUN.png?auto=webp&amp;frame=1&amp;width=1024&amp;fit=bounds&amp;md=MjAyMS0wMS0yNiAxNToxNToyMi4w" data-download="https://content.instructables.com/FBU/E4K9/KKE0FDUN/FBUE4K9KKE0FDUN.png?auto=webp&amp;frame=1&amp;md=MjAyMS0wMS0yNiAxNToxNToyMi4w" data-fileid="FBUE4K9KKE0FDUN">
                <img loading="lazy" alt="Conclusion" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/FBUE4K9KKE0FDUN.png">
                
            </a>
        
    </div>
</div><div class="photoset-item photoset-cell" style="-webkit-flex: 1.173006134969325; flex: 1.173006134969325;" data-imagenotes="[]">
    <div class="photoset-image">
        
            <a class="gallery-link" rel="photoset318" href="https://content.instructables.com/F0N/PX1Z/KKE0FDYO/F0NPX1ZKKE0FDYO.png?auto=webp&amp;frame=1&amp;width=1024&amp;height=1024&amp;fit=bounds&amp;md=MjAyMS0wMS0yNiAxNToxNzo1Ni4w" data-download="https://content.instructables.com/F0N/PX1Z/KKE0FDYO/F0NPX1ZKKE0FDYO.png?auto=webp&amp;frame=1&amp;md=MjAyMS0wMS0yNiAxNToxNzo1Ni4w" data-fileid="F0NPX1ZKKE0FDYO">
                <img loading="lazy" alt="Conclusion" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/F0NPX1ZKKE0FDYO.png">
                
            </a>
        
    </div>
</div></div></div></div>
</div></div><noscript><div class="no-js-photoset"><img loading="lazy" alt="Conclusion" src="https://content.instructables.com/FSC/66OJ/KFI98LHT/FSC66OJKFI98LHT.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Conclusion" src="https://content.instructables.com/FXI/2TOX/KFGTVWZG/FXI2TOXKFGTVWZG.jpg?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Conclusion" src="https://content.instructables.com/FBU/E4K9/KKE0FDUN/FBUE4K9KKE0FDUN.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;width=1024auto=webp&amp;frame=1&amp;height=300"><img loading="lazy" alt="Conclusion" src="https://content.instructables.com/F0N/PX1Z/KKE0FDYO/F0NPX1ZKKE0FDYO.png?auto=webp&amp;fit=bounds&amp;frame=1&amp;height=1024&amp;width=1024auto=webp&amp;frame=1&amp;height=300"></div></noscript><div class="step-body"><p>The next step after getting the original keyboard and touchpad working is to add a video converter card to drive the LCD and make a keyboard, video, mouse (KVM). A KVM is often used to troubleshoot servers and the one shown above is from a Dell D630 laptop. I also added a Raspberry Pi inside the case to make a stand alone laptop. This build is described in my KVM <a href="https://www.instructables.com/id/DIY-Portable-KVM-Crashcart-From-Recycled-Laptop-Pr/" rel="noopener noreferrer">Instructable</a>. The Toshiba 2415 laptop shown above was converted into a KVM in order to display the HDMI video from a desktop PC as well as send the keyboard &amp; touchpad data over USB. The documentation and code for this build is at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Toshiba_2415/Toshiba%20KVM%20Project.pdf" rel="nofollow noopener noreferrer">repo</a>.</p><p>If you really want a challenge, check out my <a href="https://www.instructables.com/Battery-Powered-Raspberry-Pi-in-Repurposed-Laptop/" rel="noopener noreferrer">Instructable</a> to make a lithium battery charger. This allows you to use the existing 2, 3, or 4 series cell battery when repurposing a laptop to use a Raspberry Pi. In addition to describing the MP26123 and Max1873 charge controllers, there is Pi software to read the battery status registers over an SMBus and display a "remaining charge" gauge using Cairo graphics.</p><p>I am learning how to code the Raspberry Pi Pico W microcontroller using the Arduino IDE and also KMK. The Pico only has 26 GP I/O pins just like the Teensy LC. My first Pico circuit board is for a Lenovo Thinkpad T61 keyboard (my favorite). I've assembled the board and tested all the keys with KMK. The trackpoint has been tested with Arduino C code. I'm still working on connecting to the host over Bluetooth. You can follow along as I debug this project by reading the PDF at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Pico_T61_Keyboard/Pi_Pico_T61_Keyboard_Controller.pdf" rel="nofollow noopener noreferrer">repo</a>. A second board at my <a href="https://github.com/thedalles77/USB_Laptop_Keyboard_Controller/blob/master/Example_Keyboards/Pico_26Pin_Keyboard/Pi_Pico_26Pin_Keyboard_Controller.pdf" rel="nofollow noopener noreferrer">repo</a> is for laptop keyboards with a standard FPC cable with up to 26 pins and a pitch of 1mm, 0.8mm, or 0.5mm. Stay tuned!</p><p>I hope you find this Instructable useful for re-purposing your old laptop. Leave a comment below if you have any questions, comments, or corrections.</p><p>Good Luck</p><p>Frank Adams</p></div></section></div></article><div class="promo-side"><div class="promo-sticky-container"><img class="promo-hide" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/close-ad.svg" alt="Hide" title="Hide"><a href="https://www.instructables.com/contest/makeitwearable2025/" class="promo-link"><img src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/Contest2-600x1200.png" width="300" height="600"></a></div></div></div><div id="ible-footer-portal" data-urlstring="How-to-Make-a-USB-Laptop-Keyboard-Controller"></div><div id="project-admin-panel" data-urlstring="How-to-Make-a-USB-Laptop-Keyboard-Controller"></div><div class="sticky-header affix" data-location="stickyNav">
	<div id="hamburger-menu" class="dl-menuwrapper hamburger-menu">
		<button class="dl-trigger"><i class="svg-icon svg-hamburger"></i><span class="sr-only">Open Menu</span></button>
		<ul class="dl-menu"><li class="category-grid"><ul class="category-grid-list"><li class="category-grid-item category-grid-item-circuits"><a class="category-grid-item-link" href="https://www.instructables.com/circuits/"><div class="category-grid-icon icon-category-circuits"></div>
                    circuits
                </a></li><li class="category-grid-item category-grid-item-workshop"><a class="category-grid-item-link" href="https://www.instructables.com/workshop/"><div class="category-grid-icon icon-category-workshop"></div>
                    workshop
                </a></li><li class="category-grid-item category-grid-item-craft"><a class="category-grid-item-link" href="https://www.instructables.com/craft/"><div class="category-grid-icon icon-category-craft"></div>
                    craft
                </a></li><li class="category-grid-item category-grid-item-cooking"><a class="category-grid-item-link" href="https://www.instructables.com/cooking/"><div class="category-grid-icon icon-category-cooking"></div>
                    cooking
                </a></li><li class="category-grid-item category-grid-item-living"><a class="category-grid-item-link" href="https://www.instructables.com/living/"><div class="category-grid-icon icon-category-living"></div>
                    living
                </a></li><li class="category-grid-item category-grid-item-outside"><a class="category-grid-item-link" href="https://www.instructables.com/outside/"><div class="category-grid-icon icon-category-outside"></div>
                    outside
                </a></li></ul></li><li class="logged-out-item passthrough visible"><a class="main-menu login-link" data-sourcea="menu:login">Log In</a><a class="main-menu signup-link" data-sourcea="menu:signup">Signup</a></li><li class="logged-in-item" id="auth-container"></li><li class="search-menu"><a class="main-menu" rel="nofollow" href="https://www.instructables.com/search"><i class="icon-search1"></i>Search</a></li><li class="following-menu logged-in-item"><a class="main-menu" rel="nofollow" href="https://www.instructables.com/feed/"><svg class="svg-icon following" viewBox="0 0 24 24"><use xlink:href="/assets/svg/sprite.svg#following"></use></svg>Following</a></li><li class="explore-menu"><a class="main-menu" href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#"><svg class="svg-icon views" viewBox="0 0 24 24"><use xlink:href="/assets/svg/sprite.svg#views"></use></svg>Projects</a><ul class="dl-submenu category-menu"><li class="dl-back"><a href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#">back</a></li><li class="all-menu submenu"><a href="https://www.instructables.com/projects/"><div class="category-grid-icon icon-category-all"></div>All Projects</a></li><li class="circuits-menu"><a class="submenu" href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#"><div class="category-grid-icon icon-category-circuits"></div>Circuits</a><ul class="dl-submenu channels-menu"><li class="dl-back"><a href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#">back</a></li><li><a href="https://www.instructables.com/circuits/projects/">All</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/apple/projects/">Apple</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/arduino/projects/">Arduino</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/art/projects/">Art</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/assistive-tech/projects/">Assistive Tech</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/audio/projects/">Audio</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/cameras/projects/">Cameras</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/clocks/projects/">Clocks</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/computers/projects/">Computers</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/electronics/projects/">Electronics</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/gadgets/projects/">Gadgets</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/lasers/projects/">Lasers</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/leds/projects/">LEDs</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/linux/projects/">Linux</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/microcontrollers/projects/">Microcontrollers</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/microsoft/projects/">Microsoft</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/mobile/projects/">Mobile</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/raspberry-pi/projects/">Raspberry Pi</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/remote-control/projects/">Remote Control</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/reuse/projects/">Reuse</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/robots/projects/">Robots</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/sensors/projects/">Sensors</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/software/projects/">Software</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/soldering/projects/">Soldering</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/speakers/projects/">Speakers</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/tools/projects/">Tools</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/usb/projects/">USB</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/wearables/projects/">Wearables</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/websites/projects/">Websites</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/circuits/wireless/projects/">Wireless</a></li></ul></li><li class="workshop-menu"><a class="submenu" href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#"><div class="category-grid-icon icon-category-workshop"></div>Workshop</a><ul class="dl-submenu channels-menu"><li class="dl-back"><a href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#">back</a></li><li><a href="https://www.instructables.com/workshop/projects/">All</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/3d-design/projects/">3D Design</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/3d-printing/projects/">3D Printing</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/cars/projects/">Cars</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/cnc/projects/">CNC</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/electric-vehicles/projects/">Electric Vehicles</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/energy/projects/">Energy</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/furniture/projects/">Furniture</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/home-improvement/projects/">Home Improvement</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/home-theater/projects/">Home Theater</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/hydroponics/projects/">Hydroponics</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/knives/projects/">Knives</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/laser-cutting/projects/">Laser Cutting</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/lighting/projects/">Lighting</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/metalworking/projects/">Metalworking</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/molds-and-casting/projects/">Molds &amp; Casting</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/motorcycles/projects/">Motorcycles</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/organizing/projects/">Organizing</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/pallets/projects/">Pallets</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/repair/projects/">Repair</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/science/projects/">Science</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/shelves/projects/">Shelves</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/solar/projects/">Solar</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/tools/projects/">Tools</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/woodworking/projects/">Woodworking</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/workshop/workbenches/projects/">Workbenches</a></li></ul></li><li class="craft-menu"><a class="submenu" href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#"><div class="category-grid-icon icon-category-craft"></div>Craft</a><ul class="dl-submenu channels-menu"><li class="dl-back"><a href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#">back</a></li><li><a href="https://www.instructables.com/craft/projects/">All</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/art/projects/">Art</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/books-and-journals/projects/">Books &amp; Journals</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/cardboard/projects/">Cardboard</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/cards/projects/">Cards</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/clay/projects/">Clay</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/costumes-and-cosplay/projects/">Costumes &amp; Cosplay</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/digital-graphics/projects/">Digital Graphics</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/duct-tape/projects/">Duct Tape</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/embroidery/projects/">Embroidery</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/fashion/projects/">Fashion</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/felt/projects/">Felt</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/fiber-arts/projects/">Fiber Arts</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/gift-wrapping/projects/">Gift Wrapping</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/jewelry/projects/">Jewelry</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/knitting-and-crochet/projects/">Knitting &amp; Crochet</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/leather/projects/">Leather</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/mason-jars/projects/">Mason Jars</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/no-sew/projects/">No-Sew</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/paper/projects/">Paper</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/parties-and-weddings/projects/">Parties &amp; Weddings</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/photography/projects/">Photography</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/printmaking/projects/">Printmaking</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/reuse/projects/">Reuse</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/sewing/projects/">Sewing</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/soapmaking/projects/">Soapmaking</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/craft/wallets/projects/">Wallets</a></li></ul></li><li class="cooking-menu"><a class="submenu" href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#"><div class="category-grid-icon icon-category-cooking"></div>Cooking</a><ul class="dl-submenu channels-menu"><li class="dl-back"><a href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#">back</a></li><li><a href="https://www.instructables.com/cooking/projects/">All</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/bacon/projects/">Bacon</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/bbq-and-grilling/projects/">BBQ &amp; Grilling</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/beverages/projects/">Beverages</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/bread/projects/">Bread</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/breakfast/projects/">Breakfast</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/cake/projects/">Cake</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/candy/projects/">Candy</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/canning-and-preserving/projects/">Canning &amp; Preserving</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/cocktails-and-mocktails/projects/">Cocktails &amp; Mocktails</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/coffee/projects/">Coffee</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/cookies/projects/">Cookies</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/cupcakes/projects/">Cupcakes</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/dessert/projects/">Dessert</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/homebrew/projects/">Homebrew</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/main-course/projects/">Main Course</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/pasta/projects/">Pasta</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/pie/projects/">Pie</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/pizza/projects/">Pizza</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/salad/projects/">Salad</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/sandwiches/projects/">Sandwiches</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/snacks-and-appetizers/projects/">Snacks &amp; Appetizers</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/soups-and-stews/projects/">Soups &amp; Stews</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/cooking/vegetarian-and-vegan/projects/">Vegetarian &amp; Vegan</a></li></ul></li><li class="living-menu"><a class="submenu" href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#"><div class="category-grid-icon icon-category-living"></div>Living</a><ul class="dl-submenu channels-menu"><li class="dl-back"><a href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#">back</a></li><li><a href="https://www.instructables.com/living/projects/">All</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/beauty/projects/">Beauty</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/christmas/projects/">Christmas</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/cleaning/projects/">Cleaning</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/decorating/projects/">Decorating</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/education/projects/">Education</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/gardening/projects/">Gardening</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/halloween/projects/">Halloween</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/health/projects/">Health</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/hiding-places/projects/">Hiding Places</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/holidays/projects/">Holidays</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/homesteading/projects/">Homesteading</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/kids/projects/">Kids</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/kitchen/projects/">Kitchen</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/lego-and-knex/projects/">LEGO &amp; K'NEX</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/life-hacks/projects/">Life Hacks</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/music/projects/">Music</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/office-supply-hacks/projects/">Office Supply Hacks</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/organizing/projects/">Organizing</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/pest-control/projects/">Pest Control</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/pets/projects/">Pets</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/pranks-tricks-and-humor/projects/">Pranks, Tricks, &amp; Humor</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/relationships/projects/">Relationships</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/toys-and-games/projects/">Toys &amp; Games</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/travel/projects/">Travel</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/living/video-games/projects/">Video Games</a></li></ul></li><li class="outside-menu"><a class="submenu" href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#"><div class="category-grid-icon icon-category-outside"></div>Outside</a><ul class="dl-submenu channels-menu"><li class="dl-back"><a href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#">back</a></li><li><a href="https://www.instructables.com/outside/projects/">All</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/backyard/projects/">Backyard</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/beach/projects/">Beach</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/bikes/projects/">Bikes</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/birding/projects/">Birding</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/boats/projects/">Boats</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/camping/projects/">Camping</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/climbing/projects/">Climbing</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/fire/projects/">Fire</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/fishing/projects/">Fishing</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/hunting/projects/">Hunting</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/kites/projects/">Kites</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/knots/projects/">Knots</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/launchers/projects/">Launchers</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/paracord/projects/">Paracord</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/rockets/projects/">Rockets</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/siege-engines/projects/">Siege Engines</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/skateboarding/projects/">Skateboarding</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/snow/projects/">Snow</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/sports/projects/">Sports</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/survival/projects/">Survival</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/outside/water/projects/">Water</a></li></ul></li><li class="teachers-menu"><a class="submenu" href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#"><div class="category-grid-icon icon-category-teachers"></div>Teachers</a><ul class="dl-submenu channels-menu"><li class="dl-back"><a href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#">back</a></li><li><a href="https://www.instructables.com/teachers/projects/">All</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=ela">ELA</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=math">Math</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=microbit">Micro:bit</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=science">Science</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=social-studies">Social Studies</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=engineering">Engineering</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=makeymakey">MakeyMakey</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=coding">Coding</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=electronics">Electronics</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=robotics">Robotics</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=arduino">Arduino</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=cnc">CNC</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=laser-cutting">Laser Cutting</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=3d-printing">3D Printing</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=3d-design">3D Design</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=art">Art</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=music">Music</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=theatre">Theatre</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=wood-shop">Wood Shop</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=metal-shop">Metal Shop</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?subjects=resources">Resources</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?groups=k-2">Grades K-2</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?groups=3-5">Grades 3-5</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?groups=6-8">Grades 6-8</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?groups=9-12">Grades 9-12</a></li><li class="channel clearfix"><a class="clearfix" href="https://www.instructables.com/teachers/projects/?groups=university">University+</a></li></ul></li></ul></li><li class="contests-menu"><a class="main-menu" href="https://www.instructables.com/contest/"><svg class="svg-icon contest" viewBox="0 0 24 24"><use xlink:href="/assets/svg/sprite.svg#contest"></use></svg>Contests</a></li><li class="education-menu"><a class="main-menu" href="https://www.instructables.com/teachers/"><i class="icon-school"></i>Teachers
    </a></li><li class="create-menu"><a class="main-menu" href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#"><svg class="svg-icon instructable" viewBox="0 0 24 24"><use xlink:href="/assets/svg/sprite.svg#instructable"></use></svg>Publish</a><ul class="dl-submenu create-submenu"><li class="dl-back"><a href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#">back</a></li><li><a class="submenu new-instructable" href="https://www.instructables.com/editInstructable/new/" rel="nofollow">New Instructable</a></li><li><a class="submenu open-drafts" href="https://www.instructables.com/editInstructable/drafts/" rel="nofollow">Drafts</a></li><li><a class="submenu open-published" href="https://www.instructables.com/editInstructable/published/" rel="nofollow">Published</a></li><li><a class="submenu why-create" href="https://www.instructables.com/create/">Why Publish Instructables?</a></li><li><a class="submenu how-to-write" href="https://www.instructables.com/How-to-Write-an-Instructable-Class/">Writing an Instructable</a></li></ul></li></ul>
	</div>
    <span class="byline">
        <span class="title">How to Make a USB Laptop Keyboard Controller</span> by <a class="author" rel="author" href="https://www.instructables.com/member/Frank_Adams/">Frank_Adams</a><button class="btn btn-yellow follow-btn">Follow</button>
    </span>
    <span class="ible-actions">
        
        <button class="pdf-btn" data-sourcea="download"><i class="svg-icon svg-pdf"></i>Save PDF</button>
        
        <button class="favorite-btn"><i class="svg-icon svg-favorite"></i><span class="favorite-txt">Favorite</span></button>
        
            <button class="imadeit-btn"><a href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#ible-footer-portal"><i class="icon icon-imadeit"></i><span class="imadeit-txt">I Made It</span></a></button>
            <button class="view-comments-btn"><a href="https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/#ible-footer-portal"><i class="svg-icon svg-comments"></i><span class="sr-only">View Comments</span></a></button>
        
        <button class="share-menu-btn"><i class="svg-icon svg-share"></i><span class="sr-only">Share</span></button>
        <button class="more-menu-btn"><i class="svg-icon svg-ellipsis"></i><span class="sr-only">More Options</span></button>
    </span>
    <div class="dropdown share-menu">
        <button class="btn btn-facebook fb-btn"><i class="svg-icon svg-facebook"></i> Facebook</button>
        <button class="btn btn-twitter twit-btn"><i class="svg-icon svg-twitter"></i> Twitter</button>
        <button class="btn btn-danger pin-btn"><i class="svg-icon svg-pinterest"></i> Pinterest</button>
        <button class="btn google-classroom-btn"><i class="icon-google-classroom"></i> Google Classroom</button>
    </div>
    <div class="dropdown more-menu" style="display: none;">
        <button class="btn flag-menu-btn">Flag</button>
        <ul class="flag-menu unstyled hide">
            <li><a class="flag-btn" data-as="wrong-category">Wrong Category</a></li>
            <li><a class="flag-btn" data-as="inappropriate">Inappropriate</a></li>
            <li><a class="flag-btn" data-as="incomplete">Incomplete</a></li>
            <li><a class="flag-btn" data-as="spam">Spam</a></li>
        </ul>
        <button class="btn add-to-collection-btn">Add To Collection</button>
        <button class="btn add-to-contest-btn admin-action">Add To Contest</button>
        <button class="btn edit-btn author-action">Edit</button>
    </div>
</div>
</div></main><footer id="footer" class="footer footer-desktop footer-circuits"><div class="footer-row footer-row-top"><div class="footer-robot robot-icon robot-icon-circuits"></div><div class="footer-categories"><span class="title">Categories</span><ul class="footer-categories-links"><li class="circuits active"><a href="https://www.instructables.com/circuits/"><div class="category-icon icon-category-circuits"></div>Circuits
                            </a></li><li class="workshop "><a href="https://www.instructables.com/workshop/"><div class="category-icon icon-category-workshop"></div>Workshop
                            </a></li><li class="craft "><a href="https://www.instructables.com/craft/"><div class="category-icon icon-category-craft"></div>Craft
                            </a></li><li class="cooking "><a href="https://www.instructables.com/cooking/"><div class="category-icon icon-category-cooking"></div>Cooking
                            </a></li><li class="living "><a href="https://www.instructables.com/living/"><div class="category-icon icon-category-living"></div>Living
                            </a></li><li class="outside "><a href="https://www.instructables.com/outside/"><div class="category-icon icon-category-outside"></div>Outside
                            </a></li><li class="teachers "><a href="https://www.instructables.com/teachers/"><div class="category-icon icon-category-teachers"></div>Teachers
                            </a></li></ul></div><div class="footer-about-us"><span class="title">About Us</span><ul><li><a href="https://www.instructables.com/about/">Who We Are</a></li><li><a href="https://www.instructables.com/create/">Why Publish?</a></li></ul></div><div class="footer-resources"><span class="title">Resources</span><ul><li><a href="https://www.instructables.com/sitemap/">Sitemap</a></li><li><a href="https://www.instructables.com/how-to-write-a-great-instructable/">Help</a></li><li><a href="https://www.instructables.com/contact/">Contact</a></li></ul></div><div class="footer-find-us"><span class="title">Find Us</span><ul><li><a class="instagram" href="https://www.instagram.com/instructables/" title="Instagram"><i class="svg-icon svg-share-instagram"></i></a></li><li><a class="tiktok" href="https://www.tiktok.com/@instructables" title="TikTok"><i class="svg-icon svg-share-tiktok"></i></a></li></ul></div></div><div class="footer-rule"><hr></div><div class="footer-row footer-row-bottom"><div class="footer-links"><p>© 2025 Autodesk, Inc.</p><ul class="footer-links-list"><li><a href="https://www.autodesk.com/company/legal-notices-trademarks/terms-of-service-autodesk360-web-services/instructables-terms-of-service-june-5-2013" target="_blank">Terms of Service</a><span class="divider">|</span></li><li><a href="https://www.autodesk.com/company/legal-notices-trademarks/privacy-statement" target="_blank">Privacy Statement</a><span class="divider">|</span></li><li><a data-opt-in-preferences="">Privacy settings</a><span class="divider">|</span></li><li><a href="https://www.autodesk.com/company/legal-notices-trademarks" target="_blank">Legal Notices &amp; Trademarks</a></li></ul><a href="https://www.autodesk.com/" class="adsk-logo" target="blank"><img alt="Autodesk" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/autodesk-logo-primary-white.png"></a></div></div></footer><script id="js-page-context" type="application/json">{"mobile":false,"accessCookie":"ibleAccess","sessionCookie":"JSESSIONID","loggedInCookie":"loggedIn","awsAlbCookie":"AWSALB","sourceCookie":"iblesource","userStorageKey":"ibleuser","remoteHost":"https://www.instructables.com","remoteRoot":"https://www.instructables.com/","staticRoot":"/assets/","facebookAppId":"140028286058792","recaptchaSiteKey":"6Le9TAwTAAAAADEB44pkYQS2fm7hroFthrNqnoAb","oauthCallbackUrl":"https://www.instructables.com/oauth/callback/","oauthGetAuthUrl":"https://www.instructables.com/oauth/getAuthUrl/","nativeApp":false,"disableEmailVerifyWidget":false,"cacheUrls":["https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/","https://www.instructables.com/json-api/showInstructableModel?anyStatus=false&urlString=How-to-Make-a-USB-Laptop-Keyboard-Controller&versionId=","https://www.instructables.com/json-api/getComments?IMadeIt=false&commentId=&instructableId=EXLTH15JN4VCPOJ&limit=20"],"extraCacheUrls":[],"commitInfo":{"git_hash":"19d24c9993","commit_message":"Merge pull request #1547 from instructables/IN-8262/fix-autocomplete-again"},"cdnUrlUserContent":"https://content.instructables.com","cdnUrlInternal":"https://content.instructables.com","cdnUrls":["https://content.instructables.com","https://content.instructables.com","https://content.instructables.com"],"xhrTimeoutMilliseconds":30000.0,"imageFileExtensions":["jpg","jpeg","gif","png","bmp"],"uploadableFileTypes":["bmp","gif","img","jpg","jpeg","pct","pict","png","raw","tif","tiff","avi","mov","mpg","mpeg","mp4","ogg","ram","webm","wmv","3gp","aaf","aif","aiff","mp3","wav","ai","apk","asc","asy","bat","brd","c","cdr","cpp","crw","csv","dru","dwg","dxf","eps","fzz","f3d","g","gco","gcode","gz","h","hex","iam","indd","ino","ipt","key","lbr","m3u","pde","pdf","psd","py","rtfsch","skp","sldprt","step","stl","studio2","studio3","sub","svg","swf","txt","visuino","vsd","wpr","xml","3mf"],"collectionLimit":300,"typesenseProxy":"/api_proxy/search","typesenseApiKey":"aVRXWEZhelk3RlYway94RVRCUk5kdmhjRzc3VGF6RW1UVVIxSXdvWlh3ST02ZWFYeyJleGNsdWRlX2ZpZWxkcyI6Im91dF9vZixzZWFyY2hfdGltZV9tcyxzdGVwQm9keSIsInBlcl9wYWdlIjo2MH0=","countries":[["US","United States"],["AF","Afghanistan"],["AL","Albania"],["DZ","Algeria"],["AS","American Samoa"],["AD","Andorra"],["AO","Angola"],["AI","Anguilla"],["AQ","Antarctica"],["AG","Antigua and Barbuda"],["AR","Argentina"],["AM","Armenia"],["AW","Aruba"],["AU","Australia"],["AT","Austria"],["AZ","Azerbaijan"],["BS","Bahamas"],["BH","Bahrain"],["BD","Bangladesh"],["BB","Barbados"],["BE","Belgium"],["BZ","Belize"],["BJ","Benin"],["BM","Bermuda"],["BT","Bhutan"],["BO","Bolivia"],["BQ","Bonaire, Sint Eustatius and Saba"],["BA","Bosnia and Herzegovina"],["BW","Botswana"],["BV","Bouvet Island"],["BR","Brazil"],["IO","British Indian Ocean Territory"],["BN","Brunei Darussalam"],["BG","Bulgaria"],["BF","Burkina Faso"],["BI","Burundi"],["CV","Cabo Verde"],["KH","Cambodia"],["CM","Cameroon"],["CA","Canada"],["KY","Cayman Islands"],["CF","Central African Republic"],["TD","Chad"],["CL","Chile"],["CN","China"],["CX","Christmas Island"],["CC","Cocos (Keeling) Islands"],["CO","Colombia"],["KM","Comoros"],["CG","Congo"],["CD","Congo, The Democratic Republic of the"],["CK","Cook Islands"],["CR","Costa Rica"],["HR","Croatia"],["CW","Cura\u00e7ao"],["CY","Cyprus"],["CZ","Czechia"],["CI","C\u00f4te d'Ivoire"],["DK","Denmark"],["DJ","Djibouti"],["DM","Dominica"],["DO","Dominican Republic"],["EC","Ecuador"],["EG","Egypt"],["SV","El Salvador"],["GQ","Equatorial Guinea"],["ER","Eritrea"],["EE","Estonia"],["SZ","Eswatini"],["ET","Ethiopia"],["FK","Falkland Islands (Malvinas)"],["FO","Faroe Islands"],["FJ","Fiji"],["FI","Finland"],["FR","France"],["GF","French Guiana"],["PF","French Polynesia"],["TF","French Southern Territories"],["GA","Gabon"],["GM","Gambia"],["GE","Georgia"],["DE","Germany"],["GH","Ghana"],["GI","Gibraltar"],["GR","Greece"],["GL","Greenland"],["GD","Grenada"],["GP","Guadeloupe"],["GU","Guam"],["GT","Guatemala"],["GG","Guernsey"],["GN","Guinea"],["GW","Guinea-Bissau"],["GY","Guyana"],["HT","Haiti"],["HM","Heard Island and McDonald Islands"],["VA","Holy See (Vatican City State)"],["HN","Honduras"],["HK","Hong Kong"],["HU","Hungary"],["IS","Iceland"],["IN","India"],["ID","Indonesia"],["IQ","Iraq"],["IE","Ireland"],["IM","Isle of Man"],["IL","Israel"],["IT","Italy"],["JM","Jamaica"],["JP","Japan"],["JE","Jersey"],["JO","Jordan"],["KZ","Kazakhstan"],["KE","Kenya"],["KI","Kiribati"],["KW","Kuwait"],["KG","Kyrgyzstan"],["LA","Laos"],["LV","Latvia"],["LB","Lebanon"],["LS","Lesotho"],["LR","Liberia"],["LY","Libya"],["LI","Liechtenstein"],["LT","Lithuania"],["LU","Luxembourg"],["MO","Macao"],["MG","Madagascar"],["MW","Malawi"],["MY","Malaysia"],["MV","Maldives"],["ML","Mali"],["MT","Malta"],["MH","Marshall Islands"],["MQ","Martinique"],["MR","Mauritania"],["MU","Mauritius"],["YT","Mayotte"],["MX","Mexico"],["FM","Micronesia, Federated States of"],["MD","Moldova"],["MC","Monaco"],["MN","Mongolia"],["ME","Montenegro"],["MS","Montserrat"],["MA","Morocco"],["MZ","Mozambique"],["MM","Myanmar"],["NA","Namibia"],["NR","Nauru"],["NP","Nepal"],["NL","Netherlands"],["NC","New Caledonia"],["NZ","New Zealand"],["NI","Nicaragua"],["NE","Niger"],["NG","Nigeria"],["NU","Niue"],["NF","Norfolk Island"],["MK","North Macedonia"],["MP","Northern Mariana Islands"],["NO","Norway"],["OM","Oman"],["PK","Pakistan"],["PW","Palau"],["PS","Palestine, State of"],["PA","Panama"],["PG","Papua New Guinea"],["PY","Paraguay"],["PE","Peru"],["PH","Philippines"],["PN","Pitcairn"],["PL","Poland"],["PT","Portugal"],["PR","Puerto Rico"],["QA","Qatar"],["RO","Romania"],["RW","Rwanda"],["RE","R\u00e9union"],["BL","Saint Barth\u00e9lemy"],["SH","Saint Helena, Ascension and Tristan da Cunha"],["KN","Saint Kitts and Nevis"],["LC","Saint Lucia"],["MF","Saint Martin (French part)"],["PM","Saint Pierre and Miquelon"],["VC","Saint Vincent and the Grenadines"],["WS","Samoa"],["SM","San Marino"],["ST","Sao Tome and Principe"],["SA","Saudi Arabia"],["SN","Senegal"],["RS","Serbia"],["SC","Seychelles"],["SL","Sierra Leone"],["SG","Singapore"],["SX","Sint Maarten (Dutch part)"],["SK","Slovakia"],["SI","Slovenia"],["SB","Solomon Islands"],["SO","Somalia"],["ZA","South Africa"],["GS","South Georgia and the South Sandwich Islands"],["KR","South Korea"],["SS","South Sudan"],["ES","Spain"],["LK","Sri Lanka"],["SD","Sudan"],["SR","Suriname"],["SJ","Svalbard and Jan Mayen"],["SE","Sweden"],["CH","Switzerland"],["TW","Taiwan"],["TJ","Tajikistan"],["TZ","Tanzania"],["TH","Thailand"],["TL","Timor-Leste"],["TG","Togo"],["TK","Tokelau"],["TO","Tonga"],["TT","Trinidad and Tobago"],["TN","Tunisia"],["TM","Turkmenistan"],["TC","Turks and Caicos Islands"],["TV","Tuvalu"],["TR","T\u00fcrkiye"],["UG","Uganda"],["UA","Ukraine"],["AE","United Arab Emirates"],["GB","United Kingdom"],["UM","United States Minor Outlying Islands"],["UY","Uruguay"],["UZ","Uzbekistan"],["VU","Vanuatu"],["VE","Venezuela"],["VN","Vietnam"],["VG","Virgin Islands, British"],["VI","Virgin Islands, U.S."],["WF","Wallis and Futuna"],["EH","Western Sahara"],["YE","Yemen"],["ZM","Zambia"],["ZW","Zimbabwe"],["AX","\u00c5land Islands"]],"ineligibleCountries":[["AR","Argentina"],["BR","Brazil"],["IT","Italy"],["PL","Poland"],["RO","Romania"],["TR","T\u00fcrkiye"]],"featureFlags":{"":true},"category":"circuits","channel":"electronics","ibleData":{"id":"EXLTH15JN4VCPOJ","urlString":"How-to-Make-a-USB-Laptop-Keyboard-Controller","fullUrl":"https://www.instructables.com/How-to-Make-a-USB-Laptop-Keyboard-Controller/","shareImageUrl":"https://content.instructables.com/F9V/LVGC/JOWTGZBK/F9VLVGCJOWTGZBK.jpg?auto=webp&frame=1&width=2100","title":"How to Make a USB Laptop Keyboard Controller","type":"Step by Step","featureFlag":false,"classifications":[{"name":"circuits","title":"Circuits","type":"category","channels":[{"name":"electronics","title":"Electronics","type":"channel","category":"circuits"}]}],"category":"circuits","channel":"electronics","grade":"","subject":"","author":{"id":"MAI3O71JN4VCPNJ","screenName":"Frank_Adams","originalUrl":"https://content.instructables.com/FRK/AY4S/JNULDPZ1/FRKAY4SJNULDPZ1.jpg?auto=webp"},"coverImage":{"originalUrl":"https://content.instructables.com/F9V/LVGC/JOWTGZBK/F9VLVGCJOWTGZBK.jpg?auto=webp"},"commentingEnabled":true,"indexTags":["internal"],"publishDate":"2018-11-23 21:42:47.0","modifiedDate":"2024-12-23 09:11:32.0"}}</script><script>/*! head.load - v2.0.0 */
!function(e,t){"use strict";var n,a,r=e.document,o=[],u=[],c={},l={},i="async"in r.createElement("script")||"MozAppearance"in r.documentElement.style||e.opera,s=e.head_conf&&e.head_conf.head||"head",d=e[s]=e[s]||function(){d.ready.apply(null,arguments)},f=1,p=2,y=3,m=4;function h(){}function v(e,t){if(e){"object"==typeof e&&(e=[].slice.call(e));for(var n=0,a=e.length;n<a;n++)t.call(e,e[n],n)}}function g(e,n){var a=Object.prototype.toString.call(n).slice(8,-1);return n!==t&&null!==n&&a===e}function E(e){return g("Function",e)}function L(e){return g("Array",e)}function T(e){(e=e||h)._done||(e(),e._done=1)}function b(e){var t,n,a,r,o={};if("object"==typeof e)for(var u in e)e[u]&&(o={name:u,url:e[u]});else o={name:(t=e,n=t.split("/"),a=n[n.length-1],r=a.indexOf("?"),-1!==r?a.substring(0,r):a),url:e};var c=l[o.name];return c&&c.url===o.url?c:(l[o.name]=o,o)}function j(e){for(var t in e=e||l)if(e.hasOwnProperty(t)&&e[t].state!==m)return!1;return!0}function A(e,n){e.state===t&&(e.state=f,e.onpreload=[],M({url:e.url,type:"cache"},(function(){!function(e){e.state=p,v(e.onpreload,(function(e){e.call()}))}(e)})))}function S(e,t){t=t||h,e.state!==m?e.state!==y?e.state!==f?(e.state=y,M(e,(function(){e.state=m,t(),v(c[e.name],(function(e){T(e)})),a&&j()&&v(c.ALL,(function(e){T(e)}))}))):e.onpreload.push((function(){S(e,t)})):d.ready(e.name,t):t()}function M(t,n){var a;n=n||h,/\.css[^\.]*$/.test(t.url)?((a=r.createElement("link")).type="text/"+(t.type||"css"),a.rel="stylesheet",a.href=t.url):((a=r.createElement("script")).type="text/"+(t.type||"javascript"),a.src=t.url),a.onload=a.onreadystatechange=function(t){("load"===(t=t||e.event).type||/loaded|complete/.test(a.readyState)&&(!r.documentMode||r.documentMode<9))&&(a.onload=a.onreadystatechange=a.onerror=null,n())},a.onerror=function(t){t=t||e.event,a.onload=a.onreadystatechange=a.onerror=null,n()},a.async=!1,a.defer=!1;var o=r.head||r.getElementsByTagName("head")[0];o.insertBefore(a,o.lastChild)}function O(){if(!r.body)return e.clearTimeout(d.readyTimeout),void(d.readyTimeout=e.setTimeout(O,50));a||(a=!0,function(){for(var e=r.getElementsByTagName("script"),t=0,n=e.length;t<n;t++){var a=e[t].getAttribute("data-headjs-load");if(a)return void d.load(a)}}(),v(o,(function(e){T(e)})))}function k(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",k,!1),O()):"complete"===r.readyState&&(r.detachEvent("onreadystatechange",k),O())}if("complete"===r.readyState)O();else if(r.addEventListener)r.addEventListener("DOMContentLoaded",k,!1),e.addEventListener("load",O,!1);else{r.attachEvent("onreadystatechange",k),e.attachEvent("onload",O);var _=!1;try{_=!e.frameElement&&r.documentElement}catch(e){}_&&_.doScroll&&function t(){if(!a){try{_.doScroll("left")}catch(n){return e.clearTimeout(d.readyTimeout),void(d.readyTimeout=e.setTimeout(t,50))}O()}}()}d.load=d.js=i?function(){var e=arguments,t=e[e.length-1],n={};return E(t)||(t=null),L(e[0])?(e[0].push(t),d.load.apply(null,e[0]),d):(v(e,(function(e,a){e!==t&&(e=b(e),n[e.name]=e)})),v(e,(function(e,a){e!==t&&S(e=b(e),(function(){j(n)&&T(t)}))})),d)}:function(){var e=arguments,t=[].slice.call(e,1),a=t[0];return n?(a?(v(t,(function(e){!E(e)&&e&&A(b(e))})),S(b(e[0]),E(a)?a:function(){d.load.apply(null,t)})):S(b(e[0])),d):(u.push((function(){d.load.apply(null,e)})),d)},d.test=function(e,t,n,a){var r="object"==typeof e?e:{test:e,success:!!t&&(L(t)?t:[t]),failure:!!n&&(L(n)?n:[n]),callback:a||h},o=!!r.test;return o&&r.success?(r.success.push(r.callback),d.load.apply(null,r.success)):!o&&r.failure?(r.failure.push(r.callback),d.load.apply(null,r.failure)):a(),d},d.ready=function(e,t){if(e===r)return a?T(t):o.push(t),d;if(E(e)&&(t=e,e="ALL"),L(e)){var n={};return v(e,(function(e){n[e]=l[e],d.ready(e,(function(){j(n)&&T(t)}))})),d}if("string"!=typeof e||!E(t))return d;var u=l[e];if(u&&u.state===m||"ALL"===e&&j()&&a)return T(t),d;var i=c[e];return i?i.push(t):i=c[e]=[t],d},d.ready(r,(function(){n&&j()&&v(c.ALL,(function(e){T(e)})),d.feature&&d.feature("domloaded",!0)})),setTimeout((function(){n=!0,v(u,(function(e){e()}))}),300)}(window);</script><script>
        loadJS({
            test: Ibles.isLoggedIn,
            success: ["/assets/BUNDLES/ible_desktop_logged_in_js.min.js?c=19d24c9993"],
            failure: ["/assets/BUNDLES/ible_desktop_logged_out_js.min.js?c=19d24c9993"],
            callback: function() {
                
                var model = new Ibles.models.InstructableModel(_.extend({
                    disableComments: false,
                    allSteps: true,
                    fetchUserData: true,
                    fetchStats: true
                }, Ibles.pageContext.ibleData));

                var view = new Ibles.views.DesktopInstructableView({
                    el: ".instructable",
                    model: model
                });
                
            }
        });
    </script><script>
    // redirect if framed and browser does not respect CSP
    if (window.self !== window.top) window.top.location = window.self.location

    

    deferJS(function() {
        
        window.globalScripts = !Ibles.isLoggedIn ?
            ["/assets/BUNDLES/global_desktop_logged_out_bs2_js.min.js?c=19d24c9993"]:
            ["/assets/BUNDLES/global_desktop_logged_in_bs2_js.min.js?c=19d24c9993"];
        

        head.load(globalScripts.concat(pageScripts), function(){
            execCallbackQueue(loadJsQueue, loadJS);
        });
    });
</script><script type="text/javascript">
    (function(a,b,c,d){
        a='https://tags.tiqcdn.com/utag/autodesk/micro-basic/prod/utag.js';
        b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;
        a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
    })();
</script><iframe id="waf_wads" height="1" width="1" style="display:none" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/wads.html"></iframe><script type="text/javascript" async="" charset="utf-8" id="tagsOptOut" src="./How to Make a USB Laptop Keyboard Controller _ 23 Steps - Instructables_files/utag.tagsOptOut.js"></script></body></html>